{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/menu/Menus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/menu/Menus.vue","mtime":1665995886867},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IG1lbnVBcGkgZnJvbSAnQC9hcGkvTWVudUFwaSc7CgppbXBvcnQgQ29udGVudEFwaSBmcm9tICdAL2FwaS9Db250ZW50QXBpJzsKaW1wb3J0IEJvYXJkQXBpIGZyb20gJ0AvYXBpL0JvYXJkQXBpJzsKCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmltcG9ydCBMaXF1b3JUcmVlIGZyb20gJ2xpcXVvci10cmVlJzsKaW1wb3J0IHZ1ZTJEcm9wem9uZSBmcm9tICd2dWUyLWRyb3B6b25lJwppbXBvcnQgJ3Z1ZTItZHJvcHpvbmUvZGlzdC92dWUyRHJvcHpvbmUubWluLmNzcycKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBbTGlxdW9yVHJlZS5uYW1lXTogTGlxdW9yVHJlZSwKICAgIHZ1ZURyb3B6b25lOiB2dWUyRHJvcHpvbmUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW51OiB7CiAgICAgICAgbWVudU5hbWU6IG51bGwsCiAgICAgICAgbWVudUltYWdlOiBudWxsLAogICAgICAgIG1lbnVUeXBlOiAiVFlQRV9MSU5LIiwKICAgICAgICB1cmw6IG51bGwsCiAgICAgICAgYWN0aXZhdGVkOiBudWxsLAogICAgICAgIHByb3RlY3RlZDogbnVsbCwKICAgICAgICBjb250ZW50SWQ6IG51bGwsCiAgICAgICAgYm9hcmRJZDogbnVsbAogICAgICB9LAogICAgICByb3dzOiBbXSwKICAgICAgdHJlZUZpbHRlcjogbnVsbCwKICAgICAgYXR0YWNobWVudFBhdGg6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX0ZJTEVfU0VSVkVSX1VSTCwKICAgICAgc2VhcmNoS2V5d29yZDogbnVsbCwKICAgICAgc3RhbmRhbG9uZUlkczpbXSwKICAgICAgZXhjZXB0ZWRJZHM6W10sCiAgICAgIHNlYXJjaE9wZW46W10sCiAgICAgIGxhc3RPcGVuOiBbXSwKICAgICAgYWxsT3BlbmVkOiBmYWxzZSwKICAgICAgdGFiOiBudWxsLAogICAgICBydWxlcywKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgYnJlYWRjcnVtYnM6IFt7CiAgICAgICAgdGV4dDogJ+uplOuJtCDqtIDrpqwnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBocmVmOiAnIycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfrqZTribQg66qp66GdJwogICAgICB9XSwKICAgICAgd2FpdGluZ1NlYXJjaDogZmFsc2UsCiAgICAgIG1lc3NhZ2U6ewogICAgICAgIGVycm9yOicnLAogICAgICAgIHN1Y2Nlc3M6JycKICAgICAgfSwKICAgICAgb3B0aW9uczp7CiAgICAgICAgc2l6ZTogMTAKICAgICAgfSwKICAgICAgcGFyYW06e30sCiAgICAgIHRvdGFsSXRlbXM6MCwKICAgICAgZGF0YXNldHM6IFtdLAogICAgICBjb21wYW5pb25OYW1lOnt9LAogICAgICBvcmlnaW46e30sCgogICAgICBoYXNNZW51czogW10sCiAgICAgIG1lbnVzOiBbXSwKICAgICAgdHJlZU9wdGlvbnM6IHsKICAgICAgICBwYXJlbnRTZWxlY3Q6IHRydWUsCiAgICAgICAgLy8gcHJvcGVydHlOYW1lczogewogICAgICAgIC8vICAgc3RhdGVzOiAnb3B0aW9ucycsCiAgICAgICAgLy8gICB0ZXh0OiAidGV4dCIsCiAgICAgICAgLy8gICBjaGlsZHJlbjogImNoaWxkcmVuIgogICAgICAgIC8vIH0sCiAgICAgICAgZG5kOnRydWUsCiAgICAgICAgY2hlY2tib3g6IGZhbHNlLAogICAgICAgIGZpbHRlcjogewogICAgICAgICAgbWF0Y2hlcihxdWVyeSwgbm9kZSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChxdWVyeSwgJ2knKS50ZXN0KG5vZGUuZGF0YS5tZW51TmFtZSkKICAgICAgICAgIH0sCiAgICAgICAgICBlbXB0eVRleHQ6ICfsnbzsuZjtlZjripQg66mU64m06rCAIOyXhuyKteuLiOuLpC4nLAogICAgICAgICAgcGxhaW5MaXN0OiB0cnVlLAogICAgICAgICAgc2hvd0NoaWxkcmVuOiB0cnVlCgogICAgICAgIH0sCiAgICAgIH0sCgogICAgICBwYXJlbnQ6IHt9LAogICAgICBpc01vZGlmeTogZmFsc2UsCiAgICAgIHRyZWVJdGVtOiBudWxsLAogICAgICBzZWFyY2hSb2xlSWQ6bnVsbCwKCiAgICAgIGJvYXJkczogW10sCiAgICAgIGNvbnRlbnRzOiBbXQoKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkcm9wem9uZU9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0dXX1VSTH0vbWVudXMvbWVudS9pbWFnZS91cGxvYWRgLAogICAgICAgIHRodW1ibmFpbEhlaWdodDogMTEwLAogICAgICAgIHRodW1ibmFpbFdpZHRoOiAxNDAsCiAgICAgICAgbWF4RmlsZXNpemU6IDEwLCAvLyBtYgogICAgICAgIG1heEZpbGVzOiAyLAogICAgICAgIC8vIGFjY2VwdGVkRmlsZVR5cGVzOiAiaW1hZ2UvKiIsCiAgICAgICAgYWNjZXB0ZWRGaWxlczogImltYWdlLyoiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYGJlYXJlciAke3RoaXM/LiRzdG9yZT8uZ2V0dGVycz8uWyJ1c2VyL3Rva2VuIl0gPz8gJyd9YAogICAgICAgIH0sCiAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLAogICAgICAgIGNsaWNrYWJsZTogdHJ1ZSwKICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZQogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogIH0sCiAgbWV0aG9kczogewogICAgZHJvcHpvbmVVcGxvYWRTdWNjZXNzKHVwbG9hZGVkRmlsZUluZm8sIHJlcykgewoKICAgICAgY29uc3QgcmVqZWN0ZWRGaWxlcyA9IHRoaXMuJHJlZnMubWVudUltYWdlRHJvcHpvbmUuZ2V0UmVqZWN0ZWRGaWxlcygpCiAgICAgIGZvciAoY29uc3QgZiBvZiByZWplY3RlZEZpbGVzKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51SW1hZ2VEcm9wem9uZS5yZW1vdmVGaWxlKGYpOwogICAgICB9CgogICAgICBjb25zdCBhY2NlcHRlZEZpbGVzID0gdGhpcy4kcmVmcy5tZW51SW1hZ2VEcm9wem9uZS5nZXRBY2NlcHRlZEZpbGVzKCk7CiAgICAgIGZvciAoY29uc3QgZiBvZiBhY2NlcHRlZEZpbGVzKSB7CiAgICAgICAgaWYoZiAhPT0gdXBsb2FkZWRGaWxlSW5mbykKICAgICAgICAgIHRoaXMuJHJlZnMubWVudUltYWdlRHJvcHpvbmUucmVtb3ZlRmlsZShmKTsKICAgICAgfQoKICAgICAgdGhpcy5tZW51Lm1lbnVJbWFnZSA9IHJlcy5zYXZlTmFtZQoKICAgIH0sCiAgICBkcm9wem9uZVVwbG9hZENvbXBsZXRlU3VjY2VzcyhyZXNwb25zZSkgewoKICAgICAgaWYoIXJlc3BvbnNlLmFjY2VwdGVkKSB7CiAgICAgICAgY29uc3QgYWNjZXB0ZWRGaWxlcyA9IHRoaXMuJHJlZnMubWVudUltYWdlRHJvcHpvbmUuZ2V0QWNjZXB0ZWRGaWxlcygpCiAgICAgICAgY29uc3QgcmVqZWN0ZWRGaWxlcyA9IHRoaXMuJHJlZnMubWVudUltYWdlRHJvcHpvbmUuZ2V0UmVqZWN0ZWRGaWxlcygpCiAgICAgICAgY29uc3QgYWxsRmlsZSA9IFsuLi5hY2NlcHRlZEZpbGVzLCAuLi5yZWplY3RlZEZpbGVzXQogICAgICAgIGZvciAoY29uc3QgZiBvZiBhbGxGaWxlKSB7CiAgICAgICAgICBpZihmICE9PSByZXNwb25zZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzLm1lbnVJbWFnZURyb3B6b25lLnJlbW92ZUZpbGUoZik7IC8vIGNhbGxiYWNrIC0+IGltYWdlUmVtb3ZlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1lbnUubWVudUltYWdlKTsKICAgIH0sCiAgICBkcm9wem9uZVJlbW92ZSgpIHsKICAgICAgdGhpcy5tZW51Lm1lbnVJbWFnZSA9IG51bGw7CiAgICB9LAogICAgZHJvcHpvbmVQcm9jZXNzaW5nKCkgewogICAgICB0aGlzLiRyZWZzLm1lbnVJbWFnZURyb3B6b25lLnNldE9wdGlvbignaGVhZGVycycsIHtBdXRob3JpemF0aW9uOiBgYmVhcmVyICR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiWC1Ub2tlbiIpID8/ICcnfWB9KQogICAgfSwKCgogICAgdXBsb2FkZWRSZW1vdmUoKSB7CiAgICAgIHRoaXMubWVudS5tZW51SW1hZ2UgPSBudWxsOwogICAgfSwKCiAgICBhc3luYyBjaGFuZ2VUcmVlRGF0YShtZW51Q2F0ZWdvcnkpIHsKICAgICAgdGhpcy4kcmVmcz8ubWVudUZvcm0/LnJlc2V0VmFsaWRhdGlvbigpOwoKICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5tZW51Rm9ybSk7CgogICAgICB0aGlzLm1lbnUgPSB7CiAgICAgICAgbWVudUNhdGVnb3J5OiBtZW51Q2F0ZWdvcnkKICAgICAgfQogICAgICB0aGlzLnBhcmVudCA9IHt9CiAgICAgIHRoaXMudHJlZVZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5tZW51cyA9IGF3YWl0IHRoaXMubG9hZFRyZWVEYXRhKG1lbnVDYXRlZ29yeSk7CiAgICAgIHRoaXMudHJlZVZpc2libGUgPSB0cnVlOwoKICAgICAgdGhpcy4kcmVmcy5tZW51VHJlZS5zZXRNb2RlbCh0aGlzLm1lbnVzKQogICAgICAvLyB0aGlzLiRyZWZzLm1lbnVUcmVlLmV4cGFuZEFsbCgpCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWVudXMpCiAgICB9LAogICAgYXN5bmMgZ2V0TWVudShub2RlKSB7CgogICAgICB0aGlzLiRyZWZzLm1lbnVJbWFnZURyb3B6b25lPy5yZW1vdmVBbGxGaWxlcygpCgogICAgICBpZihub2RlLnN0YXRlcy5zZWxlY3RlZCkgewoKICAgICAgICBhd2FpdCBub2RlLnNlbGVjdChmYWxzZSk7CiAgICAgICAgbm9kZS51bnNlbGVjdCgpOwoKICAgICAgICB0aGlzLnRyZWVJdGVtID0gbm9kZTsKICAgICAgICB0aGlzLm1lbnUgPSB7J21lbnVDYXRlZ29yeScgOiB0aGlzLm1lbnU/Lm1lbnVDYXRlZ29yeT8/Jyd9CiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsOwogICAgICAgIHRoaXMuaXNNb2RpZnkgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLm1lbnVGb3JtLnJlc2V0VmFsaWRhdGlvbigpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50cmVlSXRlbSA9IG5vZGU7CiAgICAgICAgdGhpcy5tZW51ID0gYXdhaXQgbWVudUFwaS5maW5kTWVudUJ5SWQobm9kZS5kYXRhLmlkKTsKICAgICAgICB0aGlzLnBhcmVudCA9IF8uY2xvbmVEZWVwKHRoaXMubWVudSk7CiAgICAgICAgdGhpcy5pc01vZGlmeSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVNZW51Rm9ybSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5tZW51Lm1lbnVDYXRlZ29yeSk7CgogICAgICB0aGlzLm1lbnUgPSB7CiAgICAgICAgbWVudUNhdGVnb3J5OiB0aGlzLm1lbnUubWVudUNhdGVnb3J5ID8/ICdIT01FJwogICAgICB9CiAgICAgIHRoaXMuaXNNb2RpZnkgPSBmYWxzZQogICAgfSwKICAgIGFzeW5jIHNhdmVkTWVudSgpIHsKCiAgICAgIGlmICghYXdhaXQgdGhpcy4kcmVmcy5tZW51Rm9ybS52YWxpZGF0ZSgpKQogICAgICAgIHJldHVybjsKCiAgICAgIGlmKCF0aGlzLm1lbnUucGFyZW50SWQgJiYgIXRoaXMuaXNNb2RpZnkpCiAgICAgICAgdGhpcy5tZW51LnBhcmVudElkID0gdGhpcy5wYXJlbnQ/LmlkOwoKICAgICAgdGhpcy5tZW51Lm1lbnVDYXRlZ29yeSA9IHRoaXMubWVudS5tZW51Q2F0ZWdvcnk/PydIT01FJwogICAgICBtZW51QXBpLnNhdmVNZW51KHRoaXMubWVudSkudGhlbihhc3luYyBzYXZlZE1lbnUgPT4gewogICAgICAgIGlmKHRoaXMuZmxhdExpc3QodGhpcy4kcmVmcy5tZW51VHJlZS5maW5kQWxsKCkudHJlZS5tb2RlbCkubWFwKHQgPT4gdC5kYXRhLmlkKS5pbmNsdWRlcyhzYXZlZE1lbnUuaWQpKSB7CgogICAgICAgICAgdGhpcy50cmVlSXRlbS5kYXRhLm1lbnVOYW1lID0gc2F2ZWRNZW51Lm1lbnVOYW1lOwogICAgICAgICAgdGhpcy50cmVlSXRlbS5kYXRhLmFjdGl2YXRlZCA9IHNhdmVkTWVudS5hY3RpdmF0ZWQ7CiAgICAgICAgICB0aGlzLnRyZWVJdGVtLnRleHQgPSBzYXZlZE1lbnUubWVudU5hbWU7CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgbGV0IGl0ZW0gPSB7CiAgICAgICAgICAgIHRleHQ6IHNhdmVkTWVudS5tZW51TmFtZSwKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIGlkOiBzYXZlZE1lbnUuaWQsCiAgICAgICAgICAgICAgbWVudU5hbWU6IHNhdmVkTWVudS5tZW51TmFtZSwKICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IHNhdmVkTWVudS5hY3RpdmF0ZWQsCiAgICAgICAgICAgICAgcHJvdGVjdGVkOiBzYXZlZE1lbnUucHJvdGVjdGVkLAogICAgICAgICAgICAgIHRleHQ6IHNhdmVkTWVudS5tZW51TmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgICBtZW51TmFtZTogc2F2ZWRNZW51Lm1lbnVOYW1lLAogICAgICAgICAgICBzdGF0ZToge3NlbGVjdGVkOiBmYWxzZX0KICAgICAgICAgIH07CgogICAgICAgICAgaWYoc2F2ZWRNZW51LnBhcmVudElkKSB7CiAgICAgICAgICAgIHRoaXMudHJlZUl0ZW0uc3RhdGVzLmV4cGFuZGVkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHRoaXMuJHJlZnMubWVudVRyZWUuZmluZCh7CiAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgaWQ6IHNhdmVkTWVudS5wYXJlbnRJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSlbMF07CgogICAgICAgICAgICBwYXJlbnROb2RlLmFwcGVuZChpdGVtKTsKICAgICAgICAgICAgLy8gdGhpcy50cmVlSXRlbSA9IHRoaXMuJHJlZnMubWVudVRyZWUuYXBwZW5kKHBhcmVudE5vZGUsIGl0ZW0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tIikKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbSk7CiAgICAgICAgICAgIHRoaXMudHJlZUl0ZW0gPSBhd2FpdCB0aGlzLiRyZWZzLm1lbnVUcmVlLmFwcGVuZChpdGVtKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50cmVlSXRlbSk7CiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuY2hhbmdlVHJlZURhdGEoc2F2ZWRNZW51Lm1lbnVDYXRlZ29yeSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLm1lbnUgPSBzYXZlZE1lbnU7CiAgICAgICAgdGhpcy5tZW51LmNoaWxkTWVudXMgPSBbXTsKCiAgICAgICAgdGhpcy5tZW51ID0gYXdhaXQgbWVudUFwaS5maW5kTWVudUJ5SWQoc2F2ZWRNZW51LmlkKTsKICAgICAgICB0aGlzLmlzTW9kaWZ5ID0gdHJ1ZTsKCiAgICAgICAgYWxlcnQoIuyggOyepeuQmOyXiOyKteuLiOuLpC4iKQogICAgICB9KTsKCiAgICB9LAogICAgZGVsZXRlTWVudSgpIHsKICAgICAgaWYgKHRoaXMubWVudS5jaGlsZE1lbnVzPy5sZW5ndGggPz8gMCAhPT0gMCkgewogICAgICAgIGFsZXJ0KCLtlZjsnIQg66mU64m06rCAIOyhtOyerO2VqeuLiOuLpC4iKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKGNvbmZpcm0oIu2VtOuLuSDrqZTribTrpbwg7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPyIpKSB7CiAgICAgICAgbWVudUFwaS5kZWxldGVNZW51KHRoaXMubWVudS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLm1lbnVGb3JtLnJlc2V0VmFsaWRhdGlvbigpOwoKICAgICAgICAgIHRoaXMubWVudSA9IHt9OwogICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsOwogICAgICAgICAgdGhpcy50cmVlSXRlbS5yZW1vdmUoKTsKICAgICAgICAgIHRoaXMuaXNNb2RpZnkgPSBmYWxzZTsKCiAgICAgICAgICBhbGVydCgi7IKt7KCc65CY7JeI7Iq164uI64ukLiIpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICB9LAogICAgYXN5bmMgcmVzZXRNZW51KGlkKSB7CiAgICAgIGlmKGlkKSB7CiAgICAgICAgdGhpcy5tZW51ID0gYXdhaXQgbWVudUFwaS5maW5kTWVudUJ5SWQoaWQpOwogICAgICAgIHRoaXMucGFyZW50ID0gXy5jbG9uZURlZXAodGhpcy5tZW51KTsKICAgICAgICB0aGlzLmlzTW9kaWZ5ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1lbnUgPSB7fQogICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDsKICAgICAgICB0aGlzLmlzTW9kaWZ5ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51Rm9ybS5yZXNldFZhbGlkYXRpb24oKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgbW92ZU1lbnUoc291cmNlTm9kZSwgZGVzdGluYXRpb25Ob2RlLCBwb3MpIHsKICAgICAgbGV0IHBvc2l0aW9uID0gbmV3IE1hcCgpOwogICAgICBwb3NpdGlvbi5zZXQoJ2RyYWctYWJvdmUnLCAnVVAnKTsKICAgICAgcG9zaXRpb24uc2V0KCdkcmFnLWJlbG93JywgJ0RPV04nKTsKICAgICAgcG9zaXRpb24uc2V0KCdkcmFnLW9uJywgJ0lOJyk7CgogICAgICBhd2FpdCBtZW51QXBpLm1vdmVNZW51KHNvdXJjZU5vZGUuZGF0YS5pZCwgZGVzdGluYXRpb25Ob2RlLmRhdGEuaWQsIHBvc2l0aW9uLmdldChwb3MpKTsKICAgIH0sCiAgICBmbGF0TGlzdChpdGVtcykgewogICAgICBjb25zb2xlLmxvZyhpdGVtcyk7CiAgICAgIGlmKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gaXRlbXMuZmxhdE1hcChpID0+IHsKCiAgICAgICAgICBpZihpLmNoaWxkcmVuICYmIGkuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgICByZXR1cm4gW3RoaXMuZmxhdExpc3QoaS5jaGlsZHJlbiksIGldLmZsYXRNYXAoaT0+aSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gW2ldCiAgICAgICAgICB9CgogICAgICAgIH0pOwogICAgICB9IGVsc2UKICAgICAgICByZXR1cm4gW107CiAgICB9LAogICAgYXN5bmMgbG9hZFRyZWVEYXRhKGNhdGVnb3J5KSB7CiAgICAgIGxldCB0ZW1wID0gYXdhaXQgbWVudUFwaS5maW5kTWVudXNCeUNhdGVnb3J5KGNhdGVnb3J5KTsKICAgICAgdGVtcC5mb3JFYWNoKHQgPT4gdGhpcy5yZWN1cnNpdmVHZW5lcmF0ZWRUcmVlKHQsIDEpKTsKICAgICAgcmV0dXJuIHRlbXA7CiAgICB9LAogICAgcmVjdXJzaXZlR2VuZXJhdGVkVHJlZShpdGVtLCBkZXB0aCkgewogICAgICBpdGVtLmRhdGEgPSB7CiAgICAgICAgaWQgOiBpdGVtLmlkLAogICAgICAgIG1lbnVOYW1lIDogaXRlbS5tZW51TmFtZSwKICAgICAgICBtZW51SWNvbiA6IGl0ZW0ubWVudUljb24sCiAgICAgICAgYWN0aXZhdGVkIDogaXRlbS5hY3RpdmF0ZWQsCiAgICAgICAgcHJvdGVjdGVkOiBpdGVtLnByb3RlY3RlZAogICAgICB9OwogICAgICBpdGVtLnRleHQgPSBpdGVtLm1lbnVOYW1lOwoKCiAgICAgIC8vIGl0ZW0ub3B0aW9ucyA9IHtleHBhbmRlZDogdHJ1ZSwgZHJvcGFibGU6IHRydWUsIGRyYWdnYWJsZTogdHJ1ZX07CiAgICAgIGl0ZW0uc3RhdGUgPSB7ZXhwYW5kZWQ6IHRydWUsIGRyb3BhYmxlOiB0cnVlLCBkcmFnZ2FibGU6IHRydWV9OwogICAgICBpdGVtLmNoaWxkTWVudXM/LmZvckVhY2godCA9PiB0aGlzLnJlY3Vyc2l2ZUdlbmVyYXRlZFRyZWUodCwgZGVwdGgrMSkpOwogICAgICBpdGVtLmNoaWxkcmVuID0gaXRlbS5jaGlsZE1lbnVzCgoKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRUcmVlRGF0YSgnSE9NRScpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgIHRoaXMubWVudXMgPSB0aGlzLiRyZWZzLm1lbnVUcmVlLnRyZWUucGFyc2UoZGF0YSk7CiAgICAgIC8vIHRoaXMuJHNldCh0aGlzLiRyZWZzLm1lbnVUcmVlLCAnbW9kZWwnLCB0aGlzLm1lbnVzKTsKICAgICAgdGhpcy4kcmVmcy5tZW51VHJlZS5zZXRNb2RlbCh0aGlzLm1lbnVzKQogICAgICB0aGlzLiRyZWZzLm1lbnVUcmVlLmV4cGFuZEFsbCgpCiAgICB9KTsKCiAgICAvLyBjb25zdCBhZG1pblRyZWUgPSB0aGlzLiRyZWZzLmFkbWluTWVudVRyZWUudHJlZQoKICAgIC8vIHRoaXMubG9hZFRyZWVEYXRhKCdBRE1JTicpLnRoZW4oZGF0YSA9PiB7CiAgICAvLyAgIHRoaXMuYWRtaW5NZW51cyA9IHRoaXMuJHJlZnMuYWRtaW5NZW51VHJlZS50cmVlLnBhcnNlKGRhdGEpOwogICAgLy8gICB0aGlzLiRzZXQodGhpcy4kcmVmcy5hZG1pbk1lbnVUcmVlLCAnbW9kZWwnLCB0aGlzLmFkbWluTWVudXMpOwogICAgLy8gfSk7CgogICAgLy8gdGhpcy5tZW51cyA9IGF3YWl0IHRoaXMubWVudXM7CiAgfSwKICBjcmVhdGVkKCkgewogICAgQ29udGVudEFwaS5maW5kQ29udGVudHMoKS50aGVuKGRhdGEgPT4gewogICAgICB0aGlzLmNvbnRlbnRzID0gZGF0YS5jb250ZW50LmZpbHRlcihwID0+IHAuYWN0aXZhdGVkKTsKICAgIH0pOwogICAgQm9hcmRBcGkuZmluZEFsbCgpLnRoZW4oZGF0YSA9PiB7CiAgICAgIHRoaXMuYm9hcmRzID0gZGF0YTsKICAgIH0pCiAgfQp9Cg=="},{"version":3,"sources":["Menus.vue"],"names":[],"mappings":";AAsRA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menus.vue","sourceRoot":"src/apps/menu","sourcesContent":["<template>\n  <div class=\"d-flex flex-column flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\">메뉴 관리</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn color=\"red\" dark @click=\"deleteMenu\" v-if=\"isModify\" style=\"margin-right: 1rem\">\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제\n      </v-btn>\n      <v-btn @click=\"resetMenu(menu.id)\">\n        <v-icon left>mdi-refresh</v-icon>\n        리셋\n      </v-btn>\n      <v-btn color=\"indigo\" @click=\"savedMenu\" style=\"margin-left: 1rem\" dark>\n        <v-icon left>mdi mdi-content-save</v-icon>\n        저장\n      </v-btn>\n    </div>\n\n    <v-row>\n      <v-col md=\"3\">\n\n        <v-card>\n          <v-card-title>메뉴 목록</v-card-title>\n          <v-card-text>\n\n            <v-card-actions class=\"justify-end\">\n              <v-btn color=\"primary\" @click=\"createMenuForm\">\n                <v-icon small>mdi-plus</v-icon>\n                메뉴 추가\n              </v-btn>\n            </v-card-actions>\n\n            <div class=\"flex-column flex-sm-row\">\n\n              <v-tabs>\n                <v-tab @click=\"changeTreeData('HOME')\">HOME</v-tab>\n                <v-tab @click=\"changeTreeData('ADMIN')\">ADMIN</v-tab>\n<!--                <v-tab @click=\"changeTreeData('MOBILE')\">MOBILE</v-tab>-->\n              </v-tabs>\n\n              <v-text-field v-model=\"treeFilter\" label=\"검색할 메뉴명을 입력해주세요.\" dense clearable outlined style=\"padding-top: 10px \"/>\n              <tree\n                ref=\"menuTree\"\n                :filter=\"treeFilter\"\n                :options=\"treeOptions\"\n                @node:clicked=\"getMenu\"\n                @node:dragging:finish=\"moveMenu\"\n              >\n\n                <span slot-scope=\"{ node }\">\n    <!--              <template v-if=\"!node.hasChildren()\">-->\n                  <!--                <i :class=\"[node.data.activated ? 'fa fa-check-circle' : 'fa fa-ban']\"></i>-->\n                  <!--                {{ node.text }}-->\n                  <!--              </template>-->\n\n                  <!--              <template v-else>-->\n                  <v-btn text>\n    <!--                <i :class=\"[node.data.menuIcon ? node.data.menuIcon : node.data.activated ? 'fa fa-check-circle' : 'fa fa-ban']\"></i>-->\n                    <v-icon small left>{{ node.data.menuIcon ? node.data.menuIcon : node.data.activated ? 'fa fa-check-circle' : 'fa fa-ban' }}</v-icon>\n                    {{ node.text }}\n                    <v-icon small right>{{ node.data.protected ? 'mdi mdi-lock' : 'mdi mdi-lock-open-outline' }}</v-icon>\n                  </v-btn>\n\n                </span>\n\n              </tree>\n\n              <v-card-actions class=\"justify-end\">\n                <v-btn color=\"primary\" @click=\"createMenuForm\">\n                  <v-icon small>mdi-plus</v-icon>\n                  메뉴 추가\n                </v-btn>\n              </v-card-actions>\n\n            </div>\n          </v-card-text>\n        </v-card>\n\n      </v-col>\n\n      <v-col md=\"9\">\n        <v-card>\n          <v-card-title>{{ isModify ? '메뉴 수정' : '메뉴 추가'}}</v-card-title>\n          <!-- names -->\n          <v-form ref=\"menuForm\">\n<!--            <div class=\"d-flex\">-->\n\n            <div class=\"d-flex\">\n              <v-col sm=\"4\">\n\n                <v-row v-if=\"!isModify && parent && Object.keys(parent).length > 0\">\n                  <v-col>\n                    상위 메뉴\n                    <div style=\"padding-left: 22px\">\n                      {{ parent.menuName }}\n                    </div>\n                  </v-col>\n                </v-row>\n\n                <vue-dropzone\n                  v-if=\"!menu.menuCategory || menu.menuCategory === 'HOME' \"\n                  ref=\"menuImageDropzone\"\n                  id=\"dropzone\"\n                  :style=\"'background-color: #ffffff !important;'\"\n                  :options=\"dropzoneOptions\"\n                  :useCustomSlot=\"true\"\n                  @vdropzone-success=\"dropzoneUploadSuccess\"\n                  @vdropzone-complete=\"dropzoneUploadCompleteSuccess\"\n                  @vdropzone-removed-file=\"dropzoneRemove\"\n                  @vdropzone-processing=\"dropzoneProcessing\"\n                >\n                  <div v-if=\"menu.menuImage\" style=\"margin-top: -40px; max-height: 197px\">\n                    <v-badge\n                      bordered\n                      dark\n                      color=\"black\"\n                      icon=\"mdi-delete\"\n                      overlap\n                      @click.native=\"dropzoneRemove\"\n                    >\n                      <v-img :src=\"`${attachmentPath}/menu/${menu.menuImage}`\" max-width=\"200\" max-height=\"150\"/>\n                    </v-badge>\n                  </div>\n                  <div v-else class=\"dropzone-custom-content\">\n                    <h3 class=\"dropzone-custom-title\">메뉴 이미지</h3>\n                    <div class=\"subtitle\">Drag and drop or click to select a file from your computer</div>\n                  </div>\n                </vue-dropzone>\n\n                <v-row v-if=\"menu.menuCategory === 'ADMIN' \">\n                  <v-col>\n<!--                    메뉴 icon css-->\n                    <v-text-field v-model=\"menu.menuIcon\" label=\"메뉴 icon\"\n                                  dense clearable required\n                                  maxlength=\"100\">\n                      <v-icon\n                        slot=\"prepend\"\n\n                      >{{menu.menuIcon}}</v-icon>\n                    </v-text-field>\n                  </v-col>\n                </v-row>\n\n              </v-col>\n\n              <v-col sm=\"8\">\n                <v-row>\n                  <v-col>\n                    메뉴 명\n                    <div style=\"padding-left: 22px\">\n                        <v-text-field v-model=\"menu.menuName\" label=\"메뉴 명을 입력해주세요.\"\n                                      dense clearable required outlined\n                                      maxlength=\"100\"\n                                      :rules=\"[() => !!menu.menuName || '메뉴 명을 입력해주세요.']\"/>\n                    </div>\n                  </v-col>\n                </v-row>\n\n                <v-row>\n                  <v-col cols=\"6\">\n                    메뉴 사용 여부\n                    <div style=\"padding-left: 22px\">\n                      <v-switch\n                        v-model=\"menu.activated\"\n                        flat\n                        color=\"primary\"\n                        :label=\"menu.activated ? '메뉴 사용' : '메뉴 사용 안함'\"\n                      ></v-switch>\n                    </div>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    접근 제어\n                    <div style=\"padding-left: 22px\">\n                      <v-switch\n                        v-model=\"menu.protected\"\n                        flat\n                        color=\"primary\"\n                        :label=\"menu.protected ? '권한 필요' : '공개'\"\n                      ></v-switch>\n                    </div>\n                  </v-col>\n                </v-row>\n\n              </v-col>\n            </div>\n<!--            </div>-->\n\n            <div class=\"d-flex\">\n              <v-col sm=\"4\">\n                메뉴 타입\n                <div style=\"padding-left: 22px;\" class=\"d-flex\">\n                  <v-checkbox v-model=\"menu.menuType\" value=\"TYPE_BOARD\" label=\"게시판\" style=\"padding-right: 10px\" :rules=\"[() => !!menu.menuType || '메뉴타입을 선택해주세요.']\"></v-checkbox>\n                  <v-checkbox v-model=\"menu.menuType\" value=\"TYPE_PAGE\" label=\"정적페이지\" style=\"padding-right: 10px\" :rules=\"[() => !!menu.menuType || '메뉴타입을 선택해주세요.']\"></v-checkbox>\n                  <v-checkbox v-model=\"menu.menuType\" value=\"TYPE_LINK\" label=\"URL\" :rules=\"[() => !!menu.menuType || '메뉴타입을 선택해주세요.']\"></v-checkbox>\n                  <v-checkbox v-model=\"menu.menuType\" value=\"TYPE_BLANK\" label=\"빈메뉴\" :rules=\"[() => !!menu.menuType || '메뉴타입을 선택해주세요.']\"></v-checkbox>\n                </div>\n\n              </v-col>\n              <v-col sm=\"8\">\n                메뉴 연결\n                <div style=\"padding-left: 22px;\" class=\"d-flex\">\n\n                  <v-autocomplete :items=\"boards\"\n                                  item-value=\"id\"\n                                  item-text=\"boardName\"\n                                  label=\"게시판을 선택해주세요.\"\n                                  dense clearable flat\n                                  outlined required\n                                  v-model=\"menu.boardId\"\n                                  :rules=\"[rules.common.required]\"\n                                  v-if=\"menu.menuType && menu.menuType === 'TYPE_BOARD'\"\n                  />\n                  <v-autocomplete :items=\"contents\" item-value=\"id\" item-text=\"title\"\n                                  label=\"페이지를 선택해주세요.\"\n                                  dense clearable flat\n                                  outlined required\n                                  v-model=\"menu.contentId\"\n                                  :rules=\"[rules.common.required]\"\n                                  v-if=\"menu.menuType && menu.menuType === 'TYPE_PAGE'\"\n                  />\n                  <v-text-field v-model=\"menu.url\" label=\"URL 을 입력해주세요.\"\n                                dense clearable required outlined\n                                maxlength=\"255\"\n                                :rules=\"[() => !!menu.url || 'URL 을 입력해주세요.']\"\n                                v-if=\"menu.menuType && menu.menuType === 'TYPE_LINK'\"/>\n\n                </div>\n              </v-col>\n            </div>\n\n<!--            <v-card-actions>-->\n<!--              <v-spacer></v-spacer>-->\n\n<!--              <v-btn color=\"red\" @click=\"deleteMenu\" v-if=\"isModify\">-->\n<!--                <v-icon left>mdi mdi-delete</v-icon>-->\n<!--                삭제-->\n<!--              </v-btn>-->\n<!--              <v-btn color=\"indigo\" @click=\"savedMenu\">-->\n<!--                <v-icon left>mdi mdi-content-save</v-icon>-->\n<!--                저장-->\n<!--              </v-btn>-->\n<!--              <v-btn @click=\"resetMenu(menu.id)\">-->\n<!--                <v-icon small>mdi-refresh</v-icon>-->\n<!--                취소-->\n<!--              </v-btn>-->\n\n<!--            </v-card-actions>-->\n          </v-form>\n\n        </v-card>\n        <div class=\"d-flex flex-column flex-grow-1\">\n          <div class=\"d-flex align-center py-3\">\n            <v-spacer></v-spacer>\n            <v-btn color=\"red\" dark @click=\"deleteMenu\" v-if=\"isModify\" style=\"margin-right: 1rem\">\n              <v-icon left>mdi mdi-delete</v-icon>\n              삭제\n            </v-btn>\n            <v-btn @click=\"resetMenu(menu.id)\">\n              <v-icon left>mdi-refresh</v-icon>\n              리셋\n            </v-btn>\n            <v-btn color=\"indigo\" @click=\"savedMenu\" style=\"margin-left: 1rem\" dark>\n              <v-icon left>mdi mdi-content-save</v-icon>\n              저장\n            </v-btn>\n          </div>\n        </div>\n      </v-col>\n    </v-row>\n\n  </div>\n</template>\n\n<script>\nimport rules from \"@/utils/rules\";\nimport menuApi from '@/api/MenuApi';\n\nimport ContentApi from '@/api/ContentApi';\nimport BoardApi from '@/api/BoardApi';\n\nimport _ from \"lodash\";\nimport LiquorTree from 'liquor-tree';\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\n\nexport default {\n  components: {\n    [LiquorTree.name]: LiquorTree,\n    vueDropzone: vue2Dropzone\n  },\n  data() {\n    return {\n      menu: {\n        menuName: null,\n        menuImage: null,\n        menuType: \"TYPE_LINK\",\n        url: null,\n        activated: null,\n        protected: null,\n        contentId: null,\n        boardId: null\n      },\n      rows: [],\n      treeFilter: null,\n      attachmentPath: process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n      searchKeyword: null,\n      standaloneIds:[],\n      exceptedIds:[],\n      searchOpen:[],\n      lastOpen: [],\n      allOpened: false,\n      tab: null,\n      rules,\n      isLoading: false,\n      breadcrumbs: [{\n        text: '메뉴 관리',\n        disabled: false,\n        href: '#'\n      }, {\n        text: '메뉴 목록'\n      }],\n      waitingSearch: false,\n      message:{\n        error:'',\n        success:''\n      },\n      options:{\n        size: 10\n      },\n      param:{},\n      totalItems:0,\n      datasets: [],\n      companionName:{},\n      origin:{},\n\n      hasMenus: [],\n      menus: [],\n      treeOptions: {\n        parentSelect: true,\n        // propertyNames: {\n        //   states: 'options',\n        //   text: \"text\",\n        //   children: \"children\"\n        // },\n        dnd:true,\n        checkbox: false,\n        filter: {\n          matcher(query, node) {\n            return new RegExp(query, 'i').test(node.data.menuName)\n          },\n          emptyText: '일치하는 메뉴가 없습니다.',\n          plainList: true,\n          showChildren: true\n\n        },\n      },\n\n      parent: {},\n      isModify: false,\n      treeItem: null,\n      searchRoleId:null,\n\n      boards: [],\n      contents: []\n\n    }\n  },\n  computed: {\n    dropzoneOptions() {\n      return {\n        url: `${process.env.VUE_APP_GW_URL}/menus/menu/image/upload`,\n        thumbnailHeight: 110,\n        thumbnailWidth: 140,\n        maxFilesize: 10, // mb\n        maxFiles: 2,\n        // acceptedFileTypes: \"image/*\",\n        acceptedFiles: \"image/*\",\n        headers: {\n          'Authorization': `bearer ${this?.$store?.getters?.[\"user/token\"] ?? ''}`\n        },\n        uploadMultiple: false,\n        clickable: true,\n        addRemoveLinks: true\n      }\n    }\n  },\n  watch: {\n  },\n  methods: {\n    dropzoneUploadSuccess(uploadedFileInfo, res) {\n\n      const rejectedFiles = this.$refs.menuImageDropzone.getRejectedFiles()\n      for (const f of rejectedFiles) {\n        this.$refs.menuImageDropzone.removeFile(f);\n      }\n\n      const acceptedFiles = this.$refs.menuImageDropzone.getAcceptedFiles();\n      for (const f of acceptedFiles) {\n        if(f !== uploadedFileInfo)\n          this.$refs.menuImageDropzone.removeFile(f);\n      }\n\n      this.menu.menuImage = res.saveName\n\n    },\n    dropzoneUploadCompleteSuccess(response) {\n\n      if(!response.accepted) {\n        const acceptedFiles = this.$refs.menuImageDropzone.getAcceptedFiles()\n        const rejectedFiles = this.$refs.menuImageDropzone.getRejectedFiles()\n        const allFile = [...acceptedFiles, ...rejectedFiles]\n        for (const f of allFile) {\n          if(f !== response) {\n            this.$refs.menuImageDropzone.removeFile(f); // callback -> imageRemove\n          }\n        }\n      }\n\n      // console.log(this.menu.menuImage);\n    },\n    dropzoneRemove() {\n      this.menu.menuImage = null;\n    },\n    dropzoneProcessing() {\n      this.$refs.menuImageDropzone.setOption('headers', {Authorization: `bearer ${sessionStorage.getItem(\"X-Token\") ?? ''}`})\n    },\n\n\n    uploadedRemove() {\n      this.menu.menuImage = null;\n    },\n\n    async changeTreeData(menuCategory) {\n      this.$refs?.menuForm?.resetValidation();\n\n      console.log(this.$refs.menuForm);\n\n      this.menu = {\n        menuCategory: menuCategory\n      }\n      this.parent = {}\n      this.treeVisible = false;\n      this.menus = await this.loadTreeData(menuCategory);\n      this.treeVisible = true;\n\n      this.$refs.menuTree.setModel(this.menus)\n      // this.$refs.menuTree.expandAll()\n      // console.log(this.menus)\n    },\n    async getMenu(node) {\n\n      this.$refs.menuImageDropzone?.removeAllFiles()\n\n      if(node.states.selected) {\n\n        await node.select(false);\n        node.unselect();\n\n        this.treeItem = node;\n        this.menu = {'menuCategory' : this.menu?.menuCategory??''}\n        this.parent = null;\n        this.isModify = false;\n        this.$refs.menuForm.resetValidation()\n      } else {\n        this.treeItem = node;\n        this.menu = await menuApi.findMenuById(node.data.id);\n        this.parent = _.cloneDeep(this.menu);\n        this.isModify = true;\n      }\n    },\n    async createMenuForm() {\n      console.log(this.menu.menuCategory);\n\n      this.menu = {\n        menuCategory: this.menu.menuCategory ?? 'HOME'\n      }\n      this.isModify = false\n    },\n    async savedMenu() {\n\n      if (!await this.$refs.menuForm.validate())\n        return;\n\n      if(!this.menu.parentId && !this.isModify)\n        this.menu.parentId = this.parent?.id;\n\n      this.menu.menuCategory = this.menu.menuCategory??'HOME'\n      menuApi.saveMenu(this.menu).then(async savedMenu => {\n        if(this.flatList(this.$refs.menuTree.findAll().tree.model).map(t => t.data.id).includes(savedMenu.id)) {\n\n          this.treeItem.data.menuName = savedMenu.menuName;\n          this.treeItem.data.activated = savedMenu.activated;\n          this.treeItem.text = savedMenu.menuName;\n\n        } else {\n\n          let item = {\n            text: savedMenu.menuName,\n            data: {\n              id: savedMenu.id,\n              menuName: savedMenu.menuName,\n              activated: savedMenu.activated,\n              protected: savedMenu.protected,\n              text: savedMenu.menuName\n            },\n            menuName: savedMenu.menuName,\n            state: {selected: false}\n          };\n\n          if(savedMenu.parentId) {\n            this.treeItem.states.expanded = true;\n            const parentNode = this.$refs.menuTree.find({\n              data: {\n                id: savedMenu.parentId\n              }\n            })[0];\n\n            parentNode.append(item);\n            // this.treeItem = this.$refs.menuTree.append(parentNode, item);\n          } else {\n            // console.log(\"--------------\")\n            // console.log(item);\n            this.treeItem = await this.$refs.menuTree.append(item);\n            // console.log(this.treeItem);\n            // await this.changeTreeData(savedMenu.menuCategory);\n          }\n        }\n\n        this.menu = savedMenu;\n        this.menu.childMenus = [];\n\n        this.menu = await menuApi.findMenuById(savedMenu.id);\n        this.isModify = true;\n\n        alert(\"저장되었습니다.\")\n      });\n\n    },\n    deleteMenu() {\n      if (this.menu.childMenus?.length ?? 0 !== 0) {\n        alert(\"하위 메뉴가 존재합니다.\");\n        return false;\n      }\n      if (confirm(\"해당 메뉴를 삭제하시겠습니까?\")) {\n        menuApi.deleteMenu(this.menu.id).then(() => {\n          this.$refs.menuForm.resetValidation();\n\n          this.menu = {};\n          this.parent = null;\n          this.treeItem.remove();\n          this.isModify = false;\n\n          alert(\"삭제되었습니다.\")\n        });\n      }\n\n    },\n    async resetMenu(id) {\n      if(id) {\n        this.menu = await menuApi.findMenuById(id);\n        this.parent = _.cloneDeep(this.menu);\n        this.isModify = true;\n      } else {\n        this.menu = {}\n        this.parent = null;\n        this.isModify = false;\n        this.$refs.menuForm.resetValidation()\n      }\n    },\n    async moveMenu(sourceNode, destinationNode, pos) {\n      let position = new Map();\n      position.set('drag-above', 'UP');\n      position.set('drag-below', 'DOWN');\n      position.set('drag-on', 'IN');\n\n      await menuApi.moveMenu(sourceNode.data.id, destinationNode.data.id, position.get(pos));\n    },\n    flatList(items) {\n      console.log(items);\n      if(items && items.length > 0) {\n        return items.flatMap(i => {\n\n          if(i.children && i.children.length > 0) {\n            return [this.flatList(i.children), i].flatMap(i=>i);\n          } else {\n            return [i]\n          }\n\n        });\n      } else\n        return [];\n    },\n    async loadTreeData(category) {\n      let temp = await menuApi.findMenusByCategory(category);\n      temp.forEach(t => this.recursiveGeneratedTree(t, 1));\n      return temp;\n    },\n    recursiveGeneratedTree(item, depth) {\n      item.data = {\n        id : item.id,\n        menuName : item.menuName,\n        menuIcon : item.menuIcon,\n        activated : item.activated,\n        protected: item.protected\n      };\n      item.text = item.menuName;\n\n\n      // item.options = {expanded: true, dropable: true, draggable: true};\n      item.state = {expanded: true, dropable: true, draggable: true};\n      item.childMenus?.forEach(t => this.recursiveGeneratedTree(t, depth+1));\n      item.children = item.childMenus\n\n\n    }\n  },\n  mounted() {\n    this.loadTreeData('HOME').then(async data => {\n      this.menus = this.$refs.menuTree.tree.parse(data);\n      // this.$set(this.$refs.menuTree, 'model', this.menus);\n      this.$refs.menuTree.setModel(this.menus)\n      this.$refs.menuTree.expandAll()\n    });\n\n    // const adminTree = this.$refs.adminMenuTree.tree\n\n    // this.loadTreeData('ADMIN').then(data => {\n    //   this.adminMenus = this.$refs.adminMenuTree.tree.parse(data);\n    //   this.$set(this.$refs.adminMenuTree, 'model', this.adminMenus);\n    // });\n\n    // this.menus = await this.menus;\n  },\n  created() {\n    ContentApi.findContents().then(data => {\n      this.contents = data.content.filter(p => p.activated);\n    });\n    BoardApi.findAll().then(data => {\n      this.boards = data;\n    })\n  }\n}\n</script>\n<style>\n/*.tree-node.selected>.tree-content {*/\n/*  background: #314b5f !important;*/\n/*}*/\n/*.tree-node:not(.selected)>.tree-content:hover {*/\n/*  background: none !important;*/\n/*}*/\n</style>\n"]}]}