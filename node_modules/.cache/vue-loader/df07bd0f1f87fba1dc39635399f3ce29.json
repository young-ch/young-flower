{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/user/UserDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/user/UserDetail.vue","mtime":1665531625451},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IFVzZXJBcGkgZnJvbSAiQC9hcGkvVXNlckFwaSI7CmltcG9ydCBSb2xlQXBpIGZyb20gIkAvYXBpL1JvbGVBcGkiOwppbXBvcnQgY29uZmlnIGZyb20gIkAvY29uZmlncyI7CmltcG9ydCBfIGZyb20gImxvZGFzaCI7CgppbXBvcnQgdnVlMkRyb3B6b25lIGZyb20gJ3Z1ZTItZHJvcHpvbmUnCmltcG9ydCAndnVlMi1kcm9wem9uZS9kaXN0L3Z1ZTJEcm9wem9uZS5taW4uY3NzJwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOid1c2VyRm9ybScsCiAgcHJvcHM6WydpZCddLAogIGNvbXBvbmVudHM6IHsKICAgIHZ1ZURyb3B6b25lOiB2dWUyRHJvcHpvbmUKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBsaXN0TGluazonL3VzZXJzJywKICAgIGF0dGFjaG1lbnRQYXRoOnByb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX0ZJTEVfU0VSVkVSX1VSTCwKICAgIHVzZXI6IHsKICAgICAgZmxvd2VyQ29tcGFueToge30KICAgIH0sCiAgICB1c2VySGFzUm9sZXM6W10sCiAgICBkYXRlOiAnMTk5MC0xMC0wOScsCiAgICBiaXJ0aDogZmFsc2UsCiAgICBnZW5kZXI6ICdtYWxlJywKICAgIGRhdW1EaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgIGNvbXBhbnlEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgIHJ1bGVzLAogICAgY29uZmlybVBhc3N3b3JkOiBudWxsLAogICAgc3RhdGVzOmNvbmZpZy5tZXRhLnVzZXIuc3RhdGUsCiAgICBzeXN0ZW1zOmNvbmZpZy5tZXRhLnN5c3RlbXMsCiAgICByb2xlczpbXSwgLy9jb25maWcubWV0YS51c2VyLnJvbGUsCiAgICBpc01vZGlmeTpmYWxzZSwKICAgIG1lc3NhZ2U6ewogICAgICBlcnJvcjonJywKICAgICAgZXJyb3JFbWFpbDonJywKICAgICAgZXJyb3JTeXN0ZW06bnVsbCwKICAgICAgc3VjY2VzczonJywKICAgICAgc3VjY2Vzc0VtYWlsOicnLAogICAgfSwKICAgIGRlY3J5cHRMb2dpblB3OiBmYWxzZSwKICAgIGRlY3J5cHRMb2dpbkNvbmZpcm1QdzogZmFsc2UsCiAgICBvcmlnaW5Vc2VyOiB7fSwKICAgIC8vIGRyb3B6b25lT3B0aW9uczogewogICAgLy8gICB1cmw6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfR1dfVVJMfS9maWxlcy8xL1VTRVIvdXBsb2FkYCwKICAgIC8vICAgdGh1bWJuYWlsSGVpZ2h0OiAxMTAsCiAgICAvLyAgIHRodW1ibmFpbFdpZHRoOiAxNDAsCiAgICAvLyAgIG1heEZpbGVzaXplOiAxMCwgLy8gbWIKICAgIC8vICAgbWF4RmlsZXM6IDIsCiAgICAvLyAgIC8vIGFjY2VwdGVkRmlsZVR5cGVzOiAiaW1hZ2UvKiIsCiAgICAvLyAgIGFjY2VwdGVkRmlsZXM6ICJpbWFnZS8qIiwKICAgIC8vICAgaGVhZGVyczogewogICAgLy8gICAgICdBdXRob3JpemF0aW9uJzogYGJlYXJlciAke3RoaXM/LiRzdG9yZT8uZ2V0dGVycz8uWyJ1c2VyL3Rva2VuIl0gPz8gJyd9YAogICAgLy8gICB9LAogICAgLy8gICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsCiAgICAvLyAgIGNsaWNrYWJsZTogdHJ1ZSwKICAgIC8vICAgYWRkUmVtb3ZlTGlua3M6IHRydWUKICAgIC8vIH0sCiAgICBhdHRhY2htZW50SW1hZ2VzOiBbXQogIH0pLAogIHdhdGNoOiB7CiAgICBiaXJ0aCAodmFsKSB7CiAgICAgIHZhbCAmJiBzZXRUaW1lb3V0KCgpID0+ICh0aGlzLiRyZWZzLnBpY2tlci5hY3RpdmVQaWNrZXIgPSAnWUVBUicpKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRyb3B6b25lT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB1cmw6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfR1dfVVJMfS91c2Vycy91c2VyL3VwbG9hZC9pbWFnZWAsCiAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiAxMTAsCiAgICAgICAgdGh1bWJuYWlsV2lkdGg6IDE0MCwKICAgICAgICBtYXhGaWxlc2l6ZTogMTAsIC8vIG1iCiAgICAgICAgbWF4RmlsZXM6IDIsCiAgICAgICAgLy8gYWNjZXB0ZWRGaWxlVHlwZXM6ICJpbWFnZS8qIiwKICAgICAgICBhY2NlcHRlZEZpbGVzOiAiaW1hZ2UvKiIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgYmVhcmVyICR7dGhpcz8uJHN0b3JlPy5nZXR0ZXJzPy5bInVzZXIvdG9rZW4iXSA/PyAnJ31gCiAgICAgICAgfSwKICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsCiAgICAgICAgY2xpY2thYmxlOiB0cnVlLAogICAgICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZENvbXBhcmUoKSB7CiAgICAgIHJldHVybiAoKSA9PiAoIXRoaXMudXNlci5sb2dpblB3ICYmICF0aGlzLmNvbmZpcm1QYXNzd29yZCkgfHwgKHRoaXMudXNlci5sb2dpblB3ID09PSB0aGlzLmNvbmZpcm1QYXNzd29yZCkgfHwgJ+2MqOyKpOybjOuTnOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLicKICAgIH0sCiAgICBwYXNzd29yZFJlcXVpcmVkKCkgewogICAgICAvLyByZXR1cm4gdHJ1ZTsKICAgICAgcmV0dXJuIHZhbHVlID0+ICghIXZhbHVlIHx8IHRoaXMuaXNNb2RpZnkpIHx8ICftlYTsiJgg7J6F66ClIO2VreuqqeyeheuLiOuLpC4uJwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkNvbXBhbnkoKSB7CiAgICAgIHRoaXMuY29tcGFueURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGRvbmVDb21wYW55U2VsZWN0b3IoZGF0YSkgewogICAgICB0aGlzLnVzZXIuZmxvd2VyQ29tcGFueUlkID0gZGF0YSA/IGRhdGEuaWQgOiBudWxsCiAgICAgIHRoaXMudXNlci5mbG93ZXJDb21wYW55LmNvbXBhbnlOYW1lID0gZGF0YSA/IGRhdGEuY29tcGFueU5hbWUgOiAnJwogICAgICAvLyB0aGlzLnVzZXIuZmxvd2VyQ29tcGFueS5pZCA9IGRhdGEgPyBkYXRhLmlkIDogJycKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB9LCA1MCk7CgogICAgICB0aGlzLmNvbXBhbnlEaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgfSwKICAgIGRyb3B6b25lVXBsb2FkU3VjY2Vzcyh1cGxvYWRlZEZpbGVJbmZvLCByZXMpIHsKCiAgICAgIC8vIHRoaXMudXNlci5waG90b0ZpbGUgPSByZXNbMF0ucHVibGlzaGVkVXJpCiAgICAgIGNvbnN0IGFjY2VwdGVkRmlsZXMgPSB0aGlzLiRyZWZzLnVzZXJQaG90b0Ryb3B6b25lLmdldEFjY2VwdGVkRmlsZXMoKTsKICAgICAgaWYoYWNjZXB0ZWRGaWxlcyAmJiBhY2NlcHRlZEZpbGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICB0aGlzLiRyZWZzLnVzZXJQaG90b0Ryb3B6b25lLnJlbW92ZUZpbGUoYWNjZXB0ZWRGaWxlc1swXSk7CgogICAgICB9CiAgICAgIC8vIHRoaXMuJHJlZnMudXNlclBob3RvRHJvcHpvbmUucmVtb3ZlQWxsRmlsZXMoKTsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgLy8gY29uc29sZS5sb2codXBsb2FkZWRGaWxlSW5mbykKICAgICAgLy8gdGhpcy5hdHRhY2htZW50SW1hZ2VzID0gWy4uLnRoaXMuYXR0YWNobWVudEltYWdlcywgLi4ucmVzLm1hcChyID0+IHtyZXR1cm4geydmaWxlSWQnIDogci5pZCwgJ3V1aWQnIDogdXBsb2FkZWRGaWxlSW5mby51cGxvYWQudXVpZH19KV0KICAgICAgLy8gdGhpcy5hdHRhY2htZW50SW1hZ2VzID0gWy4uLnJlcy5tYXAociA9PiB7cmV0dXJuIHsnZmlsZUlkJyA6IHIuaWQsICd1dWlkJyA6IHVwbG9hZGVkRmlsZUluZm8udXBsb2FkLnV1aWR9fSldCiAgICAgIHRoaXMuYXR0YWNobWVudEltYWdlcyA9IFt7J3NhdmVkTmFtZScgOiByZXMuc2F2ZU5hbWUsICd1dWlkJyA6IHVwbG9hZGVkRmlsZUluZm8udXBsb2FkLnV1aWR9XQoKICAgIH0sCiAgICBkcm9wem9uZVByb2Nlc3NpbmcoKSB7CiAgICAgIHRoaXMuJHJlZnMudXNlclBob3RvRHJvcHpvbmUuc2V0T3B0aW9uKCdoZWFkZXJzJywge0F1dGhvcml6YXRpb246IGBiZWFyZXIgJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJYLVRva2VuIikgPz8gJyd9YH0pCiAgICB9LAogICAgZHJvcHpvbmVSZW1vdmUoZikgewogICAgICB0aGlzLnVzZXIucGhvdG9GaWxlID0gbnVsbDsKICAgICAgdGhpcy5hdHRhY2htZW50SW1hZ2VzID0gdGhpcy5hdHRhY2htZW50SW1hZ2VzLmZpbHRlcihhID0+IGEudXVpZCAhPT0gZi51cGxvYWQudXVpZCk7CiAgICB9LAogICAgdXBsb2FkZWRSZW1vdmUoZmlsZUlkKSB7CiAgICAgIHRoaXMudXNlci5waG90b0ZpbGUgPSBudWxsOwogICAgICB0aGlzLmF0dGFjaG1lbnRJbWFnZXMgPSB0aGlzLmF0dGFjaG1lbnRJbWFnZXMuZmlsdGVyKGYgPT4gZi5maWxlSWQgIT09IGZpbGVJZCk7CiAgICB9LAogICAgYXN5bmMgaXNVbmlxdWVMb2dpbklkKGxvZ2luSWQpIHsKICAgICAgdGhpcy5tZXNzYWdlLnN1Y2Nlc3MgPSBudWxsOwogICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IgPSBudWxsOwoKICAgICAgaWYobG9naW5JZCkgewogICAgICAgIGNvbnN0IGlzVXNlZCA9IGF3YWl0IFVzZXJBcGkuZXhpc3RMb2dpbklkKGxvZ2luSWQpOyAvLy50aGVuKChleGlzdGVkKSA9PiBleGlzdGVkLmRhdGEpCgogICAgICAgIGlmIChpc1VzZWQgJiYgKHRoaXMuaXNNb2RpZnkgPyB0aGlzLm9yaWdpblVzZXIubG9naW5JZCAhPT0gbG9naW5JZCA6IHRydWUpKSB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IgPSAn7J2066+4IOyCrOyaqeykkeyduCDslYTsnbTrlJTsnoXri4jri6QuJzsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5tZXNzYWdlLnN1Y2Nlc3MgPSAn7IKs7JqpIOqwgOuKpe2VnCDslYTsnbTrlJTsnoXri4jri6QuJzsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgYXN5bmMgaXNVbmlxdWVFbWFpbChlbWFpbCkgewoKICAgICAgdGhpcy5tZXNzYWdlLmVycm9yRW1haWwgPSBudWxsOwogICAgICB0aGlzLm1lc3NhZ2Uuc3VjY2Vzc0VtYWlsID0gbnVsbDsKCiAgICAgIGlmKGVtYWlsICYmICghdGhpcy5pc01vZGlmeSB8fCBlbWFpbCAhPT0gdGhpcy5vcmlnaW5Vc2VyLmVtYWlsKSkgewoKICAgICAgICBjb25zdCBpc1VzZWQgPSBhd2FpdCBVc2VyQXBpLmV4aXN0RW1haWwoZW1haWwpOyAvLy50aGVuKChleGlzdGVkKSA9PiBleGlzdGVkLmRhdGEpCgogICAgICAgIGlmIChpc1VzZWQpIHsKICAgICAgICAgIHRoaXMubWVzc2FnZS5lcnJvckVtYWlsID0gJ+ydtOuvuCDsgqzsmqnspJHsnbgg7J2066mU7J28IOyjvOyGjOyeheuLiOuLpC4nOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3JFbWFpbCA9IG51bGw7CiAgICAgICAgdGhpcy5tZXNzYWdlLnN1Y2Nlc3NFbWFpbCA9ICfsgqzsmqkg6rCA64ql7ZWcIOyjvOyGjOyeheuLiOuLpC4nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBpc1VuaXF1ZU1vYmlsZShtb2JpbGUpIHsKCiAgICAgIHRoaXMubWVzc2FnZS5lcnJvck1vYmlsZSA9IG51bGw7CiAgICAgIHRoaXMubWVzc2FnZS5zdWNjZXNzTW9iaWxlID0gbnVsbDsKCiAgICAgIGlmKG1vYmlsZSAmJiAoIXRoaXMuaXNNb2RpZnkgfHwgbW9iaWxlICE9PSB0aGlzLm9yaWdpblVzZXIubW9iaWxlTm8pKSB7CgogICAgICAgIGNvbnN0IGlzVXNlZCA9IGF3YWl0IFVzZXJBcGkuZXhpc3RNb2JpbGUobW9iaWxlKTsgLy8udGhlbigoZXhpc3RlZCkgPT4gZXhpc3RlZC5kYXRhKQoKICAgICAgICBpZiAoaXNVc2VkKSB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3JNb2JpbGUgPSAn7J2066+4IOyCrOyaqeykkeyduCDsl7Drnb3sspgg67KI7Zi47J6F64uI64ukLic7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMubWVzc2FnZS5lcnJvck1vYmlsZSA9IG51bGw7CiAgICAgICAgdGhpcy5tZXNzYWdlLnN1Y2Nlc3NNb2JpbGUgPSAn7IKs7JqpIOqwgOuKpe2VnCDrsojtmLjsnoXri4jri6QuJzsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgYXN5bmMgc2F2ZSgpIHsKCiAgICAgIGNvbnN0IHZhbGlkID0gW2F3YWl0IHRoaXMuaXNVbmlxdWVMb2dpbklkKHRoaXMudXNlci5sb2dpbklkKSwgYXdhaXQgdGhpcy5pc1VuaXF1ZUVtYWlsKHRoaXMudXNlci5lbWFpbCksIGF3YWl0IHRoaXMuaXNVbmlxdWVNb2JpbGUodGhpcy51c2VyLm1vYmlsZU5vKSwgYXdhaXQgdGhpcy4kcmVmcy51c2VyRm9ybS52YWxpZGF0ZSgpXTsKCiAgICAgIC8vIGNvbnN0IHZhbGlkID0gW2F3YWl0IHRoaXMuaXNVbmlxdWVFbWFpbCh0aGlzLnVzZXIuZW1haWwpLCBhd2FpdCB0aGlzLiRyZWZzLnVzZXJGb3JtLnZhbGlkYXRlKCldOwogICAgICBpZih2YWxpZC5pbmRleE9mKGZhbHNlKSAhPT0gLTEpIHsKICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCw1MCkKICAgICAgICBhbGVydCgi7ZWE7IiYIOyeheugpSDtla3rqqnsnYQg7ZmV7J247ZW07KO87IS47JqULiIpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMudXNlci5hdXRob3JpdGllcyA9IG51bGwKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5hdHRhY2htZW50SW1hZ2VzKQogICAgICB0aGlzLnVzZXIucGhvdG9GaWxlID0gdGhpcy5hdHRhY2htZW50SW1hZ2VzPy5tYXAoYSA9PiBhLnNhdmVkTmFtZSk/LlswXT8/bnVsbAogICAgICAvLyBjb25zdCBjbG9uZWRSb2xlcyA9IF8uY2xvbmVEZWVwKHRoaXMudXNlci51c2VySGFzUm9sZXMpOwoKICAgICAgdGhpcy51c2VyLnVzZXJIYXNSb2xlcyA9IHRoaXMudXNlckhhc1JvbGVzPy5tYXAociA9PiByLmlkKT8/W10KCiAgICAgIFVzZXJBcGkuc2F2ZSh0aGlzLnVzZXIpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMudXNlci5sb2dpblB3ID0gbnVsbDsKICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZCA9IG51bGw7CiAgICAgICAgYWxlcnQoJ+yggOyepeuQmOyXiOyKteuLiOuLpC4nKQogICAgICAgIHRoaXMuJHJlZnMudXNlckZvcm0ucmVzZXRWYWxpZGF0aW9uKCkKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLmxpc3RMaW5rKQogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiBgL3VzZXJzL2RldGFpbGB9KQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIGFsZXJ0KGUpCiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlVXNlcigpIHsKICAgICAgaWYgKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkKICAgICAgICBVc2VyQXBpLmRlbGV0ZSh0aGlzLnVzZXIuaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgYWxlcnQoJ+yCreygnOuQmOyXiOyKteuLiOuLpC4nKQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6IHRoaXMubGlzdExpbmt9KQogICAgICAgIH0pCiAgICB9LAogICAgY2hhbmdlQmlydGggKGRhdGUpIHsKICAgICAgLy8gY29uc29sZS5sb2coZGF0ZSk7CiAgICAgIHRoaXMuJHJlZnMuYmlydGguc2F2ZShkYXRlKQogICAgfSwKICAgIG9wZW5aaXBDb2RlKCkgewogICAgICB0aGlzLmRhdW1EaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjb21wbGV0ZVppcENvZGUoZGF0YSkgewogICAgICB0aGlzLnVzZXIuemlwQ29kZSA9IGRhdGEuem9uZWNvZGUKICAgICAgdGhpcy51c2VyLmFkZHJlc3MgPSBkYXRhLmFkZHJlc3MKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5hZGRyZXNzRGV0YWlsLmZvY3VzKCk7CiAgICAgIH0sIDUwKTsKICAgICAgdGhpcy5kYXVtRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgIH0sCiAgICBnZXQoKSB7CgogICAgICBSb2xlQXBpLmdldFJvbGVzKCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnJvbGVzID0gZGF0YQogICAgICB9KQoKICAgICAgaWYodGhpcy5pZCkgewogICAgICAgIFVzZXJBcGkuZ2V0KHRoaXMuaWQpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvLyBkYXRhLmxvZ2luUHcgPSBudWxsOwogICAgICAgICAgdGhpcy51c2VyID0gZGF0YTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlci5mbG93ZXJDb21wYW55KQogICAgICAgICAgaWYoIXRoaXMudXNlci5mbG93ZXJDb21wYW55KQogICAgICAgICAgICB0aGlzLnVzZXIuZmxvd2VyQ29tcGFueSA9IHt9CgogICAgICAgICAgdGhpcy51c2VyLmxvZ2luUHcgPSBudWxsOwogICAgICAgICAgdGhpcy51c2VySGFzUm9sZXMgPSB0aGlzLnVzZXIudXNlckhhc1JvbGVzPy5tYXAociA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgJ3JvbGVOYW1lJzpyLnJvbGUucm9sZU5hbWUsCiAgICAgICAgICAgICAgJ2lkJzpyLnJvbGUuaWQKICAgICAgICAgICAgfQogICAgICAgICAgfSk/P1tdCiAgICAgICAgICAvLyB0aGlzLnVzZXIudXNlckhhc1JvbGVzID0gdGhpcy51c2VyLnVzZXJIYXNSb2xlcz8ubWFwKHIgPT4gci5yb2xlLmlkKT8/W10KICAgICAgICAgIHRoaXMub3JpZ2luVXNlciA9IF8uY2xvbmVEZWVwKGRhdGEpOwogICAgICAgICAgdGhpcy5pc01vZGlmeSA9IHRydWU7CgogICAgICAgICAgdGhpcy5hdHRhY2htZW50SW1hZ2VzID0gdGhpcy51c2VyLnBob3RvRmlsZSA/IFt7J3NhdmVkTmFtZScgOiB0aGlzLnVzZXIucGhvdG9GaWxlfV0gOiBbXQogICAgICAgIH0pCiAgICAgIH0KCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXQoKTsKCiAgICBsZXQgc3RvcmVkUGFyYW1zID0gdGhpcy4kc3RvcmUuZ2V0dGVycz8ucGFyYW1zPz97fTsKICAgIGlmKHN0b3JlZFBhcmFtcyAmJiBzdG9yZWRQYXJhbXMucGFnZU5hbWUpIHsKICAgICAgdGhpcy5wYWdlTmFtZSA9IHN0b3JlZFBhcmFtcy5wYWdlTmFtZQoKICAgICAgaWYoc3RvcmVkUGFyYW1zLnBhZ2VOYW1lID09PSAn6rSA66as7J6QJykgewogICAgICAgIHRoaXMudXNlckhhc1JvbGVzID0gW3sncm9sZU5hbWUnIDogc3RvcmVkUGFyYW1zLnBhZ2VOYW1lLCAnaWQnOiAyfV0KICAgICAgICB0aGlzLmxpc3RMaW5rID0gJy91c2Vycy9yb2xlcy8yJwogICAgICB9IGVsc2UgaWYoc3RvcmVkUGFyYW1zLnBhZ2VOYW1lID09PSAn7J2867CYIO2ajOybkCcpIHsKICAgICAgICB0aGlzLnVzZXJIYXNSb2xlcyA9IFt7J3JvbGVOYW1lJyA6IHN0b3JlZFBhcmFtcy5wYWdlTmFtZSwgJ2lkJzogMTAwfV0KICAgICAgICB0aGlzLmxpc3RMaW5rID0gJy91c2Vycy9yb2xlcy8xMDAnCiAgICAgIH0gZWxzZSBpZihzdG9yZWRQYXJhbXMucGFnZU5hbWUgPT09ICftg4jth7Qg7ZqM7JuQJykgewogICAgICAgIHRoaXMudXNlckhhc1JvbGVzID0gW3sncm9sZU5hbWUnIDogc3RvcmVkUGFyYW1zLnBhZ2VOYW1lLCAnaWQnOiAxMDB9XQogICAgICAgIHRoaXMubGlzdExpbmsgPSAnL3VzZXJzL3N0YXRlcy9TVEFURV9XSVRIRFJBVycKICAgICAgfSBlbHNlIGlmKHN0b3JlZFBhcmFtcy5wYWdlTmFtZSA9PT0gJ+yLoOyyrSDtmozsm5AnKSB7CiAgICAgICAgdGhpcy51c2VySGFzUm9sZXMgPSBbeydyb2xlTmFtZScgOiBzdG9yZWRQYXJhbXMucGFnZU5hbWUsICdpZCc6IDEwMH1dCiAgICAgICAgdGhpcy5saXN0TGluayA9ICcvdXNlcnMvc3RhdGVzL1NUQVRFX0FQUFJPVkFMX1JFUVVFU1QnCiAgICAgIH0KCiAgICB9CiAgICAvLyBjb25zb2xlLmxvZyhzdG9yZWRQYXJhbXMpCiAgfQp9Cg=="},{"version":3,"sources":["UserDetail.vue"],"names":[],"mappings":";AA4NA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"UserDetail.vue","sourceRoot":"src/apps/user","sourcesContent":["<template>\n  <div>\n    <v-card class=\"my-2\">\n      <v-card-title>회원 정보</v-card-title>\n      <v-card-text>\n        <v-form ref=\"userForm\">\n          <v-row>\n\n            <v-col cols=\"12\" md=\"6\">\n\n              <div class=\"d-flex\">\n                <v-col sm=\"4\">\n                  <vue-dropzone\n                    ref=\"userPhotoDropzone\"\n                    id=\"dropzone\"\n                    :style=\"'background-color: #ffffff !important;'\"\n                    :options=\"dropzoneOptions\"\n                    :useCustomSlot=\"true\"\n                    @vdropzone-success=\"dropzoneUploadSuccess\"\n                    @vdropzone-removed-file=\"dropzoneRemove\"\n                    @vdropzone-processing=\"dropzoneProcessing\"\n                  >\n                    <div v-if=\"user.photoFile\">\n                      <v-badge\n                        bordered\n                        dark\n                        color=\"black\"\n                        icon=\"mdi-delete\"\n                        @click.native=\"dropzoneRemove\"\n                      >\n  <!--                      overlap-->\n\n                        <!--                    <v-img :src=\"`${user.photoFile}`\" position=\"center center\"/>-->\n                        <v-img :src=\"`${attachmentPath}/user/photo/${user.photoFile}`\" max-width=\"150\"/>\n                      </v-badge>\n                    </div>\n                    <div v-if=\"!user.photoFile && attachmentImages.length === 0\" class=\"dropzone-custom-content\">\n                      <h3 class=\"dropzone-custom-title\">회원 사진</h3>\n                      <div class=\"subtitle\">Drag and drop or click to select a file from your computer</div>\n                    </div>\n                  </vue-dropzone>\n                </v-col>\n\n                <v-col class=\"mgr\" sm=\"8\">\n                  <v-text-field label=\"로그인 아이디\"\n                                v-model=\"user.loginId\"\n                                ref=\"loginId\"\n                                maxlength=\"50\"\n                                :rules=\"[rules.common.required, rules.common.loginId]\"\n                                @keydown.enter=\"isUniqueLoginId(user.loginId)\"\n                                @input=\"value => user.loginId = value.toLowerCase()\"\n                                @blur=\"isUniqueLoginId(user.loginId)\"\n                                :success-messages=\"message.success\"\n                                :error-messages=\"message.error\"\n                  />\n                  <v-text-field label=\"로그인 패스워드\" v-model=\"user.loginPw\" :rules=\"[passwordRequired]\" maxlength=\"120\"\n                                :type=\"decryptLoginPw ? 'text' : 'password'\"\n                                :append-icon=\"decryptLoginPw? 'mdi-eye' : 'mdi-eye-off'\"\n                                @click:append=\"decryptLoginPw = !decryptLoginPw\"\n                  />\n                  <v-text-field label=\"패스워드 확인\" v-model=\"confirmPassword\" :rules=\"[passwordRequired, passwordCompare]\" maxlength=\"120\"\n                                :type=\"decryptLoginConfirmPw ? 'text' : 'password'\"\n                                :append-icon=\"decryptLoginConfirmPw? 'mdi-eye' : 'mdi-eye-off'\"\n                                @click:append=\"decryptLoginConfirmPw = !decryptLoginConfirmPw\"\n                  />\n\n                  <v-combobox\n                      v-model=\"userHasRoles\"\n                      :items=\"roles\"\n                      item-text=\"roleName\"\n                      item-value=\"id\"\n                      label=\"역할\"\n                      multiple\n                      required\n                      :rules=\"[rules.common.required]\"\n                    ></v-combobox>\n\n                  <v-select :items=\"states\" item-value=\"value\" item-text=\"text\" v-model=\"user.state\"\n                            :rules=\"[rules.common.required]\"\n                            label=\"회원상태\"\n                            required />\n                  <v-textarea\n                    v-model=\"user.withdrawReason\"\n                    v-if=\"user.state === 'STATE_WITHDRAW'\"\n                    class=\"px-2 py-1\"\n                    solo-inverted\n                    flat\n                    placeholder=\"탈퇴사유\"\n                    hide-details\n                  ></v-textarea>\n                </v-col>\n\n              </div>\n\n              <v-row>\n                <v-col cols=\"12\" md=\"12\" class=\"d-flex\" style=\"margin-top: -50px\">\n<!--                  <v-switch v-model=\"user.agreedClause\" label=\"약관 동의\" :value=\"true\" :false-value=\"false\" style=\"padding-right: 20px\"/>-->\n<!--                  <v-switch v-model=\"user.agreedPersonalInformation\" label=\"개인정보 수집 및 이용에 동의\" :value=\"true\" :false-value=\"false\" style=\"padding-right: 20px\"/>-->\n\n    <!--              <v-switch v-model=\"user.isAgreedMailReceive\" label=\"이메일 수신 동의\" :value=\"true\" :false-value=\"false\" style=\"padding-right: 20px\"/>-->\n    <!--              <v-switch v-model=\"user.isAgreedSmsReceive\" label=\"SMS 수신 동의\" :value=\"true\" :false-value=\"false\"  style=\"padding-right: 20px\"/>-->\n    <!--              <v-switch v-model=\"user.isAgreedPushReceive\" label=\"Push 수신 동의\" :value=\"true\" :false-value=\"false\"   style=\"padding-right: 20px\"/>-->\n    <!--              <v-switch v-model=\"user.isAgreedInfoNotify\" label=\"정보 알림 동의\" :value=\"true\" :false-value=\"false\"   style=\"padding-right: 20px\"/>-->\n    <!--              <v-switch v-model=\"user.manager\" label=\"관리자\" :value=\"true\" :false-value=\"false\" />-->\n                </v-col>\n\n              </v-row>\n\n            </v-col>\n\n            <v-col cols=\"12\" md=\"6\">\n\n\n              <v-text-field label=\"이름\" v-model=\"user.name\" :rules=\"[rules.common.required]\" maxlength=\"120\"/>\n              <v-text-field label=\"닉네임\" v-model=\"user.nickname\" maxlength=\"120\"/>\n\n              <v-text-field label=\"이메일\" v-model=\"user.email\" ref=\"email\" :rules=\"[rules.common.required, rules.common.email]\" maxlength=\"120\"\n                            @keydown.enter=\"isUniqueEmail(user.email)\"\n                            @blur=\"isUniqueEmail(user.email)\"\n                            :error-messages=\"message.errorEmail\" :success-messages=\"message.successEmail\"\n              />\n              <v-text-field label=\"연락처\" v-model=\"user.mobileNo\" :rules=\"[rules.common.required, rules.common.mobile]\" maxlength=\"50\"\n                            @keydown.enter=\"isUniqueMobile(user.mobileNo)\"\n                            @blur=\"isUniqueMobile(user.mobileNo)\"\n                            :error-messages=\"message.errorMobile\" :success-messages=\"message.successMobile\"\n              />\n\n              <v-menu\n                ref=\"birth\"\n                v-model=\"birth\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-text-field\n                    v-model=\"user.birthDate\"\n                    label=\"생년월일\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    :rules=\"[rules.common.birth]\"\n                    maxlength=\"10\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  ref=\"picker\"\n                  v-model=\"user.birthDate\"\n                  :max=\"new Date().toISOString().substr(0, 10)\"\n                  min=\"1900-01-01\"\n                  @change=\"changeBirth\"\n                  locale=\"ko\"\n                ></v-date-picker>\n              </v-menu>\n\n  <!--            <v-text-field label=\"직위\" v-model=\"user.position\" maxlength=\"120\"/>-->\n\n\n  <!--            <v-radio-group v-model=\"user.gender\" label=\"성별\" row>-->\n  <!--              <v-radio label=\"남\" value=\"M\"></v-radio>-->\n  <!--              <v-radio label=\"여\" value=\"F\"></v-radio>-->\n  <!--            </v-radio-group>-->\n\n\n  <!--            clearable-->\n\n  <!--            <v-select :items=\"roles\" item-value=\"value\" item-text=\"text\" v-model=\"user.roleId\"-->\n  <!--                      :rules=\"[rules.common.required]\"-->\n  <!--                      label=\"회원권한\"-->\n  <!--                      required />-->\n\n            </v-col>\n\n  <!--          <v-col cols=\"12\" md=\"12\" class=\"d-flex\" style=\"margin-top: -50px\">-->\n  <!--            <v-text-field v-model=\"user.zipCode\" label=\"우편번호 검색\"-->\n  <!--                          @click=\"openZipCode\"-->\n  <!--                          @focus.once=\"openZipCode\"-->\n  <!--                          v-on:keyup.13=\"openZipCode\"-->\n  <!--                          maxlength=\"6\"-->\n  <!--                          :rules=\"[-->\n  <!--                            rules.common.required,-->\n  <!--                            rules.common.zipcode-->\n  <!--                            ]\"-->\n  <!--                          style=\"max-width: 120px; padding-right: 10px\"-->\n  <!--            />-->\n  <!--            <v-text-field v-model=\"user.address\" :rules=\"[rules.common.required]\" label=\"주소\" style=\" padding-right: 10px\"/>-->\n  <!--            <v-text-field v-model=\"user.addressDetail\" label=\"주소상세\" ref=\"addressDetail\"/>-->\n\n  <!--            <v-dialog v-model=\"daumDialogVisible\" max-width=\"500px\" @click:outside=\"daumDialogVisible=false\" @keydown.esc=\"daumDialogVisible=false\">-->\n  <!--              <daum-post @complete=\"completeZipCode\" />-->\n  <!--            </v-dialog>-->\n  <!--          </v-col>-->\n  <!--          -->\n\n  <!--          <v-col cols=\"12\" md=\"12\" class=\"d-flex\" style=\"margin-top: -50px\">-->\n  <!--          </v-col>-->\n\n          </v-row>\n\n        </v-form>\n      </v-card-text>\n\n    </v-card>\n\n    <div class=\"d-flex align-center\">\n      <v-spacer></v-spacer>\n      <v-btn color=\"red\" @click=\"deleteUser\" v-if=\"user.id && user.id != null\" dark>\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제</v-btn>\n      <v-btn color=\"indigo\" @click=\"save\" style=\"margin-left:1rem\" dark>\n        <v-icon left>mdi mdi-content-save</v-icon>\n        저장</v-btn>\n      <v-btn @click=\"$router.push(listLink)\" style=\"margin-left:1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록</v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport rules from \"@/utils/rules\";\nimport UserApi from \"@/api/UserApi\";\nimport RoleApi from \"@/api/RoleApi\";\nimport config from \"@/configs\";\nimport _ from \"lodash\";\n\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\n\n\nexport default {\n  name:'userForm',\n  props:['id'],\n  components: {\n    vueDropzone: vue2Dropzone\n  },\n  data: () => ({\n    listLink:'/users',\n    attachmentPath:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    user: {\n      flowerCompany: {}\n    },\n    userHasRoles:[],\n    date: '1990-10-09',\n    birth: false,\n    gender: 'male',\n    daumDialogVisible: false,\n    companyDialogVisible: false,\n    rules,\n    confirmPassword: null,\n    states:config.meta.user.state,\n    systems:config.meta.systems,\n    roles:[], //config.meta.user.role,\n    isModify:false,\n    message:{\n      error:'',\n      errorEmail:'',\n      errorSystem:null,\n      success:'',\n      successEmail:'',\n    },\n    decryptLoginPw: false,\n    decryptLoginConfirmPw: false,\n    originUser: {},\n    // dropzoneOptions: {\n    //   url: `${process.env.VUE_APP_GW_URL}/files/1/USER/upload`,\n    //   thumbnailHeight: 110,\n    //   thumbnailWidth: 140,\n    //   maxFilesize: 10, // mb\n    //   maxFiles: 2,\n    //   // acceptedFileTypes: \"image/*\",\n    //   acceptedFiles: \"image/*\",\n    //   headers: {\n    //     'Authorization': `bearer ${this?.$store?.getters?.[\"user/token\"] ?? ''}`\n    //   },\n    //   uploadMultiple: false,\n    //   clickable: true,\n    //   addRemoveLinks: true\n    // },\n    attachmentImages: []\n  }),\n  watch: {\n    birth (val) {\n      val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n    }\n  },\n  computed: {\n    dropzoneOptions() {\n      return {\n        url: `${process.env.VUE_APP_GW_URL}/users/user/upload/image`,\n        thumbnailHeight: 110,\n        thumbnailWidth: 140,\n        maxFilesize: 10, // mb\n        maxFiles: 2,\n        // acceptedFileTypes: \"image/*\",\n        acceptedFiles: \"image/*\",\n        headers: {\n          'Authorization': `bearer ${this?.$store?.getters?.[\"user/token\"] ?? ''}`\n        },\n        uploadMultiple: false,\n        clickable: true,\n        addRemoveLinks: true\n      }\n    },\n    passwordCompare() {\n      return () => (!this.user.loginPw && !this.confirmPassword) || (this.user.loginPw === this.confirmPassword) || '패스워드가 일치하지 않습니다.'\n    },\n    passwordRequired() {\n      // return true;\n      return value => (!!value || this.isModify) || '필수 입력 항목입니다..'\n    }\n  },\n  methods: {\n    openCompany() {\n      this.companyDialogVisible = true;\n    },\n    doneCompanySelector(data) {\n      this.user.flowerCompanyId = data ? data.id : null\n      this.user.flowerCompany.companyName = data ? data.companyName : ''\n      // this.user.flowerCompany.id = data ? data.id : ''\n\n      setTimeout(() => {\n      }, 50);\n\n      this.companyDialogVisible = false;\n\n    },\n    dropzoneUploadSuccess(uploadedFileInfo, res) {\n\n      // this.user.photoFile = res[0].publishedUri\n      const acceptedFiles = this.$refs.userPhotoDropzone.getAcceptedFiles();\n      if(acceptedFiles && acceptedFiles.length > 1) {\n        this.$refs.userPhotoDropzone.removeFile(acceptedFiles[0]);\n\n      }\n      // this.$refs.userPhotoDropzone.removeAllFiles();\n\n      // console.log(res)\n      // console.log(uploadedFileInfo)\n      // this.attachmentImages = [...this.attachmentImages, ...res.map(r => {return {'fileId' : r.id, 'uuid' : uploadedFileInfo.upload.uuid}})]\n      // this.attachmentImages = [...res.map(r => {return {'fileId' : r.id, 'uuid' : uploadedFileInfo.upload.uuid}})]\n      this.attachmentImages = [{'savedName' : res.saveName, 'uuid' : uploadedFileInfo.upload.uuid}]\n\n    },\n    dropzoneProcessing() {\n      this.$refs.userPhotoDropzone.setOption('headers', {Authorization: `bearer ${sessionStorage.getItem(\"X-Token\") ?? ''}`})\n    },\n    dropzoneRemove(f) {\n      this.user.photoFile = null;\n      this.attachmentImages = this.attachmentImages.filter(a => a.uuid !== f.upload.uuid);\n    },\n    uploadedRemove(fileId) {\n      this.user.photoFile = null;\n      this.attachmentImages = this.attachmentImages.filter(f => f.fileId !== fileId);\n    },\n    async isUniqueLoginId(loginId) {\n      this.message.success = null;\n      this.message.error = null;\n\n      if(loginId) {\n        const isUsed = await UserApi.existLoginId(loginId); //.then((existed) => existed.data)\n\n        if (isUsed && (this.isModify ? this.originUser.loginId !== loginId : true)) {\n          this.message.error = '이미 사용중인 아이디입니다.';\n          return false;\n        }\n        this.message.success = '사용 가능한 아이디입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async isUniqueEmail(email) {\n\n      this.message.errorEmail = null;\n      this.message.successEmail = null;\n\n      if(email && (!this.isModify || email !== this.originUser.email)) {\n\n        const isUsed = await UserApi.existEmail(email); //.then((existed) => existed.data)\n\n        if (isUsed) {\n          this.message.errorEmail = '이미 사용중인 이메일 주소입니다.';\n          return false;\n        }\n        this.message.errorEmail = null;\n        this.message.successEmail = '사용 가능한 주소입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async isUniqueMobile(mobile) {\n\n      this.message.errorMobile = null;\n      this.message.successMobile = null;\n\n      if(mobile && (!this.isModify || mobile !== this.originUser.mobileNo)) {\n\n        const isUsed = await UserApi.existMobile(mobile); //.then((existed) => existed.data)\n\n        if (isUsed) {\n          this.message.errorMobile = '이미 사용중인 연락처 번호입니다.';\n          return false;\n        }\n        this.message.errorMobile = null;\n        this.message.successMobile = '사용 가능한 번호입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async save() {\n\n      const valid = [await this.isUniqueLoginId(this.user.loginId), await this.isUniqueEmail(this.user.email), await this.isUniqueMobile(this.user.mobileNo), await this.$refs.userForm.validate()];\n\n      // const valid = [await this.isUniqueEmail(this.user.email), await this.$refs.userForm.validate()];\n      if(valid.indexOf(false) !== -1) {\n        window.scrollTo(0,50)\n        alert(\"필수 입력 항목을 확인해주세요.\")\n        return\n      }\n\n      this.user.authorities = null\n      // console.log(this.attachmentImages)\n      this.user.photoFile = this.attachmentImages?.map(a => a.savedName)?.[0]??null\n      // const clonedRoles = _.cloneDeep(this.user.userHasRoles);\n\n      this.user.userHasRoles = this.userHasRoles?.map(r => r.id)??[]\n\n      UserApi.save(this.user).then(() => {\n        this.user.loginPw = null;\n        this.confirmPassword = null;\n        alert('저장되었습니다.')\n        this.$refs.userForm.resetValidation()\n        this.$router.push(this.listLink)\n        // this.$router.push({path: `/users/detail`})\n      }).catch(e => {\n        console.log(e)\n        alert(e)\n      })\n    },\n    deleteUser() {\n      if (confirm('삭제하시겠습니까?'))\n        UserApi.delete(this.user.id).then(() => {\n          alert('삭제되었습니다.')\n          this.$router.push({path: this.listLink})\n        })\n    },\n    changeBirth (date) {\n      // console.log(date);\n      this.$refs.birth.save(date)\n    },\n    openZipCode() {\n      this.daumDialogVisible = true;\n    },\n    completeZipCode(data) {\n      this.user.zipCode = data.zonecode\n      this.user.address = data.address\n      setTimeout(() => {\n        this.$refs.addressDetail.focus();\n      }, 50);\n      this.daumDialogVisible = false;\n\n    },\n    get() {\n\n      RoleApi.getRoles().then(data => {\n        this.roles = data\n      })\n\n      if(this.id) {\n        UserApi.get(this.id).then(data => {\n          // data.loginPw = null;\n          this.user = data;\n          // console.log(this.user.flowerCompany)\n          if(!this.user.flowerCompany)\n            this.user.flowerCompany = {}\n\n          this.user.loginPw = null;\n          this.userHasRoles = this.user.userHasRoles?.map(r => {\n            return {\n              'roleName':r.role.roleName,\n              'id':r.role.id\n            }\n          })??[]\n          // this.user.userHasRoles = this.user.userHasRoles?.map(r => r.role.id)??[]\n          this.originUser = _.cloneDeep(data);\n          this.isModify = true;\n\n          this.attachmentImages = this.user.photoFile ? [{'savedName' : this.user.photoFile}] : []\n        })\n      }\n\n    }\n  },\n  created() {\n    this.get();\n\n    let storedParams = this.$store.getters?.params??{};\n    if(storedParams && storedParams.pageName) {\n      this.pageName = storedParams.pageName\n\n      if(storedParams.pageName === '관리자') {\n        this.userHasRoles = [{'roleName' : storedParams.pageName, 'id': 2}]\n        this.listLink = '/users/roles/2'\n      } else if(storedParams.pageName === '일반 회원') {\n        this.userHasRoles = [{'roleName' : storedParams.pageName, 'id': 100}]\n        this.listLink = '/users/roles/100'\n      } else if(storedParams.pageName === '탈퇴 회원') {\n        this.userHasRoles = [{'roleName' : storedParams.pageName, 'id': 100}]\n        this.listLink = '/users/states/STATE_WITHDRAW'\n      } else if(storedParams.pageName === '신청 회원') {\n        this.userHasRoles = [{'roleName' : storedParams.pageName, 'id': 100}]\n        this.listLink = '/users/states/STATE_APPROVAL_REQUEST'\n      }\n\n    }\n    // console.log(storedParams)\n  }\n}\n</script>\n<style lang=\"scss\">\n\n  .dropzone-custom-content {\n    text-align: center;\n  }\n\n  .dropzone-custom-title {\n    margin-top: 0;\n    color: #00b782;\n  }\n\n  //.subtitle {\n    //color: #fff;\n  //}\n\n  .dropzone {\n    //min-height:200px;\n    //max-height:200px;\n    background-color: #152935 !important;\n  }\n\n\n</style>\n"]}]}