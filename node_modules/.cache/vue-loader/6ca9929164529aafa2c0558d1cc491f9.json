{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/components/toolbar/ToolbarUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/components/toolbar/ToolbarUser.vue","mtime":1665531625457},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlncycKCmltcG9ydCBVc2VyQXBpIGZyb20gIkAvYXBpL1VzZXJBcGkiOwoKaW1wb3J0IHJ1bGVzIGZyb20gIkAvdXRpbHMvcnVsZXMiOwoKaW1wb3J0IHZ1ZTJEcm9wem9uZSBmcm9tICd2dWUyLWRyb3B6b25lJwppbXBvcnQgJ3Z1ZTItZHJvcHpvbmUvZGlzdC92dWUyRHJvcHpvbmUubWluLmNzcycKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKCgovKgp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnwgVG9vbGJhciBVc2VyIENvbXBvbmVudAp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnwKfCBRdWlja21lbnUgZm9yIHVzZXIgbWVudSBzaG9ydGN1dHMgb24gdGhlIHRvb2xiYXIKfAoqLwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRyb3B6b25lT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB1cmw6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfR1dfVVJMfS91c2Vycy91c2VyL3VwbG9hZC9pbWFnZWAsCiAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiAxMTAsCiAgICAgICAgdGh1bWJuYWlsV2lkdGg6IDE0MCwKICAgICAgICBtYXhGaWxlc2l6ZTogMTAsIC8vIG1iCiAgICAgICAgbWF4RmlsZXM6IDIsCiAgICAgICAgLy8gYWNjZXB0ZWRGaWxlVHlwZXM6ICJpbWFnZS8qIiwKICAgICAgICBhY2NlcHRlZEZpbGVzOiAiaW1hZ2UvKiIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgYmVhcmVyICR7dGhpcz8uJHN0b3JlPy5nZXR0ZXJzPy5bInVzZXIvdG9rZW4iXSA/PyAnJ31gCiAgICAgICAgfSwKICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsCiAgICAgICAgY2xpY2thYmxlOiB0cnVlLAogICAgICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZENvbXBhcmUoKSB7CiAgICAgIHJldHVybiAoKSA9PiAoIXRoaXMudXNlci5sb2dpblB3ICYmICF0aGlzLmNvbmZpcm1QYXNzd29yZCkgfHwgKHRoaXMudXNlci5sb2dpblB3ID09PSB0aGlzLmNvbmZpcm1QYXNzd29yZCkgfHwgJ+2MqOyKpOybjOuTnOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLicKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBzaWduIHVwIGJ1dHRvbnMKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNTaWduVXBEaXNhYmxlZDogZmFsc2UsCgogICAgICBhdHRhY2htZW50UGF0aDpwcm9jZXNzLmVudi5WVUVfQVBQX0FUVEFDSF9GSUxFX1NFUlZFUl9VUkwsCiAgICAgIC8vIGZvcm0KICAgICAgaXNGb3JtVmFsaWQ6IHRydWUsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgdXNlcjoge30sCiAgICAgIGRlY3J5cHRMb2dpblB3OiBmYWxzZSwKICAgICAgZGVjcnlwdExvZ2luQ29uZmlybVB3OiBmYWxzZSwKCiAgICAgIGF0dGFjaG1lbnRJbWFnZXM6IFtdLAogICAgICB1c2VySGFzUm9sZXM6IFtdLAoKICAgICAgb3JpZ2luVXNlcjoge30sCiAgICAgIC8vIHZhbGlkCiAgICAgIHJ1bGVzLAogICAgICAvLyBmb3JtIGVycm9yCiAgICAgIGVycm9yTmFtZTogZmFsc2UsCiAgICAgIGVycm9yRW1haWw6IGZhbHNlLAogICAgICBlcnJvclBhc3N3b3JkOiBmYWxzZSwKICAgICAgZXJyb3JOYW1lTWVzc2FnZTogJycsCiAgICAgIGVycm9yRW1haWxNZXNzYWdlOiAnJywKICAgICAgZXJyb3JQYXNzd29yZE1lc3NhZ2U6ICcnLAoKICAgICAgZXJyb3JQcm92aWRlcjogZmFsc2UsCiAgICAgIGVycm9yUHJvdmlkZXJNZXNzYWdlczogJycsCgogICAgICBtZXNzYWdlOiB7fSwKCiAgICAgIC8vIHNob3cgcGFzc3dvcmQgZmllbGQKICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwKCiAgICAgIHNob3dQcm9maWxlOiBmYWxzZSwKICAgICAgbWVudTogY29uZmlnLnRvb2xiYXIudXNlciwKICAgICAgdXNlckltYWdlOiAnL2ltYWdlcy9hdmF0YXJzL2F2YXRhcjEuc3ZnJwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNob3dQcm9maWxlOiB7CiAgICAgIGhhbmRsZXIobnYpIHsKICAgICAgICBpZihudikKICAgICAgICAgIHRoaXMuZ2V0UHJvZmlsZSgpCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXV0aC9zaWduaW4nKTsKICAgIH0sCiAgICBlZGl0KCkgewogICAgICB0aGlzLnNob3dQcm9maWxlID0gIXRoaXMuc2hvd1Byb2ZpbGUKICAgIH0sCiAgICBkcm9wem9uZVVwbG9hZFN1Y2Nlc3ModXBsb2FkZWRGaWxlSW5mbywgcmVzKSB7CgogICAgICAvLyB0aGlzLnVzZXIucGhvdG9GaWxlID0gcmVzWzBdLnB1Ymxpc2hlZFVyaQogICAgICBjb25zdCBhY2NlcHRlZEZpbGVzID0gdGhpcy4kcmVmcy51c2VyUGhvdG9Ecm9wem9uZS5nZXRBY2NlcHRlZEZpbGVzKCk7CiAgICAgIGlmKGFjY2VwdGVkRmlsZXMgJiYgYWNjZXB0ZWRGaWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdGhpcy4kcmVmcy51c2VyUGhvdG9Ecm9wem9uZS5yZW1vdmVGaWxlKGFjY2VwdGVkRmlsZXNbMF0pOwoKICAgICAgfQogICAgICAvLyB0aGlzLiRyZWZzLnVzZXJQaG90b0Ryb3B6b25lLnJlbW92ZUFsbEZpbGVzKCk7CgogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgIC8vIGNvbnNvbGUubG9nKHVwbG9hZGVkRmlsZUluZm8pCiAgICAgIC8vIHRoaXMuYXR0YWNobWVudEltYWdlcyA9IFsuLi50aGlzLmF0dGFjaG1lbnRJbWFnZXMsIC4uLnJlcy5tYXAociA9PiB7cmV0dXJuIHsnZmlsZUlkJyA6IHIuaWQsICd1dWlkJyA6IHVwbG9hZGVkRmlsZUluZm8udXBsb2FkLnV1aWR9fSldCiAgICAgIC8vIHRoaXMuYXR0YWNobWVudEltYWdlcyA9IFsuLi5yZXMubWFwKHIgPT4ge3JldHVybiB7J2ZpbGVJZCcgOiByLmlkLCAndXVpZCcgOiB1cGxvYWRlZEZpbGVJbmZvLnVwbG9hZC51dWlkfX0pXQogICAgICB0aGlzLmF0dGFjaG1lbnRJbWFnZXMgPSBbeydzYXZlZE5hbWUnIDogcmVzLnNhdmVOYW1lLCAndXVpZCcgOiB1cGxvYWRlZEZpbGVJbmZvLnVwbG9hZC51dWlkfV0KCiAgICB9LAogICAgZHJvcHpvbmVQcm9jZXNzaW5nKCkgewogICAgICB0aGlzLiRyZWZzLnVzZXJQaG90b0Ryb3B6b25lLnNldE9wdGlvbignaGVhZGVycycsIHtBdXRob3JpemF0aW9uOiBgYmVhcmVyICR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiWC1Ub2tlbiIpID8/ICcnfWB9KQogICAgfSwKICAgIGRyb3B6b25lUmVtb3ZlKGYpIHsKICAgICAgdGhpcy51c2VyLnBob3RvRmlsZSA9IG51bGw7CiAgICAgIHRoaXMuYXR0YWNobWVudEltYWdlcyA9IHRoaXMuYXR0YWNobWVudEltYWdlcy5maWx0ZXIoYSA9PiBhLnV1aWQgJiYgYS51dWlkICE9PSBmLnVwbG9hZC51dWlkKTsKICAgIH0sCiAgICB1cGxvYWRlZFJlbW92ZShmaWxlSWQpIHsKICAgICAgdGhpcy51c2VyLnBob3RvRmlsZSA9IG51bGw7CiAgICAgIHRoaXMuYXR0YWNobWVudEltYWdlcyA9IHRoaXMuYXR0YWNobWVudEltYWdlcy5maWx0ZXIoZiA9PiBmLmZpbGVJZCAhPT0gZmlsZUlkKTsKICAgIH0sCiAgICBhc3luYyBpc1VuaXF1ZUxvZ2luSWQoKSB7CiAgICAgIHRoaXMubWVzc2FnZS5zdWNjZXNzID0gbnVsbDsKICAgICAgdGhpcy5tZXNzYWdlLmVycm9yID0gbnVsbDsKCiAgICAgIGlmKHRoaXMudXNlci5sb2dpbklkKSB7CiAgICAgICAgY29uc3QgaXNVc2VkID0gYXdhaXQgVXNlckFwaS5leGlzdExvZ2luSWQodGhpcy51c2VyLmxvZ2luSWQpOyAvLy50aGVuKChleGlzdGVkKSA9PiBleGlzdGVkLmRhdGEpCiAgICAgICAgaWYgKGlzVXNlZCAmJiB0aGlzLm9yaWdpblVzZXIubG9naW5JZCAhPT0gdGhpcy51c2VyLmxvZ2luSWQpIHsKICAgICAgICAgIHRoaXMubWVzc2FnZS5lcnJvciA9ICfsnbTrr7gg7IKs7Jqp7KSR7J24IOyVhOydtOuUlOyeheuLiOuLpC4nOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB0aGlzLm1lc3NhZ2Uuc3VjY2VzcyA9ICfsgqzsmqkg6rCA64ql7ZWcIOyVhOydtOuUlOyeheuLiOuLpC4nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBpc1VuaXF1ZUVtYWlsKCkgewoKICAgICAgdGhpcy5tZXNzYWdlLmVycm9yRW1haWwgPSBudWxsOwogICAgICB0aGlzLm1lc3NhZ2Uuc3VjY2Vzc0VtYWlsID0gbnVsbDsKCiAgICAgIGlmKHRoaXMudXNlci5lbWFpbCkgewoKICAgICAgICBjb25zdCBpc1VzZWQgPSBhd2FpdCBVc2VyQXBpLmV4aXN0RW1haWwodGhpcy51c2VyLmVtYWlsKTsgLy8udGhlbigoZXhpc3RlZCkgPT4gZXhpc3RlZC5kYXRhKQoKICAgICAgICBpZiAoaXNVc2VkICYmIHRoaXMudXNlci5lbWFpbCAhPT0gdGhpcy5vcmlnaW5Vc2VyLmVtYWlsKSB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3JFbWFpbCA9ICfsnbTrr7gg7IKs7Jqp7KSR7J24IOydtOuplOydvCDso7zshozsnoXri4jri6QuJzsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5tZXNzYWdlLmVycm9yRW1haWwgPSBudWxsOwogICAgICAgIHRoaXMubWVzc2FnZS5zdWNjZXNzRW1haWwgPSAn7IKs7JqpIOqwgOuKpe2VnCDso7zshozsnoXri4jri6QuJzsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgYXN5bmMgaXNVbmlxdWVNb2JpbGUoKSB7CgogICAgICB0aGlzLm1lc3NhZ2UuZXJyb3JNb2JpbGUgPSBudWxsOwogICAgICB0aGlzLm1lc3NhZ2Uuc3VjY2Vzc01vYmlsZSA9IG51bGw7CgogICAgICBpZih0aGlzLnVzZXIubW9iaWxlTm8pIHsKCiAgICAgICAgY29uc3QgaXNVc2VkID0gYXdhaXQgVXNlckFwaS5leGlzdE1vYmlsZSh0aGlzLnVzZXIubW9iaWxlTm8pOyAvLy50aGVuKChleGlzdGVkKSA9PiBleGlzdGVkLmRhdGEpCgogICAgICAgIGlmIChpc1VzZWQgJiYgdGhpcy51c2VyLm1vYmlsZU5vICE9PSB0aGlzLm9yaWdpblVzZXIubW9iaWxlTm8pIHsKICAgICAgICAgIHRoaXMubWVzc2FnZS5lcnJvck1vYmlsZSA9ICfsnbTrr7gg7IKs7Jqp7KSR7J24IOyXsOudveyymCDrsojtmLjsnoXri4jri6QuJzsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5tZXNzYWdlLmVycm9yTW9iaWxlID0gbnVsbDsKICAgICAgICB0aGlzLm1lc3NhZ2Uuc3VjY2Vzc01vYmlsZSA9ICfsgqzsmqkg6rCA64ql7ZWcIOuyiO2YuOyeheuLiOuLpC4nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLnVzZXJGb3JtLnZhbGlkYXRlKCkpIHsKCiAgICAgICAgY29uc3QgdmFsaWQgPSBbYXdhaXQgdGhpcy5pc1VuaXF1ZUxvZ2luSWQodGhpcy51c2VyLmxvZ2luSWQpLCBhd2FpdCB0aGlzLmlzVW5pcXVlRW1haWwodGhpcy51c2VyLmVtYWlsKSwgYXdhaXQgdGhpcy5pc1VuaXF1ZU1vYmlsZSh0aGlzLnVzZXIubW9iaWxlTm8pXTsKICAgICAgICBpZih2YWxpZC5pbmRleE9mKGZhbHNlKSAhPT0gLTEpIHsKICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLDUwKQogICAgICAgICAgYWxlcnQoIu2VhOyImCDsnoXroKUg7ZWt66qp7J2EIO2ZleyduO2VtOyjvOyEuOyalC4iKQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICB0aGlzLnVzZXIucGhvdG9GaWxlID0gdGhpcy5hdHRhY2htZW50SW1hZ2VzPy5tYXAoYSA9PiBhLnNhdmVkTmFtZSk/LlswXT8/bnVsbAoKICAgICAgICB0aGlzLnVzZXIudXNlckhhc1JvbGVzID0gdGhpcy51c2VySGFzUm9sZXM/Lm1hcChyID0+IHIuaWQpPz9bXQoKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgICB0aGlzLmlzU2lnblVwRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgVXNlckFwaS5lZGl0KHRoaXMudXNlcikudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnVzZXIubG9naW5QdyA9IG51bGw7CiAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZCA9IG51bGw7CgogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgdGhpcy5pc1NpZ25VcERpc2FibGVkID0gZmFsc2UKCiAgICAgICAgICB0aGlzLiRyZWZzLnVzZXJGb3JtLnJlc2V0VmFsaWRhdGlvbigpCgogICAgICAgICAgdGhpcy5zaG93UHJvZmlsZSA9IGZhbHNlCgogICAgICAgICAgYWxlcnQoJ+yImOyglSDrkJjsl4jsirXri4jri6QuJykKCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXIvU0VUX05BTUUnLCB0aGlzLnVzZXIubmFtZSk7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXIvU0VUX1BIT1RPJywgdGhpcy51c2VyLnBob3RvRmlsZSk7CiAgICAgICAgICB0aGlzLnVzZXJJbWFnZSA9IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX0ZJTEVfU0VSVkVSX1VSTH0vdXNlci9waG90by90aHVtYl8ke3RoaXMudXNlci5waG90b0ZpbGV9YAoKCiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FwcC9zaG93RXJyb3InLCB7bWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JfZGVzY3JpcHRpb24sIGVycm9yOnttZXNzYWdlOiAnJ319KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAvLyBhbGVydChlKQogICAgICAgIH0pCgogICAgICB9CiAgICB9LAogICAgZ2V0UHJvZmlsZSgpIHsKCiAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuZGF0YS5pZCkgewogICAgICAgIFVzZXJBcGkuZ2V0TXlQcm9maWxlKCkudGhlbihkYXRhID0+IHsKICAgICAgICAgIHRoaXMudXNlciA9IGRhdGE7CiAgICAgICAgICB0aGlzLnVzZXIubG9naW5QdyA9IG51bGw7CiAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZCA9IG51bGw7CgogICAgICAgICAgdGhpcy51c2VySGFzUm9sZXMgPSB0aGlzLnVzZXIudXNlckhhc1JvbGVzPy5tYXAociA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgJ3JvbGVOYW1lJzpyLnJvbGUucm9sZU5hbWUsCiAgICAgICAgICAgICAgJ2lkJzpyLnJvbGUuaWQKICAgICAgICAgICAgfQogICAgICAgICAgfSk/P1tdCgogICAgICAgICAgdGhpcy5vcmlnaW5Vc2VyID0gXy5jbG9uZURlZXAoZGF0YSk7CgogICAgICAgICAgdGhpcy5hdHRhY2htZW50SW1hZ2VzID0gdGhpcy51c2VyLnBob3RvRmlsZSA/IFt7J3NhdmVkTmFtZScgOiB0aGlzLnVzZXIucGhvdG9GaWxlfV0gOiBbXQogICAgICAgIH0pCiAgICAgIH0KCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci5kYXRhLnBob3RvKSB7CiAgICAgIGNvbnN0IHBob3RvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5kYXRhLnBob3RvCiAgICAgIHRoaXMudXNlckltYWdlID0gYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9BVFRBQ0hfRklMRV9TRVJWRVJfVVJMfS91c2VyL3Bob3RvL3RodW1iXyR7cGhvdG99YAogICAgfQogICAgLy8gdGhpcy5nZXRQcm9maWxlKCk7CiAgfQp9Cg=="},{"version":3,"sources":["ToolbarUser.vue"],"names":[],"mappings":";AAmKA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ToolbarUser.vue","sourceRoot":"src/components/toolbar","sourcesContent":["<template>\n  <v-menu offset-y left transition=\"slide-y-transition\" z-index=\"100\">\n    <template v-slot:activator=\"{ on }\">\n<!--      <v-btn icon class=\"elevation-2\" v-on=\"on\">-->\n      <v-btn\n        rounded\n        class=\"elevation-2\"\n        v-on=\"on\">\n\n        <v-badge\n          color=\"success\"\n          dot\n          bordered\n          offset-x=\"10\"\n          offset-y=\"10\"\n        >\n          <v-avatar size=\"40\" left>\n            <v-img :src=\"userImage\"></v-img>\n          </v-avatar>\n        </v-badge>\n\n        <span style=\"padding-left: 10px\">\n        {{$store.state.user.name}}\n        </span>\n      </v-btn>\n    </template>\n\n    <!-- user menu list -->\n    <v-list dense nav>\n\n      <v-list-item @click.stop=\"edit()\">\n        <v-list-item-icon>\n          <v-icon small>mdi-account-box-outline</v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>{{ $t('menu.profile') }}</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-dialog v-model=\"showProfile\" max-width=\"500\">\n          <v-card class=\"text-center pa-1\" style=\"width: 500px\">\n            <v-card-title class=\"justify-center display-1 mb-2\">\n              <span>Edit Profile</span>\n              <v-spacer></v-spacer>\n              <v-menu\n                bottom\n                left\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    @click=\"showProfile = false\"\n                  >\n                    <v-icon>mdi-close</v-icon>\n                  </v-btn>\n                </template>\n              </v-menu>\n\n            </v-card-title>\n            <v-card-text>\n              <v-form ref=\"userForm\" v-model=\"isFormValid\" lazy-validation>\n\n                <vue-dropzone\n                  ref=\"userPhotoDropzone\"\n                  id=\"dropzone\"\n                  :style=\"'background-color: #ffffff !important;'\"\n                  :options=\"dropzoneOptions\"\n                  :useCustomSlot=\"true\"\n                  @vdropzone-success=\"dropzoneUploadSuccess\"\n                  @vdropzone-removed-file=\"dropzoneRemove\"\n                  @vdropzone-processing=\"dropzoneProcessing\"\n                >\n<!--                  style=\"margin-top: -40px;\"-->\n                  <div v-if=\"user.photoFile\">\n                    <v-badge\n                      bordered\n                      dark\n                      color=\"black\"\n                      icon=\"mdi-delete\"\n                      @click.native=\"dropzoneRemove\"\n                    >\n<!--                      overlap-->\n\n                      <!--                    <v-img :src=\"`${user.photoFile}`\" position=\"center center\"/>-->\n                      <v-img :src=\"`${attachmentPath}/user/photo/${user.photoFile}`\" max-width=\"392\"/>\n                    </v-badge>\n                  </div>\n                  <div v-if=\"!user.photoFile && attachmentImages.length === 0\" class=\"dropzone-custom-content\">\n                    <h3 class=\"dropzone-custom-title\">회원 사진</h3>\n                    <div class=\"subtitle\">Drag and drop or click to select a file from your computer</div>\n                  </div>\n                </vue-dropzone>\n\n                <v-text-field label=\"로그인 아이디\"\n                              v-model=\"user.loginId\"\n                              ref=\"loginId\"\n                              maxlength=\"50\"\n                              :rules=\"[rules.common.required, rules.common.loginId]\"\n                              @input=\"value => user.loginId = value.toLowerCase()\"\n                              @keydown.enter=\"isUniqueLoginId\"\n                              @blur=\"isUniqueLoginId\"\n                              :success-messages=\"message.success\"\n                              :error-messages=\"message.error\"\n                />\n                <v-text-field label=\"로그인 패스워드\" v-model=\"user.loginPw\" maxlength=\"120\"\n                              :type=\"showPassword ? 'text' : 'password'\"\n                              :append-icon=\"showPassword? 'mdi-eye' : 'mdi-eye-off'\"\n                              @click:append=\"showPassword = !showPassword\"\n                />\n                <v-text-field label=\"패스워드 확인\" v-model=\"confirmPassword\" :rules=\"[passwordCompare]\" maxlength=\"120\"\n                              :type=\"decryptLoginConfirmPw ? 'text' : 'password'\"\n                              :append-icon=\"decryptLoginConfirmPw? 'mdi-eye' : 'mdi-eye-off'\"\n                              @click:append=\"decryptLoginConfirmPw = !decryptLoginConfirmPw\"\n                />\n                <v-text-field label=\"이름\" v-model=\"user.name\" :rules=\"[rules.common.required]\" maxlength=\"120\"/>\n                <!--          <v-text-field label=\"닉네임\" v-model=\"user.nickname\" maxlength=\"120\"/>-->\n\n                <v-text-field label=\"이메일\" v-model=\"user.email\" ref=\"email\" :rules=\"[rules.common.required, rules.common.email]\" maxlength=\"120\"\n                              @keydown.enter=\"isUniqueEmail\"\n                              @blur=\"isUniqueEmail\"\n                              :error-messages=\"message.errorEmail\" :success-messages=\"message.successEmail\"\n                />\n                <v-text-field label=\"연락처\" v-model=\"user.mobileNo\" :rules=\"[rules.common.required, rules.common.mobile]\" maxlength=\"50\"\n                              @keydown.enter=\"isUniqueMobile\"\n                              @blur=\"isUniqueMobile\"\n                              :error-messages=\"message.errorMobile\" :success-messages=\"message.successMobile\"\n                />\n\n                <v-btn\n                  :loading=\"isLoading\"\n                  :disabled=\"isSignUpDisabled\"\n                  block\n                  x-large\n                  color=\"primary\"\n                  @click=\"submit\"\n                >Edit Profile</v-btn>\n\n              </v-form>\n            </v-card-text>\n          </v-card>\n      </v-dialog>\n\n\n      <v-divider class=\"my-1\"></v-divider>\n\n      <v-list-item @click=\"logout()\">\n        <v-list-item-icon>\n          <v-icon small>mdi-logout-variant</v-icon>\n        </v-list-item-icon>\n        <v-list-item-content>\n          <v-list-item-title>{{ $t('menu.logout') }}</v-list-item-title>\n        </v-list-item-content>\n      </v-list-item>\n\n    </v-list>\n\n\n  </v-menu>\n</template>\n\n<script>\nimport config from '../../configs'\n\nimport UserApi from \"@/api/UserApi\";\n\nimport rules from \"@/utils/rules\";\n\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport _ from \"lodash\";\n\n\n/*\n|---------------------------------------------------------------------\n| Toolbar User Component\n|---------------------------------------------------------------------\n|\n| Quickmenu for user menu shortcuts on the toolbar\n|\n*/\nexport default {\n  components: {\n    vueDropzone: vue2Dropzone\n  },\n  computed: {\n    dropzoneOptions() {\n      return {\n        url: `${process.env.VUE_APP_GW_URL}/users/user/upload/image`,\n        thumbnailHeight: 110,\n        thumbnailWidth: 140,\n        maxFilesize: 10, // mb\n        maxFiles: 2,\n        // acceptedFileTypes: \"image/*\",\n        acceptedFiles: \"image/*\",\n        headers: {\n          'Authorization': `bearer ${this?.$store?.getters?.[\"user/token\"] ?? ''}`\n        },\n        uploadMultiple: false,\n        clickable: true,\n        addRemoveLinks: true\n      }\n    },\n    passwordCompare() {\n      return () => (!this.user.loginPw && !this.confirmPassword) || (this.user.loginPw === this.confirmPassword) || '패스워드가 일치하지 않습니다.'\n    }\n  },\n  data() {\n    return {\n      // sign up buttons\n      isLoading: false,\n      isSignUpDisabled: false,\n\n      attachmentPath:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n      // form\n      isFormValid: true,\n      email: '',\n      password: '',\n      confirmPassword: '',\n      name: '',\n      user: {},\n      decryptLoginPw: false,\n      decryptLoginConfirmPw: false,\n\n      attachmentImages: [],\n      userHasRoles: [],\n\n      originUser: {},\n      // valid\n      rules,\n      // form error\n      errorName: false,\n      errorEmail: false,\n      errorPassword: false,\n      errorNameMessage: '',\n      errorEmailMessage: '',\n      errorPasswordMessage: '',\n\n      errorProvider: false,\n      errorProviderMessages: '',\n\n      message: {},\n\n      // show password field\n      showPassword: false,\n\n      showProfile: false,\n      menu: config.toolbar.user,\n      userImage: '/images/avatars/avatar1.svg'\n    }\n  },\n  watch: {\n    showProfile: {\n      handler(nv) {\n        if(nv)\n          this.getProfile()\n      }\n    }\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('user/logout');\n      this.$router.push('/auth/signin');\n    },\n    edit() {\n      this.showProfile = !this.showProfile\n    },\n    dropzoneUploadSuccess(uploadedFileInfo, res) {\n\n      // this.user.photoFile = res[0].publishedUri\n      const acceptedFiles = this.$refs.userPhotoDropzone.getAcceptedFiles();\n      if(acceptedFiles && acceptedFiles.length > 1) {\n        this.$refs.userPhotoDropzone.removeFile(acceptedFiles[0]);\n\n      }\n      // this.$refs.userPhotoDropzone.removeAllFiles();\n\n      // console.log(res)\n      // console.log(uploadedFileInfo)\n      // this.attachmentImages = [...this.attachmentImages, ...res.map(r => {return {'fileId' : r.id, 'uuid' : uploadedFileInfo.upload.uuid}})]\n      // this.attachmentImages = [...res.map(r => {return {'fileId' : r.id, 'uuid' : uploadedFileInfo.upload.uuid}})]\n      this.attachmentImages = [{'savedName' : res.saveName, 'uuid' : uploadedFileInfo.upload.uuid}]\n\n    },\n    dropzoneProcessing() {\n      this.$refs.userPhotoDropzone.setOption('headers', {Authorization: `bearer ${sessionStorage.getItem(\"X-Token\") ?? ''}`})\n    },\n    dropzoneRemove(f) {\n      this.user.photoFile = null;\n      this.attachmentImages = this.attachmentImages.filter(a => a.uuid && a.uuid !== f.upload.uuid);\n    },\n    uploadedRemove(fileId) {\n      this.user.photoFile = null;\n      this.attachmentImages = this.attachmentImages.filter(f => f.fileId !== fileId);\n    },\n    async isUniqueLoginId() {\n      this.message.success = null;\n      this.message.error = null;\n\n      if(this.user.loginId) {\n        const isUsed = await UserApi.existLoginId(this.user.loginId); //.then((existed) => existed.data)\n        if (isUsed && this.originUser.loginId !== this.user.loginId) {\n          this.message.error = '이미 사용중인 아이디입니다.';\n          return false;\n        }\n        this.message.success = '사용 가능한 아이디입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async isUniqueEmail() {\n\n      this.message.errorEmail = null;\n      this.message.successEmail = null;\n\n      if(this.user.email) {\n\n        const isUsed = await UserApi.existEmail(this.user.email); //.then((existed) => existed.data)\n\n        if (isUsed && this.user.email !== this.originUser.email) {\n          this.message.errorEmail = '이미 사용중인 이메일 주소입니다.';\n          return false;\n        }\n        this.message.errorEmail = null;\n        this.message.successEmail = '사용 가능한 주소입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async isUniqueMobile() {\n\n      this.message.errorMobile = null;\n      this.message.successMobile = null;\n\n      if(this.user.mobileNo) {\n\n        const isUsed = await UserApi.existMobile(this.user.mobileNo); //.then((existed) => existed.data)\n\n        if (isUsed && this.user.mobileNo !== this.originUser.mobileNo) {\n          this.message.errorMobile = '이미 사용중인 연락처 번호입니다.';\n          return false;\n        }\n        this.message.errorMobile = null;\n        this.message.successMobile = '사용 가능한 번호입니다.';\n        return true;\n      }\n\n      return true;\n    },\n    async submit() {\n      if (this.$refs.userForm.validate()) {\n\n        const valid = [await this.isUniqueLoginId(this.user.loginId), await this.isUniqueEmail(this.user.email), await this.isUniqueMobile(this.user.mobileNo)];\n        if(valid.indexOf(false) !== -1) {\n          window.scrollTo(0,50)\n          alert(\"필수 입력 항목을 확인해주세요.\")\n          return\n        }\n\n        this.user.photoFile = this.attachmentImages?.map(a => a.savedName)?.[0]??null\n\n        this.user.userHasRoles = this.userHasRoles?.map(r => r.id)??[]\n\n        this.isLoading = true\n        this.isSignUpDisabled = true\n        UserApi.edit(this.user).then(() => {\n          this.user.loginPw = null;\n          this.confirmPassword = null;\n\n          this.isLoading = false\n          this.isSignUpDisabled = false\n\n          this.$refs.userForm.resetValidation()\n\n          this.showProfile = false\n\n          alert('수정 되었습니다.')\n\n          this.$store.commit('user/SET_NAME', this.user.name);\n          this.$store.commit('user/SET_PHOTO', this.user.photoFile);\n          this.userImage = `${process.env.VUE_APP_ATTACH_FILE_SERVER_URL}/user/photo/thumb_${this.user.photoFile}`\n\n\n        }).catch(error => {\n          this.$store.dispatch('app/showError', {message: error.response.data.message || error.response.data.error_description, error:{message: ''}});\n          // console.log(e)\n          // alert(e)\n        })\n\n      }\n    },\n    getProfile() {\n\n      if(this.$store.state.user.data.id) {\n        UserApi.getMyProfile().then(data => {\n          this.user = data;\n          this.user.loginPw = null;\n          this.confirmPassword = null;\n\n          this.userHasRoles = this.user.userHasRoles?.map(r => {\n            return {\n              'roleName':r.role.roleName,\n              'id':r.role.id\n            }\n          })??[]\n\n          this.originUser = _.cloneDeep(data);\n\n          this.attachmentImages = this.user.photoFile ? [{'savedName' : this.user.photoFile}] : []\n        })\n      }\n\n    }\n  },\n  created() {\n    if(this.$store.state.user.data.photo) {\n      const photo = this.$store.state.user.data.photo\n      this.userImage = `${process.env.VUE_APP_ATTACH_FILE_SERVER_URL}/user/photo/thumb_${photo}`\n    }\n    // this.getProfile();\n  }\n}\n</script>\n"]}]}