{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue","mtime":1665531625449},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknCmltcG9ydCBib2FyZEFwaSBmcm9tICdAL2FwaS9Cb2FyZEFwaScKaW1wb3J0IGNvbW1lbnRBcGkgZnJvbSAnQC9hcGkvQ29tbWVudEFwaScKCgoKLy8gaW1wb3J0IFZpZXdlclRpcHRhcCBmcm9tICJAL3ZpZXdzL2NvbXBvbmVudC9WaWV3ZXJUaXB0YXBDb21wb25lbnQiOwppbXBvcnQgVmlld2VyUXVpbGwgZnJvbSAiQC9jb21wb25lbnRzL2VkaXRvci9WaWV3ZXJRdWlsbENvbXBvbmVudCI7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCcKCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKCgoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXJ0aWNsZUZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIFZpZXdlclF1aWxsCiAgfSwKICBwcm9wczogWydpZCcsICAnYm9hcmRJZCddLAogIGNvbXB1dGVkOiB7CiAgICBicmVhZGNydW1icygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAn6rKM7Iuc66y8IOq0gOumrCcsCiAgICAgICAgICB0bzogYC9ib2FyZHMvJHt0aGlzLmJvYXJkLmlkfS9hcnRpY2xlc2AsCiAgICAgICAgICBleGFjdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGV4dDogJ+qyjOyLnOusvCDsobDtmownCiAgICAgICAgfQogICAgICBdCiAgICB9LAogICAgY3JlYXRlZEF0OiB7CiAgICAgIGdldCgpIHsKICAgICAgICAvLyByZXR1cm4gdGhpcy5jb21lbnQuY3JlYXRlZEF0ID8gdGhpcy5jb21lbnQuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCkgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJZWVlZLU1NLUREIikgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgaWYodmFsdWUubGVuZ3RoID09PSAxMCAmJiB0aGlzLiRtb21lbnQodmFsdWUsICJZWVlZLU1NLUREIikuaXNWYWxpZCgpKSB7CiAgICAgICAgICB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID0gdmFsdWUgPyB2YWx1ZSArICJUIiArICh0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID8gdGhpcy4kbW9tZW50KHRoaXMuY29tbWVudC5jcmVhdGVkQXQsICJZWVlZLU1NLUREW1RdSEg6bW06c3MiKS5mb3JtYXQoIkhIOm1tOnNzIikgOiAiMDA6MDA6MDAiKSA6IHRoaXMuY29tbWVudC5jcmVhdGVkQXQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgYm9hcmQ6e30sCiAgICBhcnRpY2xlOiB7CiAgICAgIHRpdGxlOiBudWxsLAogICAgICBjb250ZW50czogbnVsbCwKICAgICAgd3JpdGVyOiBudWxsLAogICAgICBhbHdheXM6IHRydWUsCiAgICAgIGN1c3RvbURhdGU6IG51bGwKICAgIH0sCiAgICBjb21tZW50OiB7CiAgICAgIGNvbnRlbnQ6IG51bGwsCiAgICAgIHdyaXRlcjogbnVsbCwKICAgICAgY3JlYXRlZEF0OiBudWxsCiAgICB9LAogICAgY29tbWVudEhlYWRlcnM6IFt7dmFsdWU6ICd3cml0ZXInfSwge3ZhbHVlIDogJ2NvbnRlbnRzJ30sIHt2YWx1ZTogJ2FjdGlvbnMnfV0sCiAgICBjb21tZW50czpbXSwKICAgIHRvdGFsSXRlbXM6MCwKICAgIG9wdGlvbnM6e30sCiAgICBwZXJpb2Q6bnVsbCwKICAgIGFwaUVuZFBvaW50OnByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICBlbmRQb2ludDpwcm9jZXNzLmVudi5WVUVfQVBQX0FUVEFDSF9GSUxFX1NFUlZFUl9VUkwsCiAgICBydWxlczogewogICAgICByZXF1aXJlZDogdmFsdWUgPT4gISF2YWx1ZSB8fCAn7ZWE7IiYIOyeheugpSDtla3rqqnsnoXri4jri6QuLicsCiAgICAgIGlzbzg2MDE6IHZhbHVlID0+ICghdmFsdWUgfHwgISEvKFsxMl1cZHszfS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMTJdXGR8M1swMV0pKSQvLnRlc3QodmFsdWUpKSB8fCAn64Kg7KecIO2YleyLneydtCDslYTri5nri4jri6QuJwogICAgfSwKICAgIGVkaXRDb21tZW50OiB7fSwKICAgIHBlcm1pc3Npb246IHt9CiAgfSksCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlciAoKSB7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlYWN0aW9uKCkgewogICAgICBhcnRpY2xlQXBpLnJlYWN0aW9uKHRoaXMuYXJ0aWNsZS5hcnRpY2xlSWQsIHRoaXMuYXJ0aWNsZS5ib2FyZElkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYocmVzLmRhdGEpIHsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFjdGlvbkNvdW50ID0gdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgKzE7CiAgICAgICAgICB0aGlzLmFydGljbGUucmVhZFVzZXJIYXNSZWFjdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFjdGlvbkNvdW50ID0gdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgLTE7CiAgICAgICAgICB0aGlzLmFydGljbGUucmVhZFVzZXJIYXNSZWFjdGlvbiA9IGZhbHNlOwogICAgICAgICAgLy8gYWxlcnQoIuydtOuvuCDsspjrpqzrkJjsl4jsirXri4jri6QuIikKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkRmlsZShmKSB7CgogICAgICBhcnRpY2xlQXBpLmRvd25sb2FkRmlsZSh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5hcnRpY2xlLmlkLCBmLmlkKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSwgeyB0eXBlOiByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSB9KQogICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpCiAgICAgICAgbGluay5kb3dubG9hZCA9IGYuZmlsZVJlYWxOYW1lLnNsaWNlKGYuZmlsZVJlYWxOYW1lLmxhc3RJbmRleE9mKCcvJykgKyAxKTsKICAgICAgICBsaW5rLmNsaWNrKCkKICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZikKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkKICAgICAgICAgIGFsZXJ0KCLtjIzsnbzsnYQg7LC+7J2EIOyImCDsl4bsirXri4jri6QuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgYWxlcnQoZXJyb3Iuc3RhdHVzKTsKICAgICAgfSk7CiAgICB9LAogICAgZ29MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogYC9ib2FyZHMvJHt0aGlzLmJvYXJkSWR9L2FydGljbGVzYH0pCiAgICB9LAogICAgZGVsZXRlQXJ0aWNsZShpdGVtKSB7CiAgICAgIGlmKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGFydGljbGVBcGkuZGVsZXRlKGl0ZW0uYm9hcmRJZCwgaXRlbS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7IKt7KCc65CY7JeI7Iq164uI64ukLiIpCiAgICAgICAgICB0aGlzLmdvTGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlRm9ybShpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOmAvYm9hcmRzLyR7aXRlbS5ib2FyZElkfS9hcnRpY2xlcy8ke2l0ZW0uaWR9L2Zvcm1gfSk7CiAgICB9LAogICAgYXN5bmMgc2F2ZUNvbW1lbnQoKSB7CiAgICAgIGlmICghYXdhaXQgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC52YWxpZGF0ZSgpKQogICAgICAgIHJldHVybjsKCiAgICAgIC8vIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCArICJUMDA6MDA6MDAiIDogbnVsbDsKICAgICAgY29tbWVudEFwaS5zYXZlKHRoaXMuYm9hcmRJZCwgdGhpcy5pZCwgdGhpcy5jb21tZW50KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmNvbW1lbnQuY29udGVudHMgPSBudWxsOwogICAgICAgIC8vIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSBudWxsOwogICAgICAgIHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQucmVzZXRWYWxpZGF0aW9uKCkKICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm1Db21tZW50LnJlc2V0KCk7CiAgICAgICAgLy8gdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcm5hbWU7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCk7CiAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVDb21tZW50KCkgewogICAgICBpZiAoIWF3YWl0IHRoaXMuJHJlZnMuZm9ybUxpc3RDb21tZW50LnZhbGlkYXRlKCkpCiAgICAgICAgcmV0dXJuOwoKICAgICAgaWYoY29uZmlybSgn64yT6riA7J2EIOyImOygle2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGNvbW1lbnRBcGkuc2F2ZSh0aGlzLmJvYXJkSWQsIHRoaXMuaWQsIHRoaXMuZWRpdENvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgICAgICh0aGlzLmNvbW1lbnRzLmZpbHRlcihjID0+IGMuY29tbWVudElkID09PSB0aGlzLmVkaXRDb21tZW50LmNvbW1lbnRJZCk/LlswXSA/PyB7fSkuY29udGVudHMgPSB0aGlzLmVkaXRDb21tZW50LmNvbnRlbnRzOwogICAgICAgICAgdGhpcy5lZGl0Q29tbWVudCA9IHt9OwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlQ29tbWVudEZvcm0oaXRlbSkgewogICAgICB0aGlzLmVkaXRDb21tZW50ID0gXy5jbG9uZURlZXAoaXRlbSk7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pCiAgICB9LAogICAgY2FuY2VsQ29tbWVudCgpIHsKICAgICAgdGhpcy5lZGl0Q29tbWVudCA9IHt9OwogICAgfSwKICAgIGRlbGV0ZUNvbW1lbnQoaXRlbSkgewogICAgICBpZihjb25maXJtKCfrjJPquIDsnYQg7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7CiAgICAgICAgY29tbWVudEFwaS5kZWxldGUodGhpcy5ib2FyZElkLCB0aGlzLmlkLCBpdGVtLmlkKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIGlmKHRoaXMuYXJ0aWNsZS5pZCkgewogICAgICAgIGNvbnN0IHtwYWdlLCBpdGVtc1BlclBhZ2UsIHNpemV9ID0gdGhpcy5vcHRpb25zOwogICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAuLi50aGlzLnBhcmFtLCAuLi57CiAgICAgICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgICAgIHNpemU6IHNpemUgPyBzaXplIDogaXRlbXNQZXJQYWdlCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb21tZW50QXBpLmZpbmRBbGxCeUFydGljbGVJZCh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5pZCwgcGFyYW1zKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsRWxlbWVudHM7CiAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gZGF0YS5jb250ZW50OwogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKCiAgICBpZih0aGlzLmlkKSB7CiAgICAgIHRoaXMucGVybWlzc2lvbiA9IGF3YWl0IGJvYXJkQXBpLmZpbmRBc3NpZ25lZFBlcm1pc3Npb25JZCh0aGlzLmJvYXJkSWQsIHthcnRpY2xlSWQ6IHRoaXMuaWR9KQoKICAgICAgYXJ0aWNsZUFwaS5maW5kQnlJZCh0aGlzLmJvYXJkSWQsIHRoaXMuaWQpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIHRoaXMuYXJ0aWNsZSA9IGRhdGE7CgogICAgICAgIHRoaXMuY29tbWVudC5hcnRpY2xlSWQgPSB0aGlzLmFydGljbGUuYXJ0aWNsZUlkOwogICAgICAgIHRoaXMuY29tbWVudC5ib2FyZElkID0gdGhpcy5hcnRpY2xlLmJvYXJkSWQ7CgogICAgICAgIHRoaXMuc2VhcmNoKCk7CgogICAgICAgIC8vIHRoaXMuYXJ0aWNsZS5jdXN0b21EYXRlID0gdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdC5zdWJzdHIoMCwxMCk7CgogICAgICAgIHRoaXMucGVyaW9kID0gW3RoaXMuYXJ0aWNsZS5zdGFydER0LCB0aGlzLmFydGljbGUuZW5kRHRdLmZpbHRlcihkID0+IGQgIT09IG51bGwpLm1hcChkID0+IG1vbWVudChkKS5mb3JtYXQoIllZWVnrhYQgTU3sm5QgRETsnbwiKSkuam9pbigiIH4gIik7CgogICAgICB9KTsKICAgIH0KICAgIC8vIHRoaXMuY29tbWVudC53cml0ZXIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzPy5bJ3VzZXIvbmFtZSddID8/ICcnOwogICAgLy8gdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcm5hbWU7CiAgICB0aGlzLmNvbW1lbnQud3JpdGVyID0gdGhpcy4kc3RvcmUuZ2V0dGVycz8uWyd1c2VyL25hbWUnXSA/PyAnJzsKICAgIC8vIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQgSEg6bW06c3MiKQoKICAgIGJvYXJkQXBpLmZpbmRCeUlkKHRoaXMuYm9hcmRJZCkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgdGhpcy5ib2FyZCA9IGRhdGE7CiAgICAgIGlmICghdGhpcy5hcnRpY2xlSWQpCiAgICAgICAgdGhpcy5wZXJtaXNzaW9uID0gYXdhaXQgYm9hcmRBcGkuZmluZEFzc2lnbmVkUGVybWlzc2lvbklkKHRoaXMuYm9hcmRJZCkKICAgIH0pOwoKCiAgfQp9Cg=="},{"version":3,"sources":["ArticleView.vue"],"names":[],"mappings":";AA2OA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"ArticleView.vue","sourceRoot":"src/apps/article","sourcesContent":["<template>\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\" v-if=\"id\">게시물 정보 상세 {{ article.title && `- ${article.title}` }} </div>\n\n        <div class=\"display-1\" v-else>게시물 생성</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn icon>\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n    </div>\n\n    <v-card class=\"my-2\">\n      <v-card-title>게시물 정보</v-card-title>\n      <v-card-text>\n        <div class=\"d-flex flex-column flex-sm-row\">\n          <div class=\"flex-grow-1 pt-2 pa-sm-2\">\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">제목</span>\n\n              <span class=\"mx-6\">\n                <v-chip\n                  color=\"primary\"\n                  small\n                  v-if=\"board.hasNotice && article.notice\"\n                >\n                  공지\n                </v-chip>\n\n                <template v-for=\"(c) in board.boardCategories\">\n                  <v-chip\n                    v-bind:key=\"c.categoryId\"\n                    small\n                    v-if=\"c.id === article.categoryId\"\n                  >\n                    {{c.categoryName}}\n                  </v-chip>\n                </template>\n\n                {{article.title}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\" v-if=\"article.notice && board.hasPeriod && !article.always\">\n              <span class=\"font-weight-bold\">공지기간</span>\n\n              <span class=\"mx-6\">{{period}}\n<!--                <template>-->\n<!--                  <v-chip-->\n<!--                    color=\"primary\"-->\n<!--                    small-->\n<!--                  >-->\n<!--                    상시-->\n<!--                  </v-chip>-->\n<!--                </template>-->\n<!--                <template v-else>-->\n<!--                  {{period}}-->\n<!--                </template>-->\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">작성자</span>\n              <span class=\"mx-6\">\n                {{article.writer}}\n              </span>\n\n              <span class=\"font-weight-bold\">작성일</span>\n              <span class=\"mx-6\">\n                {{  article.createdAt | formatDate('YYYY-MM-DD HH:mm:ss') }}\n              </span>\n\n              <span class=\"font-weight-bold\">조회수</span>\n              <span class=\"mx-6\">\n                {{article.hits ? article.hits : 1}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <viewer-quill :val=\"article.contents\" />\n<!--              <div v-html=\"article.contents.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\" v-else>-->\n<!--              </div>             -->\n            </div>\n\n            <div class=\"d-flex\" v-if=\"board.hasAttachment\">\n              <span class=\"font-weight-bold\">첨부 파일</span>\n              <span class=\"mx-6\">\n                <div v-if=\"article.articleAttachments\">\n                  <v-row v-for=\"f in article.articleAttachments\" v-bind:key=\"f.id\" class=\"ma-2\">\n                    <v-btn text  @click.prevent=\"downloadFile(f)\"><v-icon>{{ f.contentType.indexOf('image') === 0 ? 'mdi-image' : 'mdi-file' }}</v-icon>\n                      <v-tooltip bottom v-if=\"f.contentType.indexOf('image') === 0\">\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <span\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                          >\n                            {{ f.fileRealName }}\n                          </span>\n                        </template>\n\n                        <span>\n                          <v-img :src=\"`/attachment/${f.fileContextPath}${f.thumbnail}`\" max-height=\"200\" max-width=\"200\"/>\n                        </span>\n                      </v-tooltip>\n                      <span v-else>{{ f.fileRealName }}</span>\n                    </v-btn>\n                <!--                <a :href=\"`${apiEndPoint}/board/${article.boardId}/article/${article.articleId}/file/${f.id}`\" @click.prevent=\"downloadFile(f)\">{{ f.fileRealName }}</a>-->\n              </v-row>\n                </div>\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </v-card-text>\n    </v-card>\n\n    <div class=\"d-flex\">\n      <v-spacer></v-spacer>\n      <v-btn dark color=\"red\" @click=\"deleteArticle(article)\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제\n      </v-btn>\n      <v-btn color=\"primary\" dark @click=\"updateForm(article)\" style=\"margin-left: 1rem\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-pencil</v-icon>\n        수정\n      </v-btn>\n      <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록\n      </v-btn>\n    </div>\n\n    <div class=\"flex-grow-1\" v-if=\"board.hasComment\">\n\n      <v-card class=\"my-2\">\n        <v-card-title>댓글</v-card-title>\n        <v-card-text v-if=\"permission.commentable\">\n          <v-form ref=\"formComment\">\n            <v-row>\n\n              <v-col cols=\"4\">\n                <v-text-field v-model=\"comment.writer\" :rules=\"[rules.required]\" label=\"작성자\" dense />\n              </v-col>\n              <v-col cols=\"8\" v-if=\"permission.boardAdmin\">\n                <v-text-field v-model=\"createdAt\" :rules=\"[rules.iso8601]\" label=\"작성일 YYYY-MM-DD (수정시 입력)\" placeholder=\"YYYY-MM-DD\" dense maxlength=\"10\"/>\n              </v-col>\n\n              <v-col cols=\"12\" class=\"d-flex\">\n                <v-textarea v-model=\"comment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\"></v-textarea>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n\n        <v-card-actions v-if=\"permission.commentable\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"vBtn\" color=\"indigo\" dark @click=\"saveComment\">\n            <v-icon left>mdi mdi-content-save</v-icon>\n            댓글 등록\n          </v-btn>\n        </v-card-actions>\n\n        <v-card-text>\n          <v-form ref=\"formListComment\">\n            <v-data-table\n              :headers=\"commentHeaders\"\n              :items=\"comments\"\n              :server-items-length=\"totalItems\"\n              :options.sync=\"options\"\n              item-key=\"commentId\"\n              class=\"elevation-1 commentList\"\n              disable-sort\n              hide-default-header\n            >\n              <template v-slot:top>\n                댓글 ({{totalItems}})\n              </template>\n              <template v-slot:item.writer=\"{value, item}\">\n                <div>{{ value }}</div>\n                {{ item.createdAt | formatDate('YYYY-MM-DD HH:mm') }}\n              </template>\n\n              <template v-slot:item.contents=\"{value,item}\">\n                <div v-if=\"item.id === editComment.id\" class=\"d-flex\">\n                  <v-textarea v-model=\"editComment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\" v-if=\"item.id === editComment.id\"></v-textarea>\n                  <div>\n                    <v-btn color=\"#1991eb\" dark @click=\"updateComment\" style=\"margin-left: 1rem\">\n                      <v-icon left>mdi mdi-content-save</v-icon>\n                      수정\n                    </v-btn> <br />\n                    <v-btn @click=\"cancelComment\" style=\"margin-left: 1rem; margin-top: 3px\">\n                      <v-icon left>mdi mdi-reload</v-icon>\n                      취소\n                    </v-btn>\n                  </div>\n                </div >\n                <div v-html=\"value.split('\\n').join('<br />')\" v-else></div>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-icon\n                  small\n                  class=\"mr-2\"\n                  @click.stop=\"updateCommentForm(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-pencil\n                </v-icon>\n                <v-icon\n                  small\n                  @click.stop=\"deleteComment(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-delete\n                </v-icon>\n\n              </template>\n\n            </v-data-table>\n          </v-form>\n        </v-card-text>\n\n      </v-card>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport articleApi from '@/api/ArticleApi'\nimport boardApi from '@/api/BoardApi'\nimport commentApi from '@/api/CommentApi'\n\n\n\n// import ViewerTiptap from \"@/views/component/ViewerTiptapComponent\";\nimport ViewerQuill from \"@/components/editor/ViewerQuillComponent\";\nimport _ from 'lodash'\n\nimport moment from \"moment\";\n\n\n\n\nexport default {\n  name: \"ArticleForm\",\n  components: {\n    ViewerQuill\n  },\n  props: ['id',  'boardId'],\n  computed: {\n    breadcrumbs() {\n      return [\n        {\n          text: '게시물 관리',\n          to: `/boards/${this.board.id}/articles`,\n          exact: true\n        },\n        {\n          text: '게시물 조회'\n        }\n      ]\n    },\n    createdAt: {\n      get() {\n        // return this.coment.createdAt ? this.coment.createdAt.substr(0, 10) : this.$moment().format(\"YYYY-MM-DD\");\n        return this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"YYYY-MM-DD\") : this.$moment().format(\"YYYY-MM-DD\");\n      },\n      set(value) {\n        if(value.length === 10 && this.$moment(value, \"YYYY-MM-DD\").isValid()) {\n          this.comment.createdAt = value ? value + \"T\" + (this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"HH:mm:ss\") : \"00:00:00\") : this.comment.createdAt;\n        }\n      }\n    }\n  },\n  data: () => ({\n    board:{},\n    article: {\n      title: null,\n      contents: null,\n      writer: null,\n      always: true,\n      customDate: null\n    },\n    comment: {\n      content: null,\n      writer: null,\n      createdAt: null\n    },\n    commentHeaders: [{value: 'writer'}, {value : 'contents'}, {value: 'actions'}],\n    comments:[],\n    totalItems:0,\n    options:{},\n    period:null,\n    apiEndPoint:process.env.VUE_APP_BASE_API,\n    endPoint:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    rules: {\n      required: value => !!value || '필수 입력 항목입니다..',\n      iso8601: value => (!value || !!/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value)) || '날짜 형식이 아닙니다.'\n    },\n    editComment: {},\n    permission: {}\n  }),\n  watch: {\n    options: {\n      handler () {\n        this.search();\n      },\n      deep: true,\n    }\n  },\n  methods: {\n    reaction() {\n      articleApi.reaction(this.article.articleId, this.article.boardId).then(res => {\n        if(res.data) {\n          this.article.reactionCount = this.article.reactionCount +1;\n          this.article.readUserHasReaction = true;\n        } else {\n          this.article.reactionCount = this.article.reactionCount -1;\n          this.article.readUserHasReaction = false;\n          // alert(\"이미 처리되었습니다.\")\n        }\n      });\n    },\n    downloadFile(f) {\n\n      articleApi.downloadFile(this.article.boardId, this.article.id, f.id)\n      .then(response => {\n        const blob = new Blob([response.data], { type: response.headers['content-type'] })\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        link.download = f.fileRealName.slice(f.fileRealName.lastIndexOf('/') + 1);\n        link.click()\n        URL.revokeObjectURL(link.href)\n      })\n      .catch(error => {\n        console.log(error.response);\n        console.log(error.response.status);\n        if(error.response.status === 404)\n          alert(\"파일을 찾을 수 없습니다.\");\n        else\n          alert(error.status);\n      });\n    },\n    goList() {\n      this.$router.push({path: `/boards/${this.boardId}/articles`})\n    },\n    deleteArticle(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        articleApi.delete(item.boardId, item.id).then(() => {\n          alert(\"삭제되었습니다.\")\n          this.goList();\n        });\n      }\n    },\n    updateForm(item) {\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}/form`});\n    },\n    async saveComment() {\n      if (!await this.$refs.formComment.validate())\n        return;\n\n      // this.comment.createdAt = this.comment.createdAt ? this.comment.createdAt + \"T00:00:00\" : null;\n      commentApi.save(this.boardId, this.id, this.comment).then(() => {\n        this.comment.contents = null;\n        // this.comment.createdAt = null;\n        this.$refs.formComment.resetValidation()\n        // this.$refs.formComment.reset();\n        // this.comment.writer = this.$store.state.user.username;\n        this.search();\n      }).catch(error => {\n        this.comment.createdAt = this.comment.createdAt.substr(0, 10);\n        alert(error);\n      });\n    },\n    async updateComment() {\n      if (!await this.$refs.formListComment.validate())\n        return;\n\n      if(confirm('댓글을 수정하시겠습니까?')) {\n        commentApi.save(this.boardId, this.id, this.editComment).then(() => {\n          this.$refs.formComment.resetValidation();\n          (this.comments.filter(c => c.commentId === this.editComment.commentId)?.[0] ?? {}).contents = this.editComment.contents;\n          this.editComment = {};\n        });\n      }\n    },\n    updateCommentForm(item) {\n      this.editComment = _.cloneDeep(item);\n      console.log(item)\n    },\n    cancelComment() {\n      this.editComment = {};\n    },\n    deleteComment(item) {\n      if(confirm('댓글을 삭제하시겠습니까?')) {\n        commentApi.delete(this.boardId, this.id, item.id).then(() => {\n          this.search();\n        });\n      }\n    },\n    search() {\n      if(this.article.id) {\n        const {page, itemsPerPage, size} = this.options;\n        let params = {\n          ...this.param, ...{\n            page: page,\n            size: size ? size : itemsPerPage\n          }\n        };\n        commentApi.findAllByArticleId(this.article.boardId, this.id, params).then(data => {\n          // console.log(data);\n          this.totalItems = data.totalElements;\n          this.comments = data.content;\n        });\n      }\n    }\n\n  },\n  async created() {\n\n    if(this.id) {\n      this.permission = await boardApi.findAssignedPermissionId(this.boardId, {articleId: this.id})\n\n      articleApi.findById(this.boardId, this.id).then(async data => {\n\n        // console.log(data);\n        this.article = data;\n\n        this.comment.articleId = this.article.articleId;\n        this.comment.boardId = this.article.boardId;\n\n        this.search();\n\n        // this.article.customDate = this.article.createdAt.substr(0,10);\n\n        this.period = [this.article.startDt, this.article.endDt].filter(d => d !== null).map(d => moment(d).format(\"YYYY년 MM월 DD일\")).join(\" ~ \");\n\n      });\n    }\n    // this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.writer = this.$store.state.user.username;\n    this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.createdAt = moment().format(\"YYYY-MM-DD HH:mm:ss\")\n\n    boardApi.findById(this.boardId).then(async data => {\n      this.board = data;\n      if (!this.articleId)\n        this.permission = await boardApi.findAssignedPermissionId(this.boardId)\n    });\n\n\n  }\n}\n</script>\n"]}]}