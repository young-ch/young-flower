{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue","mtime":1666663225331},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknCmltcG9ydCBib2FyZEFwaSBmcm9tICdAL2FwaS9Cb2FyZEFwaScKaW1wb3J0IGNvbW1lbnRBcGkgZnJvbSAnQC9hcGkvQ29tbWVudEFwaScKCgoKLy8gaW1wb3J0IFZpZXdlclRpcHRhcCBmcm9tICJAL3ZpZXdzL2NvbXBvbmVudC9WaWV3ZXJUaXB0YXBDb21wb25lbnQiOwppbXBvcnQgVmlld2VyUXVpbGwgZnJvbSAiQC9jb21wb25lbnRzL2VkaXRvci9WaWV3ZXJRdWlsbENvbXBvbmVudCI7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCcKCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IENvbW1lbnQgZnJvbSAnQC9hcHBzL2NvbXBvbmVudC9Db21tZW50JzsKCgoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXJ0aWNsZUZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIFZpZXdlclF1aWxsLAogICAgQ29tbWVudAogIH0sCiAgcHJvcHM6IHsKICAgICAgaWQ6IFN0cmluZywKICAgICAgYm9hcmRJZCA6IFN0cmluZywgCiAgICAgfSwKICBjb21wdXRlZDogewogICAgYnJlYWRjcnVtYnMoKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogJ+qyjOyLnOusvCDqtIDrpqwnLAogICAgICAgICAgdG86IGAvYm9hcmRzLyR7dGhpcy5ib2FyZC5pZH0vYXJ0aWNsZXNgLAogICAgICAgICAgZXhhY3Q6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICfqsozsi5zrrLwg7KGw7ZqMJwogICAgICAgIH0KICAgICAgXQogICAgfSwKICAgIGNyZWF0ZWRBdDogewogICAgICBnZXQoKSB7CiAgICAgICAgLy8gcmV0dXJuIHRoaXMuY29tZW50LmNyZWF0ZWRBdCA/IHRoaXMuY29tZW50LmNyZWF0ZWRBdC5zdWJzdHIoMCwgMTApIDogdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPyB0aGlzLiRtb21lbnQodGhpcy5jb21tZW50LmNyZWF0ZWRBdCwgIllZWVktTU0tRERbVF1ISDptbTpzcyIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpIDogdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIGlmKHZhbHVlLmxlbmd0aCA9PT0gMTAgJiYgdGhpcy4kbW9tZW50KHZhbHVlLCAiWVlZWS1NTS1ERCIpLmlzVmFsaWQoKSkgewogICAgICAgICAgdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IHZhbHVlID8gdmFsdWUgKyAiVCIgKyAodGhpcy5jb21tZW50LmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJISDptbTpzcyIpIDogIjAwOjAwOjAwIikgOiB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHN0YXRpY2F0dGFjaG1lbnRQYXRoOnByb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX1NUQVRJQ19QQVRILAogICAgYm9hcmQ6e30sCiAgICBhcnRpY2xlOiB7CiAgICAgIHRpdGxlOiBudWxsLAogICAgICBjb250ZW50czogbnVsbCwKICAgICAgd3JpdGVyOiBudWxsLAogICAgICBhbHdheXM6IHRydWUsCiAgICAgIGN1c3RvbURhdGU6IG51bGwKICAgIH0sCiAgICAvLyBjb21tZW50OiB7CiAgICAvLyAgIGNvbnRlbnQ6IG51bGwsCiAgICAvLyAgIHdyaXRlcjogbnVsbCwKICAgIC8vICAgY3JlYXRlZEF0OiBudWxsLAogICAgLy8gICBjcmVhdGVkQnk6IG51bGwsCiAgICAvLyB9LAogICAgcmVjb21tZW50OiB7CiAgICAgIGNvbnRlbnRzOiIiCiAgICB9LAogICAgdGVtcGNvbW1lbnQ6IHsKICAgICAgY29udGVudDogbnVsbCwKICAgICAgd3JpdGVyOiBudWxsLAogICAgICBjcmVhdGVkQXQ6IG51bGwKICAgIH0sCiAgICBjb21tZW50SGVhZGVyczogW3t2YWx1ZTogJ3dyaXRlcid9LCB7dmFsdWUgOiAnY29udGVudHMnfSwge3ZhbHVlOiAnYWN0aW9ucyd9XSwKICAgIGNvbW1lbnRzOltdLAogICAgY29tbWVudDogewogICAgICBjb250ZW50czoiIgogICAgfSwKICAgIHRvdGFsSXRlbXM6MCwKICAgIG9wdGlvbnM6e30sCiAgICByZUNvbW1lbnRJbmRleCA6IC0xLCAKICAgIGNvbW1lbnRJbmRleDogLTEsCiAgICBpc1Zpc2libGVDb21tZW50VXBkYXRlRm9ybSA6IGZhbHNlLAogICAgaXNWaXNpYmxlUmVwbHlFZGl0b3I6ZmFsc2UsCiAgICBwZXJpb2Q6bnVsbCwKICAgIGFwaUVuZFBvaW50OnByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICBlbmRQb2ludDpwcm9jZXNzLmVudi5WVUVfQVBQX0FUVEFDSF9GSUxFX1NFUlZFUl9VUkwsCiAgICBydWxlczogewogICAgICByZXF1aXJlZDogdmFsdWUgPT4gISF2YWx1ZSB8fCAn7ZWE7IiYIOyeheugpSDtla3rqqnsnoXri4jri6QuLicsCiAgICAgIGlzbzg2MDE6IHZhbHVlID0+ICghdmFsdWUgfHwgISEvKFsxMl1cZHszfS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMTJdXGR8M1swMV0pKSQvLnRlc3QodmFsdWUpKSB8fCAn64Kg7KecIO2YleyLneydtCDslYTri5nri4jri6QuJwogICAgfSwKICAgIGVkaXRDb21tZW50OiB7CiAgICAgIGNvbnRlbnRzOiIiCiAgICB9LAogICAgcGVybWlzc2lvbjoge30KICB9KSwKICB3YXRjaDogewogICAgb3B0aW9uczogewogICAgICBoYW5kbGVyICgpIHsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfQoKICAgIAogIH0sCiAgbWV0aG9kczogewogICAgcmVhY3Rpb24oKSB7CiAgICAgIGFydGljbGVBcGkucmVhY3Rpb24odGhpcy5hcnRpY2xlLmFydGljbGVJZCwgdGhpcy5hcnRpY2xlLmJvYXJkSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZihyZXMuZGF0YSkgewogICAgICAgICAgdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgPSB0aGlzLmFydGljbGUucmVhY3Rpb25Db3VudCArMTsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFkVXNlckhhc1JlYWN0aW9uID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgPSB0aGlzLmFydGljbGUucmVhY3Rpb25Db3VudCAtMTsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFkVXNlckhhc1JlYWN0aW9uID0gZmFsc2U7CiAgICAgICAgICAvLyBhbGVydCgi7J2066+4IOyymOumrOuQmOyXiOyKteuLiOuLpC4iKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZG93bmxvYWRGaWxlKGYpIHsKCiAgICAgIGFydGljbGVBcGkuZG93bmxvYWRGaWxlKHRoaXMuYXJ0aWNsZS5ib2FyZElkLCB0aGlzLmFydGljbGUuaWQsIGYuaWQpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdLCB7IHR5cGU6IHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddIH0pCiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQogICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikKICAgICAgICBsaW5rLmRvd25sb2FkID0gZi5maWxlUmVhbE5hbWUuc2xpY2UoZi5maWxlUmVhbE5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpOwogICAgICAgIGxpbmsuY2xpY2soKQogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwobGluay5ocmVmKQogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KQogICAgICAgICAgYWxlcnQoIu2MjOydvOydhCDssL7snYQg7IiYIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICBlbHNlCiAgICAgICAgICBhbGVydChlcnJvci5zdGF0dXMpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrUmVtb3ZlQ29tbWVudChpZCl7IAogICAgICAgIAogICAgICBpZihjb25maXJtKCfsp4DquIgg7IKt7KCc7ZWY7Iuc66m0IFxu64K07Jqp7J2EIOuzteq1rO2VoCDsiJgg7JeG7Iq164uI64ukLiDsgq3soJztlZjsi5zqsqDsirXri4jquYw/JykpIHsKICAgICAgICBjb21tZW50QXBpLmRlbGV0ZSh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5jb21tZW50LmFydGljbGVJZCAsaWQgKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sICAKICAgIG9uVXBkYXRlUmVwbHkoZWRpdHJlcGx5LCBpZCwgdXBjb21tZW50KXsgICAKICAgICAgY29uc29sZS5sb2codXBjb21tZW50KTsKICAgICAgdGhpcy5yZWNvbW1lbnQgPSB1cGNvbW1lbnQ7CiAgICAgIGxldCB0ZW1wQ29udGVudHMgPSBlZGl0cmVwbHk7CiAgICAgIGlmKHRlbXBDb250ZW50cy5sZW5ndGg9PTApewogICAgICAgIHJldHVybiBhbGVydCgn64yT6riA7J2EIO2VnCDquIDsnpAg7J207IOBIOyeheugpe2VtOyjvOyEuOyalC4nKQogICAgICB9CgogICAgICB0aGlzLnJlY29tbWVudC5hcnRpY2xlSWQgPSB0aGlzLmFydGljbGUuaWQ7CiAgICAgIHRoaXMucmVjb21tZW50LmJvYXJkSWQgPSB0aGlzLmFydGljbGUuYm9hcmRJZDsKICAgICAgdGhpcy5yZWNvbW1lbnQuY29tbWVudElkID0gaWQ7IAogICAgICB0aGlzLnJlY29tbWVudC5jb250ZW50cyA9IHRlbXBDb250ZW50czsgCiAgICAgIHRoaXMucmVjb21tZW50LnVwZGF0ZUF0ID0gbnVsbDsKICAKICAgICAgY29tbWVudEFwaS5zYXZlKHRoaXMuYXJ0aWNsZS5ib2FyZElkLCB0aGlzLmFydGljbGUuaWQsIHRoaXMucmVjb21tZW50KS50aGVuKCgpID0+IHsKCgogICAgICAgIHRoaXMuZWRpdHJlcGx5ID0gIiI7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlQ29tbWVudEluZGV4ID0gLTE7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQudXBwZXJDb21tZW50SWQgPSAiIjsKICAgICAgICB0aGlzLmlzVmlzaWJsZUNvbW1lbnRVcGRhdGVGb3JtID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSkgCiAgICB9LCAgIAogICAgZ29MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogYC9ib2FyZHMvJHt0aGlzLmJvYXJkSWR9L2FydGljbGVzYH0pCiAgICB9LAogICAgZGVsZXRlQXJ0aWNsZShpdGVtKSB7CiAgICAgIGlmKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGFydGljbGVBcGkuZGVsZXRlKGl0ZW0uYm9hcmRJZCwgaXRlbS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7IKt7KCc65CY7JeI7Iq164uI64ukLiIpCiAgICAgICAgICB0aGlzLmdvTGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgCiAgICB1cGRhdGVGb3JtKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6YC9ib2FyZHMvJHtpdGVtLmJvYXJkSWR9L2FydGljbGVzLyR7aXRlbS5pZH0vZm9ybWB9KTsKICAgIH0sCiAgICBhc3luYyBzYXZlQ29tbWVudCgpIHsKICAgICAgaWYgKCFhd2FpdCB0aGlzLiRyZWZzLmZvcm1Db21tZW50LnZhbGlkYXRlKCkpCiAgICAgICAgcmV0dXJuOwoKICAgICAgLy8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPyB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ICsgIlQwMDowMDowMCIgOiBudWxsOwogICAgICBjb21tZW50QXBpLnNhdmUodGhpcy5ib2FyZElkLCB0aGlzLmlkLCB0aGlzLmNvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuY29tbWVudC5jb250ZW50cyA9IG51bGw7CiAgICAgICAgCiAgICAgICAgCiAgICAgICAgLy8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IG51bGw7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC5yZXNldFZhbGlkYXRpb24oKQogICAgICAgIC8vIHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQucmVzZXQoKTsKICAgICAgICAvLyB0aGlzLmNvbW1lbnQud3JpdGVyID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VybmFtZTsKICAgICAgICAvL3RoaXMuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlcGx5ID0gIiI7CiAgICAgICAgdGhpcy5pc1Zpc2libGVSZXBseUVkaXRvciA9IGZhbHNlOwogICAgICAgIHRoaXMucmVjb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgICAKICAgICAgICB0aGlzLnJlY29tbWVudC51cHBlckNvbW1lbnRJZCA9ICIiOwogICAgICAgIHRoaXMub19jb250ZW50cyA9ICIiOyAKCiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCk7CiAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVDb21tZW50KCkgewoKICAgICAgaWYgKCFhd2FpdCB0aGlzLiRyZWZzLmZvcm1MaXN0Q29tbWVudC52YWxpZGF0ZSgpKQogICAgICAgIHJldHVybjsKCiAgICAgICAgLy8gdGhpcy50ZW1wY29tbWVudCA9IHRoaXMuZWRpdENvbW1lbnQKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRlbXBjb21tZW50LmNvbnRlbnRzKTsKCiAgICAgIGlmKGNvbmZpcm0oJ+uMk+q4gOydhCDsiJjsoJXtlZjsi5zqsqDsirXri4jquYw/JykpIHsKICAgICAgICBjb21tZW50QXBpLnNhdmUodGhpcy5ib2FyZElkLCB0aGlzLmlkLCB0aGlzLmVkaXRDb21tZW50KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgICAgICAodGhpcy5jb21tZW50cy5maWx0ZXIoYyA9PiBjLmNvbW1lbnRJZCA9PT0gdGhpcy5lZGl0Q29tbWVudC5jb21tZW50SWQpPy5bMF0gPz8ge30pLmNvbnRlbnRzID0gdGhpcy5lZGl0Q29tbWVudC5jb250ZW50czsKICAgICAgICAgIHRoaXMuZWRpdENvbW1lbnQgPSB7fTsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdFJlcGx5KHJlcGx5LCBpZCl7ICAKCiAgICAgIGNvbnNvbGUubG9nKHJlcGx5KTsvL+2YhOyerCDrjJPquIAg7JO0IOqysOqzvC4KICAgICAgY29uc29sZS5sb2coaWQpOyAvL+2YhOyerCDsg4HsnIQg64yT6riAIElECgogICAgICB0aGlzLnJlY29tbWVudCA9IHRoaXMuY29tbWVudDsgCiAgICAgIGxldCB0ZW1wQ29udGVudHMgPSByZXBseTsKICAgICAgaWYodGVtcENvbnRlbnRzLmxlbmd0aD09MCl7CiAgICAgICAgcmV0dXJuIGFsZXJ0KCfrjJPquIDsnYQg7ZWcIOq4gOyekCDsnbTsg4Eg7J6F66Cl7ZW07KO87IS47JqULicpCiAgICAgIH0gCgogICAgICB0aGlzLnJlY29tbWVudC5hcnRpY2xlSWQgPSB0aGlzLmFydGljbGUuaWQ7CiAgICAgIHRoaXMucmVjb21tZW50LmJvYXJkSWQgPSB0aGlzLmFydGljbGUuYm9hcmRJZDsKICAgICAgdGhpcy5yZWNvbW1lbnQudXBwZXJDb21tZW50SWQgPSBpZDsKICAgICAgdGhpcy5yZWNvbW1lbnQuY29tbWVudElkID0gbnVsbDsKICAgICAgdGhpcy5yZWNvbW1lbnQuY3JlYXRlZEF0ID0gbnVsbDsgCiAgICAgIC8vY29uc29sZS5sb2coIiB0aGlzLnRlbXBDb250ZW50cyAtLS0tICIpCiAgICAgIC8vY29uc29sZS5sb2coIHRlbXBDb250ZW50cykKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnJlY29tbWVudC5jb250ZW50cykKICAgICAgLy9jb25zb2xlLmxvZygiIHRoaXMucmVjb21tZW50IC0tLS0gIikKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnJlY29tbWVudCkKICAgICAgdGhpcy5jb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgIHRoaXMucmVjb21tZW50LmNvbnRlbnRzID0gdGVtcENvbnRlbnRzOyAKICAgICAgLy9jb25zb2xlLmxvZygiIHRoaXMucmVjb21tZW50IC0tLS0gIikKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnJlY29tbWVudCkKCiAgICAgIGNvbW1lbnRBcGkuc2F2ZSh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5pZCwgdGhpcy5yZWNvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlcGx5ID0gIiI7CiAgICAgICAgdGhpcy5pc1Zpc2libGVSZXBseUVkaXRvciA9IGZhbHNlOwogICAgICAgIHRoaXMucmVjb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgICAgdGhpcy5yZUNvbW1lbnRJbmRleCA9IC0xOwogICAgICAgIHRoaXMucmVjb21tZW50LnVwcGVyQ29tbWVudElkID0gIiI7CiAgICAgICAgdGhpcy5jb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgICAgdGhpcy5vX2NvbnRlbnRzID0gIiI7IAogICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgIH0pIAogICAgfSwKCiAgICB1cGRhdGVDb21tZW50Rm9ybShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdENvbW1lbnQgPSBfLmNsb25lRGVlcChpdGVtKTsKICAgICAKICAgIH0sCiAgICBjYW5jZWxDb21tZW50KCkgewogICAgICB0aGlzLmVkaXRDb21tZW50ID0ge307CiAgICB9LAogICAgZGVsZXRlQ29tbWVudChpdGVtKSB7CiAgICAgIGlmKGNvbmZpcm0oJ+uMk+q4gOydhCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/JykpIHsKICAgICAgICBjb21tZW50QXBpLmRlbGV0ZSh0aGlzLmJvYXJkSWQsIHRoaXMuaWQsIGl0ZW0uaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgaWYodGhpcy5hcnRpY2xlLmlkKSB7CiAgICAgICAgY29uc3Qge3BhZ2UsIGl0ZW1zUGVyUGFnZSwgc2l6ZX0gPSB0aGlzLm9wdGlvbnM7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICAgIC4uLnRoaXMucGFyYW0sIC4uLnsKICAgICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgICAgc2l6ZTogc2l6ZSA/IHNpemUgOiBpdGVtc1BlclBhZ2UKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbW1lbnRBcGkubGlzdCh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5pZCwgcGFyYW1zKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsRWxlbWVudHM7CiAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gZGF0YS5jb250ZW50OwoKICAgICAgIAoKICAgICAgICB9KTsKCiAgICAgICAgY29tbWVudEFwaS50b3RhbCh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5hcnRpY2xlLmlkKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgLy/qsK/siJgg7JWI66ee7JWE7IScIOyImOygle2VqAogICAgICAgICAgdGhpcy5jb21tZW50c0NudCA9IGRhdGE7CiAgICAgICAgfSk7CgoKICAgICAgfQogICAgfQoKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CgogICAgY29uc29sZS5sb2codGhpcy5pZCk7CgogICAgaWYodGhpcy5pZCkgewogICAgICB0aGlzLnBlcm1pc3Npb24gPSBhd2FpdCBib2FyZEFwaS5maW5kQXNzaWduZWRQZXJtaXNzaW9uSWQodGhpcy5ib2FyZElkLCB7YXJ0aWNsZUlkOiB0aGlzLmlkfSkKCiAgICAgIGFydGljbGVBcGkuZmluZEJ5SWQodGhpcy5ib2FyZElkLCB0aGlzLmlkKS50aGVuKGFzeW5jIGRhdGEgPT4gewoKCiAgICAgICAgdGhpcy5hcnRpY2xlID0gZGF0YTsKCiAgICAgICAgdGhpcy5jb21tZW50LmFydGljbGVJZCA9IHRoaXMuYXJ0aWNsZS5pZDsKICAgICAgICB0aGlzLmNvbW1lbnQuYm9hcmRJZCA9IHRoaXMuYXJ0aWNsZS5ib2FyZElkOwoKICAgICAgICB0aGlzLnNlYXJjaCgpOwoKICAgICAgICAvLyB0aGlzLmFydGljbGUuY3VzdG9tRGF0ZSA9IHRoaXMuYXJ0aWNsZS5jcmVhdGVkQXQuc3Vic3RyKDAsMTApOwoKICAgICAgICB0aGlzLnBlcmlvZCA9IFt0aGlzLmFydGljbGUuc3RhcnREdCwgdGhpcy5hcnRpY2xlLmVuZER0XS5maWx0ZXIoZCA9PiBkICE9PSBudWxsKS5tYXAoZCA9PiBtb21lbnQoZCkuZm9ybWF0KCJZWVlZ64WEIE1N7JuUIERE7J28IikpLmpvaW4oIiB+ICIpOwoKICAgICAgfSk7CiAgICB9CiAgICAvLyB0aGlzLmNvbW1lbnQud3JpdGVyID0gdGhpcy4kc3RvcmUuZ2V0dGVycz8uWyd1c2VyL25hbWUnXSA/PyAnJzsKICAgIC8vIHRoaXMuY29tbWVudC53cml0ZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lOwogICAgdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLmdldHRlcnM/LlsndXNlci9uYW1lJ10gPz8gJyc7CiAgICAvLyB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID0gbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIikKCiAgICBib2FyZEFwaS5maW5kQnlJZCh0aGlzLmJvYXJkSWQpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgIHRoaXMuYm9hcmQgPSBkYXRhOwoKICAgICAgaWYgKCF0aGlzLmFydGljbGVJZCkKICAgICAgICB0aGlzLnBlcm1pc3Npb24gPSBhd2FpdCBib2FyZEFwaS5maW5kQXNzaWduZWRQZXJtaXNzaW9uSWQodGhpcy5ib2FyZElkKQogICAgfSk7CgoKICB9Cn0K"},{"version":3,"sources":["ArticleView.vue"],"names":[],"mappings":";AA+PA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA","file":"ArticleView.vue","sourceRoot":"src/apps/article","sourcesContent":["<template>\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\" v-if=\"id\">게시물 정보 상세 {{ article.title && `- ${article.title}` }} </div>\n\n        <div class=\"display-1\" v-else>게시물 생성</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn icon>\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n    </div>\n\n    <v-card class=\"my-2\">\n      <v-card-title>게시물 정보</v-card-title>\n      <v-card-text>\n        <div class=\"d-flex flex-column flex-sm-row\">\n          <div class=\"flex-grow-1 pt-2 pa-sm-2\">\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">제목</span>\n\n              <span class=\"mx-6\">\n                <v-chip\n                  color=\"primary\"\n                  small\n                  v-if=\"board.hasNotice && article.notice\"\n                >\n                  공지\n                </v-chip>\n\n                <template v-for=\"(c) in board.boardCategories\">\n                  <v-chip\n                    v-bind:key=\"c.categoryId\"\n                    small\n                    v-if=\"c.id === article.categoryId\"\n                  >\n                    {{c.categoryName}}\n                  </v-chip>\n                </template>\n\n                {{article.title}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\" v-if=\"article.notice && board.hasPeriod && !article.always\">\n              <span class=\"font-weight-bold\">공지기간</span>\n\n              <span class=\"mx-6\">{{period}}\n<!--                <template>-->\n<!--                  <v-chip-->\n<!--                    color=\"primary\"-->\n<!--                    small-->\n<!--                  >-->\n<!--                    상시-->\n<!--                  </v-chip>-->\n<!--                </template>-->\n<!--                <template v-else>-->\n<!--                  {{period}}-->\n<!--                </template>-->\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">작성자</span>\n              <span class=\"mx-6\">\n                {{article.writer}}\n              </span>\n\n              <span class=\"font-weight-bold\">작성일</span>\n              <span class=\"mx-6\">\n                {{  article.createdAt | formatDate('YYYY-MM-DD HH:mm:ss') }}\n              </span>\n\n              <span class=\"font-weight-bold\">조회수</span>\n              <span class=\"mx-6\">\n                {{article.hits ? article.hits : 1}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <viewer-quill :val=\"article.contents\" />\n<!--              <div v-html=\"article.contents.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\" v-else>-->\n<!--              </div>             -->\n            </div>\n\n            <div class=\"d-flex\" v-if=\"board.hasAttachment\">\n              <span class=\"font-weight-bold\">첨부 파일</span>\n              <span class=\"mx-6\">\n                <div v-if=\"article.articleAttachments\">\n                  <v-row v-for=\"f in article.articleAttachments\" v-bind:key=\"f.id\" class=\"ma-2\">\n                    <v-btn text  @click.prevent=\"downloadFile(f)\"><v-icon>{{ f.contentType.indexOf('image') === 0 ? 'mdi-image' : 'mdi-file' }}</v-icon>\n                    \n                      <v-tooltip bottom v-if=\"f.contentType.indexOf('image') === 0\">\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <span\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                          >\n                            {{ f.fileRealName }}\n                          </span>\n                        </template>\n\n                        <span>\n                          <v-img :src=\"`${staticattachmentPath}${f.fileContextPath}${f.thumbnail}`\" max-height=\"200\" max-width=\"200\"/>\n                        </span>\n                      </v-tooltip>\n                      <span v-else>{{ f.fileRealName }}</span>\n                    </v-btn>\n                <!--                <a :href=\"`${apiEndPoint}/board/${article.boardId}/article/${article.articleId}/file/${f.id}`\" @click.prevent=\"downloadFile(f)\">{{ f.fileRealName }}</a>-->\n              </v-row>\n                </div>\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </v-card-text>\n    </v-card>\n\n    <div class=\"d-flex\">\n      <v-spacer></v-spacer>\n      <v-btn dark color=\"red\" @click=\"deleteArticle(article)\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제\n      </v-btn>\n      <v-btn color=\"primary\" dark @click=\"updateForm(article)\" style=\"margin-left: 1rem\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-pencil</v-icon>\n        수정\n      </v-btn>\n      <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록\n      </v-btn>\n    </div>\n\n    <div class=\"flex-grow-1\" v-if=\"board.hasComment\">\n\n      <v-card class=\"my-2\">\n        <v-card-title>댓글</v-card-title>\n        <v-card-text v-if=\"permission.commentable\">\n          <v-form ref=\"formComment\">\n            <v-row>\n\n              <v-col cols=\"4\">\n                <v-text-field v-model=\"comment.writer\" :rules=\"[rules.required]\" label=\"작성자\" dense />\n              </v-col>\n              <v-col cols=\"8\" v-if=\"permission.boardAdmin\">\n                <v-text-field v-model=\"createdAt\" :rules=\"[rules.iso8601]\" label=\"작성일 YYYY-MM-DD (수정시 입력)\" placeholder=\"YYYY-MM-DD\" dense maxlength=\"10\"/>\n              </v-col>\n\n              <v-col cols=\"12\" class=\"d-flex\">\n                <v-textarea v-model=\"comment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\"></v-textarea>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n       <div class=\"hd-box\" >댓글 <em>{{ commentsCnt }}</em></div> \n        <v-card-actions v-if=\"permission.commentable\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"vBtn\" color=\"indigo\" dark @click=\"saveComment\">\n            <v-icon left>mdi mdi-content-save</v-icon>\n            댓글 등록\n          </v-btn>\n        \n        </v-card-actions>\n                <Comment\n                  v-for=\"(comment, key) in comments\"\n                  :key=\"key\"\n                  :id=\"comment.id\"\n                  :createId=\"comment.createdBy\"\n                  :author=\"comment.writer\"\n                  :date=\"comment.createdAt\"\n                  :content=\"comment.contents\"\n                  :children=\"comment.childrenList\"\n                  :totalChildren=\"comment.totalChildren\"\n                  :isDeleted=\"comment.deleted\"\n                  :upcomment=\"comment\" \n                  :reCommentIndex=\"reCommentIndex\"\n                  :isVisibleCommentUpdateForm=\"isVisibleCommentUpdateForm\"\n                  :isVisibleReplyEditor=\"isVisibleReplyEditor\"\n                  @submit:reply=\"onSubmitReply\"\n                  @update:comment=\"onUpdateReply\"\n                  @remove=\"onClickRemoveComment\" \n                ></Comment>\n        <!-- <v-card-text>\n          <v-form ref=\"formListComment\">\n            <v-data-table\n              :headers=\"commentHeaders\"\n              :items=\"comments\"\n              :server-items-length=\"totalItems\"\n              :options.sync=\"options\"\n              item-key=\"commentId\"\n              class=\"elevation-1 commentList\"\n              disable-sort\n              hide-default-header\n            >\n              <template v-slot:top>\n                댓글 ({{totalItems}})\n              </template>\n              <template v-slot:item.writer=\"{value, item}\">\n                <div>{{ value }}</div>\n                {{ item.createdAt | formatDate('YYYY-MM-DD HH:mm') }}\n              </template>\n\n              <template v-slot:item.contents=\"{value,item}\">\n                <div v-if=\"item.id === editComment.id\" class=\"d-flex\">\n                  <v-textarea v-model=\"editComment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\" v-if=\"item.id === editComment.id\"></v-textarea>\n                  <div>\n                    <v-btn color=\"#1991eb\" dark @click=\"updateComment\" style=\"margin-left: 1rem\">\n                      <v-icon left>mdi mdi-content-save</v-icon>\n                      수정\n                    </v-btn> <br />\n                    <v-btn @click=\"cancelComment\" style=\"margin-left: 1rem; margin-top: 3px\">\n                      <v-icon left>mdi mdi-reload</v-icon>\n                      취소\n                    </v-btn>\n                  </div>\n                </div >\n                <div v-html=\"value.split('\\n').join('<br />')\" v-else></div>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-icon\n                  small\n                  class=\"mr-2\"\n                  @click.stop=\"updateCommentForm(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-pencil\n                </v-icon>\n                <v-icon\n                  small\n                  @click.stop=\"deleteComment(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-delete\n                </v-icon>\n\n              </template>\n\n            </v-data-table>\n          </v-form>\n        </v-card-text> -->\n\n      </v-card>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport articleApi from '@/api/ArticleApi'\nimport boardApi from '@/api/BoardApi'\nimport commentApi from '@/api/CommentApi'\n\n\n\n// import ViewerTiptap from \"@/views/component/ViewerTiptapComponent\";\nimport ViewerQuill from \"@/components/editor/ViewerQuillComponent\";\nimport _ from 'lodash'\n\nimport moment from \"moment\";\nimport Comment from '@/apps/component/Comment';\n\n\n\n\nexport default {\n  name: \"ArticleForm\",\n  components: {\n    ViewerQuill,\n    Comment\n  },\n  props: {\n      id: String,\n      boardId : String, \n     },\n  computed: {\n    breadcrumbs() {\n      return [\n        {\n          text: '게시물 관리',\n          to: `/boards/${this.board.id}/articles`,\n          exact: true\n        },\n        {\n          text: '게시물 조회'\n        }\n      ]\n    },\n    createdAt: {\n      get() {\n        // return this.coment.createdAt ? this.coment.createdAt.substr(0, 10) : this.$moment().format(\"YYYY-MM-DD\");\n        return this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"YYYY-MM-DD\") : this.$moment().format(\"YYYY-MM-DD\");\n      },\n      set(value) {\n        if(value.length === 10 && this.$moment(value, \"YYYY-MM-DD\").isValid()) {\n          this.comment.createdAt = value ? value + \"T\" + (this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"HH:mm:ss\") : \"00:00:00\") : this.comment.createdAt;\n        }\n      }\n    }\n  },\n  data: () => ({\n    staticattachmentPath:process.env.VUE_APP_ATTACH_STATIC_PATH,\n    board:{},\n    article: {\n      title: null,\n      contents: null,\n      writer: null,\n      always: true,\n      customDate: null\n    },\n    // comment: {\n    //   content: null,\n    //   writer: null,\n    //   createdAt: null,\n    //   createdBy: null,\n    // },\n    recomment: {\n      contents:\"\"\n    },\n    tempcomment: {\n      content: null,\n      writer: null,\n      createdAt: null\n    },\n    commentHeaders: [{value: 'writer'}, {value : 'contents'}, {value: 'actions'}],\n    comments:[],\n    comment: {\n      contents:\"\"\n    },\n    totalItems:0,\n    options:{},\n    reCommentIndex : -1, \n    commentIndex: -1,\n    isVisibleCommentUpdateForm : false,\n    isVisibleReplyEditor:false,\n    period:null,\n    apiEndPoint:process.env.VUE_APP_BASE_API,\n    endPoint:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    rules: {\n      required: value => !!value || '필수 입력 항목입니다..',\n      iso8601: value => (!value || !!/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value)) || '날짜 형식이 아닙니다.'\n    },\n    editComment: {\n      contents:\"\"\n    },\n    permission: {}\n  }),\n  watch: {\n    options: {\n      handler () {\n        this.search();\n      },\n      deep: true,\n    }\n\n    \n  },\n  methods: {\n    reaction() {\n      articleApi.reaction(this.article.articleId, this.article.boardId).then(res => {\n        if(res.data) {\n          this.article.reactionCount = this.article.reactionCount +1;\n          this.article.readUserHasReaction = true;\n        } else {\n          this.article.reactionCount = this.article.reactionCount -1;\n          this.article.readUserHasReaction = false;\n          // alert(\"이미 처리되었습니다.\")\n        }\n      });\n    },\n    downloadFile(f) {\n\n      articleApi.downloadFile(this.article.boardId, this.article.id, f.id)\n      .then(response => {\n        const blob = new Blob([response.data], { type: response.headers['content-type'] })\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        link.download = f.fileRealName.slice(f.fileRealName.lastIndexOf('/') + 1);\n        link.click()\n        URL.revokeObjectURL(link.href)\n      })\n      .catch(error => {\n        console.log(error.response);\n        console.log(error.response.status);\n        if(error.response.status === 404)\n          alert(\"파일을 찾을 수 없습니다.\");\n        else\n          alert(error.status);\n      });\n    },\n    onClickRemoveComment(id){ \n        \n      if(confirm('지금 삭제하시면 \\n내용을 복구할 수 없습니다. 삭제하시겠습니까?')) {\n        commentApi.delete(this.article.boardId, this.comment.articleId ,id ).then(() => {\n          this.search();\n        });\n      }\n    },  \n    onUpdateReply(editreply, id, upcomment){   \n      console.log(upcomment);\n      this.recomment = upcomment;\n      let tempContents = editreply;\n      if(tempContents.length==0){\n        return alert('댓글을 한 글자 이상 입력해주세요.')\n      }\n\n      this.recomment.articleId = this.article.id;\n      this.recomment.boardId = this.article.boardId;\n      this.recomment.commentId = id; \n      this.recomment.contents = tempContents; \n      this.recomment.updateAt = null;\n  \n      commentApi.save(this.article.boardId, this.article.id, this.recomment).then(() => {\n\n\n        this.editreply = \"\";\n        this.recomment.contents = \"\";\n        this.reCommentIndex = -1;\n        this.recomment.upperCommentId = \"\";\n        this.isVisibleCommentUpdateForm = false;\n        this.search();\n      }) \n    },   \n    goList() {\n      this.$router.push({path: `/boards/${this.boardId}/articles`})\n    },\n    deleteArticle(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        articleApi.delete(item.boardId, item.id).then(() => {\n          alert(\"삭제되었습니다.\")\n          this.goList();\n        });\n      }\n    },\n    \n    updateForm(item) {\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}/form`});\n    },\n    async saveComment() {\n      if (!await this.$refs.formComment.validate())\n        return;\n\n      // this.comment.createdAt = this.comment.createdAt ? this.comment.createdAt + \"T00:00:00\" : null;\n      commentApi.save(this.boardId, this.id, this.comment).then(() => {\n        this.comment.contents = null;\n        \n        \n        // this.comment.createdAt = null;\n        this.$refs.formComment.resetValidation()\n        // this.$refs.formComment.reset();\n        // this.comment.writer = this.$store.state.user.username;\n        //this.contents = \"\";\n        this.reply = \"\";\n        this.isVisibleReplyEditor = false;\n        this.recomment.contents = \"\";\n       \n        this.recomment.upperCommentId = \"\";\n        this.o_contents = \"\"; \n\n        this.search();\n      }).catch(error => {\n        this.comment.createdAt = this.comment.createdAt.substr(0, 10);\n        alert(error);\n      });\n    },\n    async updateComment() {\n\n      if (!await this.$refs.formListComment.validate())\n        return;\n\n        // this.tempcomment = this.editComment\n        // console.log(this.tempcomment.contents);\n\n      if(confirm('댓글을 수정하시겠습니까?')) {\n        commentApi.save(this.boardId, this.id, this.editComment).then(() => {\n          this.$refs.formComment.resetValidation();\n          (this.comments.filter(c => c.commentId === this.editComment.commentId)?.[0] ?? {}).contents = this.editComment.contents;\n          this.editComment = {};\n          this.search();\n        });\n      }\n    },\n    onSubmitReply(reply, id){  \n\n      console.log(reply);//현재 댓글 쓴 결과.\n      console.log(id); //현재 상위 댓글 ID\n\n      this.recomment = this.comment; \n      let tempContents = reply;\n      if(tempContents.length==0){\n        return alert('댓글을 한 글자 이상 입력해주세요.')\n      } \n\n      this.recomment.articleId = this.article.id;\n      this.recomment.boardId = this.article.boardId;\n      this.recomment.upperCommentId = id;\n      this.recomment.commentId = null;\n      this.recomment.createdAt = null; \n      //console.log(\" this.tempContents ---- \")\n      //console.log( tempContents)\n      //console.log(this.recomment.contents)\n      //console.log(\" this.recomment ---- \")\n      //console.log(this.recomment)\n      this.comment.contents = \"\";\n      this.recomment.contents = tempContents; \n      //console.log(\" this.recomment ---- \")\n      //console.log(this.recomment)\n\n      commentApi.save(this.article.boardId, this.id, this.recomment).then(() => {\n        this.contents = \"\";\n        this.reply = \"\";\n        this.isVisibleReplyEditor = false;\n        this.recomment.contents = \"\";\n        this.reCommentIndex = -1;\n        this.recomment.upperCommentId = \"\";\n        this.comment.contents = \"\";\n        this.o_contents = \"\"; \n        this.search();\n      }) \n    },\n\n    updateCommentForm(item) {\n      this.editComment = _.cloneDeep(item);\n     \n    },\n    cancelComment() {\n      this.editComment = {};\n    },\n    deleteComment(item) {\n      if(confirm('댓글을 삭제하시겠습니까?')) {\n        commentApi.delete(this.boardId, this.id, item.id).then(() => {\n          this.search();\n        });\n      }\n    },\n    search() {\n      if(this.article.id) {\n        const {page, itemsPerPage, size} = this.options;\n        let params = {\n          ...this.param, ...{\n            page: page,\n            size: size ? size : itemsPerPage\n          }\n        };\n        commentApi.list(this.article.boardId, this.id, params).then(data => {\n          // console.log(data);\n          this.totalItems = data.totalElements;\n          this.comments = data.content;\n\n       \n\n        });\n\n        commentApi.total(this.article.boardId, this.article.id).then(data => {\n          //갯수 안맞아서 수정함\n          this.commentsCnt = data;\n        });\n\n\n      }\n    }\n\n  },\n  async created() {\n\n    console.log(this.id);\n\n    if(this.id) {\n      this.permission = await boardApi.findAssignedPermissionId(this.boardId, {articleId: this.id})\n\n      articleApi.findById(this.boardId, this.id).then(async data => {\n\n\n        this.article = data;\n\n        this.comment.articleId = this.article.id;\n        this.comment.boardId = this.article.boardId;\n\n        this.search();\n\n        // this.article.customDate = this.article.createdAt.substr(0,10);\n\n        this.period = [this.article.startDt, this.article.endDt].filter(d => d !== null).map(d => moment(d).format(\"YYYY년 MM월 DD일\")).join(\" ~ \");\n\n      });\n    }\n    // this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.writer = this.$store.state.user.username;\n    this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.createdAt = moment().format(\"YYYY-MM-DD HH:mm:ss\")\n\n    boardApi.findById(this.boardId).then(async data => {\n      this.board = data;\n\n      if (!this.articleId)\n        this.permission = await boardApi.findAssignedPermissionId(this.boardId)\n    });\n\n\n  }\n}\n</script>\n\n"]}]}