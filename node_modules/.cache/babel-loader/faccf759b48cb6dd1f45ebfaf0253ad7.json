{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/role/RoleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/role/RoleForm.vue","mtime":1665531625451},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBSb2xlQXBpIGZyb20gJy4uLy4uL2FwaS9Sb2xlQXBpJzsKaW1wb3J0IE1lbnVBcGkgZnJvbSAiQC9hcGkvTWVudUFwaSI7CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IEVuZHBvaW50cyBmcm9tICJAL2NvbXBvbmVudHMvYXBwL0VuZHBvaW50cyI7CmltcG9ydCBNZW51cyBmcm9tICJAL2NvbXBvbmVudHMvYXBwL01lbnVzIjsKaW1wb3J0IFBvbGljaWVzIGZyb20gIkAvY29tcG9uZW50cy9hcHAvUG9saWNpZXMiOwppbXBvcnQgXyBmcm9tICJsb2Rhc2giOwppbXBvcnQgUG9saWN5QXBpIGZyb20gIkAvYXBpL1BvbGljeUFwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFbmRwb2ludHMsCiAgICBNZW51cywKICAgIFBvbGljaWVzCiAgfSwKICBwcm9wczogWydpZCddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWI6IG51bGwsCiAgICAgIHJ1bGVzLAogICAgICBicmVhZGNydW1iczogW3sKICAgICAgICB0ZXh0OiAn7Jet7ZWg6rSA66asJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgaHJlZjogJyMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiRwcm9wcy5pZCA/ICfsl63tlaDsiJjsoJUnIDogJ+yXre2VoOuTseuhnScKICAgICAgfV0sCiAgICAgIHJvbGU6IHt9LAogICAgICBjb3BpZWRSb2xlOiB7fSwKICAgICAgc2VsZWN0ZWRFbmRwb2ludDogW10sCiAgICAgIHNlbGVjdGVkUG9saWN5OiBbXSwKICAgICAgY29waWVkU2VsZWN0ZWRFbmRwb2ludDogW10sCiAgICAgIGNvcGllZFNlbGVjdGVkUG9saWN5OiBbXSwKICAgICAgc2VsZWN0ZWRVc2VyTWVudTogW10sCiAgICAgIHNlbGVjdGVkQWRtaW5NZW51OiBbXSwKICAgICAgY29waWVkVXNlclNlbGVjdGVkTWVudTogW10sCiAgICAgIGNvcGllZEFkbWluU2VsZWN0ZWRNZW51OiBbXSwKICAgICAgZW5kcG9pbnRIZWFkZXI6IFt7CiAgICAgICAgdGV4dDogJ3Jlc291cmNlIHRpdGxlJywKICAgICAgICB2YWx1ZTogJ3Jlc291cmNlRGVzY3JpcHRpb24nLAogICAgICAgIGFsaWduOiAnbGVmdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdhcGkgdGl0bGUnLAogICAgICAgIHZhbHVlOiAnb3BlcmF0aW9uRGVzY3JpcHRpb24nLAogICAgICAgIGFsaWduOiAnbGVmdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICd1cmknLAogICAgICAgIHZhbHVlOiAndXJpJywKICAgICAgICBhbGlnbjogJ2xlZnQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnaHR0cCBtZXRob2QnLAogICAgICAgIHZhbHVlOiAnaHR0cE1ldGhvZCcsCiAgICAgICAgYWxpZ246ICdsZWZ0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+qzteqwnCDsl6zrtoAnLAogICAgICAgIHZhbHVlOiAnaXNQdWJsaWNUZXh0JwogICAgICB9XSwKICAgICAgcG9saWN5SGVhZGVyOiBbewogICAgICAgIHRleHQ6ICfsoJXssYUg6re466O5IOy9lOuTnCcsCiAgICAgICAgdmFsdWU6ICdwb2xpY3lHcm91cENvZGUnLAogICAgICAgIGFsaWduOiAnbGVmdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfsoJXssYUg7L2U65OcJywKICAgICAgICB2YWx1ZTogJ3BvbGljeUNvZGUnLAogICAgICAgIGFsaWduOiAnbGVmdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfsoJXssYUg66qFJywKICAgICAgICB2YWx1ZTogJ3BvbGljeU5hbWUnLAogICAgICAgIGFsaWduOiAnbGVmdCcKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzYXZlUm9sZSgpIHsKICAgICAgaWYgKHRoaXMucm9sZS5pZCA9PT0gMSkgewogICAgICAgIGFsZXJ0KCLqtIDrpqzsnpAg7Jet7ZWg7J2AIOyImOygle2VmOqxsOuCmCDsgq3soJztlZjsi6Qg7IiYIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgY29uc3QgaXNWYWxpZFJvbGVGb3JtID0gYXdhaXQgdGhpcy4kcmVmcy5yb2xlRm9ybS52YWxpZGF0ZSgpOwogICAgICBpZiAoY29uZmlybSgi7Jet7ZWgIOygleuztOulvCDsoIDsnqXtlZjsi5zqsqDsirXri4jquYw/IikgJiYgaXNWYWxpZFJvbGVGb3JtKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzJHRhYnNQb2xpLCBfdGhpcyQkcmVmcyR0YWJzUG9saTIsIF90aGlzJCRyZWZzJHRhYnNBZG1pLCBfdGhpcyQkcmVmcyR0YWJzQWRtaTIsIF90aGlzJCRyZWZzJHRhYnNVc2VyLCBfdGhpcyQkcmVmcyR0YWJzVXNlcjI7CiAgICAgICAgY29uc3Qgc2VsZWN0ZWRFbmRwb2ludCA9IHRoaXMuJHJlZnNbInRhYnMtZW5kcG9pbnQiXS5zZWxlY3RlZDsKICAgICAgICB0aGlzLnJvbGUucm9sZUVuZHBvaW50cyA9IHNlbGVjdGVkRW5kcG9pbnQubWFwKGUgPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ2lkJzogewogICAgICAgICAgICAgICd1cmknOiBlLnVyaSwKICAgICAgICAgICAgICAnaHR0cE1ldGhvZCc6IGUuaHR0cE1ldGhvZAogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHNlbGVjdGVkUG9saWN5ID0gKF90aGlzJCRyZWZzJHRhYnNQb2xpID0gKF90aGlzJCRyZWZzJHRhYnNQb2xpMiA9IHRoaXMuJHJlZnNbInRhYnMtcG9saWN5Il0pID09PSBudWxsIHx8IF90aGlzJCRyZWZzJHRhYnNQb2xpMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkdGFic1BvbGkyLnNlbGVjdGVkKSAhPT0gbnVsbCAmJiBfdGhpcyQkcmVmcyR0YWJzUG9saSAhPT0gdm9pZCAwID8gX3RoaXMkJHJlZnMkdGFic1BvbGkgOiB0aGlzLmNvcGllZFNlbGVjdGVkUG9saWN5Lm1hcChwID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdpZCc6IHAuaWQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5yb2xlLnJvbGVQb2xpY2llcyA9IHNlbGVjdGVkUG9saWN5Lm1hcChlID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdpZCc6IHsKICAgICAgICAgICAgICAncG9saWN5SWQnOiBlLmlkCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgY29uc3Qgc2VsZWN0ZWRBZG1pbk1lbnUgPSAoX3RoaXMkJHJlZnMkdGFic0FkbWkgPSAoX3RoaXMkJHJlZnMkdGFic0FkbWkyID0gdGhpcy4kcmVmc1sidGFicy1hZG1pbi1tZW51Il0pID09PSBudWxsIHx8IF90aGlzJCRyZWZzJHRhYnNBZG1pMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkdGFic0FkbWkyLnNlbGVjdGVkKSAhPT0gbnVsbCAmJiBfdGhpcyQkcmVmcyR0YWJzQWRtaSAhPT0gdm9pZCAwID8gX3RoaXMkJHJlZnMkdGFic0FkbWkgOiB0aGlzLmNvcGllZEFkbWluU2VsZWN0ZWRNZW51Lm1hcChlID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdpZCc6IGUubWVudUlkCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHNlbGVjdGVkVXNlck1lbnUgPSAoX3RoaXMkJHJlZnMkdGFic1VzZXIgPSAoX3RoaXMkJHJlZnMkdGFic1VzZXIyID0gdGhpcy4kcmVmc1sidGFicy11c2VyLW1lbnUiXSkgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkdGFic1VzZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcyR0YWJzVXNlcjIuc2VsZWN0ZWQpICE9PSBudWxsICYmIF90aGlzJCRyZWZzJHRhYnNVc2VyICE9PSB2b2lkIDAgPyBfdGhpcyQkcmVmcyR0YWJzVXNlciA6IHRoaXMuY29waWVkVXNlclNlbGVjdGVkTWVudS5tYXAoZSA9PiB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnaWQnOiBlLm1lbnVJZAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnJvbGUucm9sZU1lbnVzID0gWy4uLnNlbGVjdGVkQWRtaW5NZW51Lm1hcChlID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdpZCc6IHsKICAgICAgICAgICAgICAnbWVudUlkJzogZS5pZAogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0pLCAuLi5zZWxlY3RlZFVzZXJNZW51Lm1hcChlID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdpZCc6IHsKICAgICAgICAgICAgICAnbWVudUlkJzogZS5pZAogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0pXTsKICAgICAgICBSb2xlQXBpLnNhdmVSb2xlKHRoaXMucm9sZSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgdGhpcy5yb2xlLmlkID0gcmVzdWx0LmlkOwogICAgICAgICAgYWxlcnQoIuyggOyepeuQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL3JvbGVzJ30pCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgZ29Ub0xpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3JvbGVzJwogICAgICB9KTsKICAgIH0sCiAgICByZXNldFJvbGUoKSB7CiAgICAgIHRoaXMucm9sZSA9IF8uY2xvbmVEZWVwKHRoaXMuY29waWVkUm9sZSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRFbmRwb2ludCA9IF8uY2xvbmVEZWVwKHRoaXMuY29waWVkU2VsZWN0ZWRFbmRwb2ludCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRQb2xpY3kgPSBfLmNsb25lRGVlcCh0aGlzLmNvcGllZFNlbGVjdGVkUG9saWN5KTsKICAgICAgdGhpcy5zZWxlY3RlZFVzZXJNZW51ID0gXy5jbG9uZURlZXAodGhpcy5jb3BpZWRVc2VyU2VsZWN0ZWRNZW51KTsKICAgICAgdGhpcy5zZWxlY3RlZEFkbWluTWVudSA9IF8uY2xvbmVEZWVwKHRoaXMuY29waWVkQWRtaW5TZWxlY3RlZE1lbnUpOwogICAgfSwKICAgIGRlbGV0ZVJvbGUocm9sZSkgewogICAgICBpZiAocm9sZS5pZCA9PT0gMSkgewogICAgICAgIGFsZXJ0KCLqtIDrpqzsnpAg7Jet7ZWg7J2AIOyImOygle2VmOqxsOuCmCDsgq3soJztlZjsi6Qg7IiYIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgUm9sZUFwaS5kZWxldGVSb2xlKHJvbGUuaWQpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMucm9sZXMgPSB0aGlzLnJvbGVzLmZpbHRlcihyID0+IHIgIT09IHJvbGUpOwogICAgICAgIGFsZXJ0KCLsgq3soJzrkJjsl4jsirXri4jri6QuIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogJy9yb2xlcycKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuaWQpIHsKICAgICAgUm9sZUFwaS5nZXRSb2xlKHRoaXMuaWQpLnRoZW4oYXN5bmMgcmVzdWx0ID0+IHsKICAgICAgICB2YXIgX3RoaXMkcm9sZSRyb2xlRW5kcG9pLCBfdGhpcyRyb2xlJHJvbGVFbmRwb2kyOwogICAgICAgIHRoaXMucm9sZSA9IHJlc3VsdC5kYXRhOwogICAgICAgIHRoaXMuY29waWVkUm9sZSA9IF8uY2xvbmVEZWVwKHRoaXMucm9sZSk7CiAgICAgICAgdGhpcy5zZWxlY3RlZEVuZHBvaW50ID0gKF90aGlzJHJvbGUkcm9sZUVuZHBvaSA9IChfdGhpcyRyb2xlJHJvbGVFbmRwb2kyID0gdGhpcy5yb2xlLnJvbGVFbmRwb2ludHMpID09PSBudWxsIHx8IF90aGlzJHJvbGUkcm9sZUVuZHBvaTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvbGUkcm9sZUVuZHBvaTIubWFwKHJlID0+IHJlLmlkKSkgIT09IG51bGwgJiYgX3RoaXMkcm9sZSRyb2xlRW5kcG9pICE9PSB2b2lkIDAgPyBfdGhpcyRyb2xlJHJvbGVFbmRwb2kgOiBbXTsKICAgICAgICBjb25zdCBmbGF0TWVudXMgPSByZXN1bHQgPT4gewogICAgICAgICAgbGV0IGNoaWxkcmVuID0gW107CiAgICAgICAgICBjb25zdCBmbGF0dGVuTWVudXMgPSByZXN1bHQubWFwKG0gPT4gewogICAgICAgICAgICBpZiAobS5jaGlsZE1lbnVzICYmIG0uY2hpbGRNZW51cy5sZW5ndGgpIHsKICAgICAgICAgICAgICBjaGlsZHJlbiA9IFsuLi5jaGlsZHJlbiwgLi4ubS5jaGlsZE1lbnVzXTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGZsYXR0ZW5NZW51cy5jb25jYXQoY2hpbGRyZW4ubGVuZ3RoID8gZmxhdE1lbnVzKGNoaWxkcmVuKSA6IGNoaWxkcmVuKTsKICAgICAgICB9OwogICAgICAgIGlmICh0aGlzLnJvbGUuaWQgPT09IDEpIHsKICAgICAgICAgIC8vIGNvbnN0IG1lbnVzID0gYXdhaXQgTWVudUFwaS5maW5kTWVudXNCeUNhdGVnb3J5KCdIT01FJyk7CiAgICAgICAgICBjb25zdCB1c2VyTWVudXMgPSBhd2FpdCBNZW51QXBpLmZpbmRNZW51c0J5Q2F0ZWdvcnkoJ0hPTUUnKTsKICAgICAgICAgIGNvbnN0IGFkbWluTWVudXMgPSBhd2FpdCBNZW51QXBpLmZpbmRNZW51c0J5Q2F0ZWdvcnkoJ0FETUlOJyk7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkVXNlck1lbnUgPSBmbGF0TWVudXModXNlck1lbnVzKS5tYXAobSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgbWVudUlkOiBtLmlkCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBZG1pbk1lbnUgPSBmbGF0TWVudXMoYWRtaW5NZW51cykubWFwKG0gPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG1lbnVJZDogbS5pZAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zdCB0ZW1wUG9saWNpZXMgPSAoYXdhaXQgUG9saWN5QXBpLmZpbmRQb2xpY2llcyh7CiAgICAgICAgICAgIHNpemU6IC0xCiAgICAgICAgICB9KSkuY29udGVudDsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQb2xpY3kgPSB0ZW1wUG9saWNpZXMubWFwKHAgPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICdpZCc6IHAuaWQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIFBvbGljeUFwaS5maW5kUG9saWNpZXMoe3NpemU6LTF9KS50aGVuKGFzeW5jIGRhdGEgPT4gewogICAgICAgICAgLy8gICAgdGhpcy5zZWxlY3RlZFBvbGljeSA9IGF3YWl0IGRhdGEuY29udGVudC5tYXAocCA9PiB7IHJldHVybiB7J2lkJzogcC5pZH0gfSkKICAgICAgICAgIC8vIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfdGhpcyRyb2xlJHJvbGVIb21lTWUsIF90aGlzJHJvbGUkcm9sZUhvbWVNZTIsIF90aGlzJHJvbGUkcm9sZUFkbWluTSwgX3RoaXMkcm9sZSRyb2xlQWRtaW5NMiwgX3RoaXMkcm9sZSRyb2xlUG9saWNpLCBfdGhpcyRyb2xlJHJvbGVQb2xpY2kyOwogICAgICAgICAgdGhpcy5zZWxlY3RlZFVzZXJNZW51ID0gKF90aGlzJHJvbGUkcm9sZUhvbWVNZSA9IChfdGhpcyRyb2xlJHJvbGVIb21lTWUyID0gdGhpcy5yb2xlLnJvbGVIb21lTWVudUlkcykgPT09IG51bGwgfHwgX3RoaXMkcm9sZSRyb2xlSG9tZU1lMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcm9sZSRyb2xlSG9tZU1lMi5tYXAoaWQgPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG1lbnVJZDogaWQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfdGhpcyRyb2xlJHJvbGVIb21lTWUgIT09IHZvaWQgMCA/IF90aGlzJHJvbGUkcm9sZUhvbWVNZSA6IFtdOwogICAgICAgICAgdGhpcy5zZWxlY3RlZEFkbWluTWVudSA9IChfdGhpcyRyb2xlJHJvbGVBZG1pbk0gPSAoX3RoaXMkcm9sZSRyb2xlQWRtaW5NMiA9IHRoaXMucm9sZS5yb2xlQWRtaW5NZW51SWRzKSA9PT0gbnVsbCB8fCBfdGhpcyRyb2xlJHJvbGVBZG1pbk0yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRyb2xlJHJvbGVBZG1pbk0yLm1hcChpZCA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgbWVudUlkOiBpZAogICAgICAgICAgICB9OwogICAgICAgICAgfSkpICE9PSBudWxsICYmIF90aGlzJHJvbGUkcm9sZUFkbWluTSAhPT0gdm9pZCAwID8gX3RoaXMkcm9sZSRyb2xlQWRtaW5NIDogW107CiAgICAgICAgICB0aGlzLnNlbGVjdGVkUG9saWN5ID0gKF90aGlzJHJvbGUkcm9sZVBvbGljaSA9IChfdGhpcyRyb2xlJHJvbGVQb2xpY2kyID0gdGhpcy5yb2xlLnJvbGVQb2xpY2llcykgPT09IG51bGwgfHwgX3RoaXMkcm9sZSRyb2xlUG9saWNpMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcm9sZSRyb2xlUG9saWNpMi5tYXAocmUgPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICdpZCc6IHJlLmlkLnBvbGljeUlkCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX3RoaXMkcm9sZSRyb2xlUG9saWNpICE9PSB2b2lkIDAgPyBfdGhpcyRyb2xlJHJvbGVQb2xpY2kgOiBbXTsKCiAgICAgICAgICAvLyB0aGlzLnNlbGVjdGVkQWRtaW5NZW51ID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3RlZFVzZXJNZW51KQogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb3BpZWRTZWxlY3RlZEVuZHBvaW50ID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3RlZEVuZHBvaW50KTsKICAgICAgICB0aGlzLmNvcGllZFNlbGVjdGVkUG9saWN5ID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3RlZFBvbGljeSk7CiAgICAgICAgdGhpcy5jb3BpZWRVc2VyU2VsZWN0ZWRNZW51ID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3RlZFVzZXJNZW51KTsKICAgICAgICB0aGlzLmNvcGllZEFkbWluU2VsZWN0ZWRNZW51ID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3RlZEFkbWluTWVudSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIpCiAgfQp9Ow=="},{"version":3,"mappings":";AA6HA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;EACAA;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;QACAF;MACA;MACAG,OACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,iBACA;QAAAb;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;MAAA,EACA;MACAE,eACA;QAAAhB;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;QAAAC;MAAA,GACA;QAAAf;QAAAc;QAAAC;MAAA;IAEA;EACA;EACAE;IACA;MACA;QACAC;QACA;MACA;MACA;MACA;QAAA;QAEA;QACA;UAAA;YAAA;cAAA;cAAA;YAAA;UAAA;QAAA;QAEA;UAAA;YAAA;UAAA;QAAA;QACA;UAAA;YAAA;cAAA;YAAA;UAAA;QAAA;QAEA;UAAA;YAAA;UAAA;QAAA;QACA;UAAA;YAAA;UAAA;QAAA;QACA;UAAA;YAAA;cAAA;YAAA;UAAA;QAAA;UAAA;YAAA;cAAA;YAAA;UAAA;QAAA;QAEAC;UACA;UACAD;UACA;QACA;MACA;IACA;;IACAE;MACA;QAAAC;MAAA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACAL;QACA;MACA;MACA,0BACAC;QACA;QACAD;QACA;UAAAG;QAAA;MACA;IACA;EAEA;EACAG;IACA;MACAL;QAAA;QACA;QACA;QAEA;QACA;UACA;UACA;YACA;cACAM;YACA;YACA;UACA;UAEA;QACA;QAEA;UACA;UACA;UACA;UACA;YACA;cACAC;YACA;UACA;UACA;YACA;cACAA;YACA;UACA;UAEA;YAAAC;UAAA;UACA;YAAA;cAAA;YAAA;UAAA;;UAEA;UACA;UACA;QAEA;UAAA;UACA;YAAA;cAAAD;YAAA;UAAA;UACA;YAAA;cAAAA;YAAA;UAAA;UACA;YAAA;cAAA;YAAA;UAAA;;UAEA;QACA;;QAEA;QACA;QACA;QACA;MACA;IACA;;IAEA;EACA;AAGA","names":["components","Endpoints","Menus","Policies","props","data","tab","rules","breadcrumbs","text","disabled","href","role","copiedRole","selectedEndpoint","selectedPolicy","copiedSelectedEndpoint","copiedSelectedPolicy","selectedUserMenu","selectedAdminMenu","copiedUserSelectedMenu","copiedAdminSelectedMenu","endpointHeader","value","align","policyHeader","methods","alert","RoleApi","goToList","path","resetRole","deleteRole","created","children","menuId","size"],"sourceRoot":"src/apps/role","sources":["RoleForm.vue"],"sourcesContent":["<template>\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\">역할 관리 {{ role.roleName && `- ${role.roleName}` }}</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n<!--      <v-btn @click=\"saveRole\">{{ this.role.roleId != null ? '수정' : '추가' }}</v-btn>-->\n      <v-btn dark color=\"red\" @click=\"deleteRole\" v-if=\"this.id\"><v-icon left>mdi mdi-delete</v-icon>삭제</v-btn>\n      <v-btn @click=\"resetRole\" style=\"margin-left:1rem\">\n        <v-icon left>mdi-refresh</v-icon>리셋\n      </v-btn>\n      <v-btn dark color=\"indigo\" @click=\"saveRole\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-content-save</v-icon>저장</v-btn>\n      <v-btn @click=\"goToList\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-format-list-bulleted</v-icon>목록</v-btn>\n    </div>\n\n    <v-card class=\"mb-4\">\n      <v-card-title>기본 정보\n\n        <v-spacer></v-spacer>\n        <v-icon small color=\"primary\" v-if=\"role.manager\">mdi-security</v-icon>\n        <span class=\"ma-1\" v-if=\"role.manager\">관리자 권한</span>\n\n      </v-card-title>\n\n      <v-card-text>\n        <v-form ref=\"roleForm\">\n        <div class=\"d-flex\">\n            <v-col>\n              <span class=\"font-weight-bold\">사용 여부</span>\n              <span class=\"mx-1\">\n                  <v-switch\n                    v-model=\"role.activated\"\n                    flat\n                    dense\n                    :label=\"role.activated ?'사용':'사용안함'\"\n                  ></v-switch>\n              </span>\n            </v-col>\n            <v-col>\n              <span class=\"font-weight-bold\">역할 타입</span>\n              <span class=\"mx-1\">\n                  <v-switch\n                    v-model=\"role.manager\"\n                    flat\n                    dense\n                    :label=\"role.manager ?'관리자':'사용자'\"\n                  ></v-switch>\n              </span>\n            </v-col>\n            <v-col sm=\"8\">\n              <span class=\"font-weight-bold\"></span>\n              <span class=\"mx-3 sm6\">\n                  <v-text-field\n                    v-model=\"role.roleName\"\n                    label=\"역할명을 입력해 주세요\"\n                    :rules=\"[rules.common.required]\"\n                    inverted\n                    clearable\n                    dense\n                  ></v-text-field>\n              </span>\n            </v-col>\n          </div>\n          </v-form>\n      </v-card-text>\n    </v-card>\n\n    <v-tabs v-model=\"tab\" :show-arrows=\"false\" background-color=\"transparent\">\n      <v-tab href=\"#tabs-endpoint\">기능 접근 권한</v-tab>\n      <v-tab href=\"#tabs-policy\">기능 사용 정책</v-tab>\n      <v-tab href=\"#tabs-user-menu\">사용자 메뉴 권한</v-tab>\n      <v-tab href=\"#tabs-admin-menu\">관리자 메뉴 권한</v-tab>\n    </v-tabs>\n\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item value=\"tabs-endpoint\">\n        <Endpoints ref=\"tabs-endpoint\" @callback-save-event=\"saveRole\"\n                   :selectedEndpoint=\"selectedEndpoint\"\n                   :headers=\"endpointHeader\"\n        ></Endpoints>\n      </v-tab-item>\n\n      <v-tab-item value=\"tabs-policy\">\n        <Policies ref=\"tabs-policy\" @callback-save-event=\"saveRole\"\n                   :selectedPolicy=\"selectedPolicy\"\n                   :headers=\"policyHeader\"\n        ></Policies>\n      </v-tab-item>\n\n      <v-tab-item value=\"tabs-user-menu\">\n        <Menus ref=\"tabs-user-menu\" @callback-save-event=\"saveRole\"\n                   :selectedMenu=\"selectedUserMenu\"\n        ></Menus>\n      </v-tab-item>\n\n      <v-tab-item value=\"tabs-admin-menu\">\n        <Menus ref=\"tabs-admin-menu\" @callback-save-event=\"saveRole\"\n               :selectedMenu=\"selectedAdminMenu\"\n               category=\"ADMIN\"\n        ></Menus>\n      </v-tab-item>\n\n    </v-tabs-items>\n\n    <div class=\"d-flex\" style=\"margin-top:1rem\">\n      <v-spacer></v-spacer>\n      <v-btn dark color=\"red\" @click=\"deleteRole\" v-if=\"this.id\"><v-icon left>mdi mdi-delete</v-icon>삭제</v-btn>\n      <v-btn @click=\"resetRole\" style=\"margin-left:1rem\">\n        <v-icon left>mdi-refresh</v-icon>리셋\n      </v-btn>\n      <v-btn dark color=\"indigo\" @click=\"saveRole\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-content-save</v-icon>저장</v-btn>\n      <v-btn @click=\"goToList\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-format-list-bulleted</v-icon>목록</v-btn>\n\n<!--      <v-btn icon @click=\"resetRole\" style=\"margin-left:1rem\">-->\n<!--        <v-icon>mdi-refresh</v-icon>-->\n<!--      </v-btn>-->\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport RoleApi from '../../api/RoleApi'\nimport MenuApi from \"@/api/MenuApi\";\n\nimport rules from \"@/utils/rules\";\n\nimport Endpoints from \"@/components/app/Endpoints\"\nimport Menus from \"@/components/app/Menus\"\nimport Policies from \"@/components/app/Policies\"\n\nimport _ from \"lodash\";\nimport PolicyApi from \"@/api/PolicyApi\";\n\nexport default {\n  components: {\n    Endpoints,\n    Menus,\n    Policies\n  },\n  props: ['id'],\n  data() {\n    return {\n      tab: null,\n      rules,\n      breadcrumbs: [{\n        text: '역할관리',\n        disabled: false,\n        href: '#'\n      }, {\n        text: this.$props.id ? '역할수정' : '역할등록'\n      }],\n      role: {\n      },\n      copiedRole: {},\n      selectedEndpoint: [],\n      selectedPolicy: [],\n      copiedSelectedEndpoint: [],\n      copiedSelectedPolicy: [],\n      selectedUserMenu: [],\n      selectedAdminMenu: [],\n      copiedUserSelectedMenu: [],\n      copiedAdminSelectedMenu: [],\n      endpointHeader: [\n        {text: 'resource title', value: 'resourceDescription', align: 'left'},\n        {text: 'api title', value: 'operationDescription', align: 'left'},\n        {text: 'uri', value: 'uri', align: 'left'},\n        {text: 'http method', value: 'httpMethod', align: 'left'},\n        {text: '공개 여부', value: 'isPublicText'}\n      ],\n      policyHeader: [\n        {text: '정책 그룹 코드', value: 'policyGroupCode', align: 'left'},\n        {text: '정책 코드', value: 'policyCode', align: 'left'},\n        {text: '정책 명', value: 'policyName', align: 'left'}\n      ]\n    }\n  },\n  methods: {\n    async saveRole() {\n      if(this.role.id === 1) {\n        alert(\"관리자 역할은 수정하거나 삭제하실 수 없습니다.\")\n        return false\n      }\n      const isValidRoleForm = await this.$refs.roleForm.validate()\n      if (confirm(\"역할 정보를 저장하시겠습니까?\") && isValidRoleForm) {\n\n        const selectedEndpoint = this.$refs[\"tabs-endpoint\"].selected;\n        this.role.roleEndpoints = selectedEndpoint.map(e => { return {'id': {'uri': e.uri, 'httpMethod':e.httpMethod}}})\n\n        const selectedPolicy = this.$refs[\"tabs-policy\"]?.selected??this.copiedSelectedPolicy.map(p => { return {'id': p.id} })\n        this.role.rolePolicies = selectedPolicy.map(e => { return {'id': {'policyId': e.id}}})\n\n        const selectedAdminMenu = this.$refs[\"tabs-admin-menu\"]?.selected??this.copiedAdminSelectedMenu.map(e => { return {'id':e.menuId}})\n        const selectedUserMenu = this.$refs[\"tabs-user-menu\"]?.selected??this.copiedUserSelectedMenu.map(e => { return {'id':e.menuId}})\n        this.role.roleMenus = [...selectedAdminMenu.map(e => { return {'id': {'menuId':e.id}}}), ...selectedUserMenu.map(e => { return {'id': {'menuId':e.id}}})]\n\n        RoleApi.saveRole(this.role).then(result => {\n          this.role.id = result.id\n          alert(\"저장되었습니다.\")\n          // this.$router.push({path: '/roles'})\n        })\n      }\n    },\n    goToList() {\n      this.$router.push({path: '/roles'})\n    },\n    resetRole() {\n      this.role = _.cloneDeep(this.copiedRole)\n      this.selectedEndpoint = _.cloneDeep(this.copiedSelectedEndpoint)\n      this.selectedPolicy = _.cloneDeep(this.copiedSelectedPolicy)\n      this.selectedUserMenu = _.cloneDeep(this.copiedUserSelectedMenu)\n      this.selectedAdminMenu = _.cloneDeep(this.copiedAdminSelectedMenu)\n    },\n    deleteRole(role) {\n      if(role.id === 1) {\n        alert(\"관리자 역할은 수정하거나 삭제하실 수 없습니다.\")\n        return false\n      }\n      if (confirm('삭제하시겠습니까?'))\n        RoleApi.deleteRole(role.id).then(() => {\n          this.roles = this.roles.filter(r => r !== role)\n          alert(\"삭제되었습니다.\")\n          this.$router.push({path: '/roles'})\n        })\n    }\n\n  },\n  created() {\n    if (this.id) {\n      RoleApi.getRole(this.id).then(async result => {\n        this.role = result.data;\n        this.copiedRole = _.cloneDeep(this.role)\n\n        this.selectedEndpoint = this.role.roleEndpoints?.map(re => re.id)??[]\n        const flatMenus = (result) => {\n          let children = [];\n          const flattenMenus = result.map(m => {\n            if (m.childMenus && m.childMenus.length) {\n              children = [...children, ...m.childMenus];\n            }\n            return m;\n          });\n\n          return flattenMenus.concat(children.length ? flatMenus(children) : children);\n        };\n\n        if(this.role.id === 1) {\n          // const menus = await MenuApi.findMenusByCategory('HOME');\n          const userMenus = await MenuApi.findMenusByCategory('HOME');\n          const adminMenus = await MenuApi.findMenusByCategory('ADMIN');\n          this.selectedUserMenu = flatMenus(userMenus).map(m => {\n            return {\n              menuId: m.id\n            }\n          })\n          this.selectedAdminMenu = flatMenus(adminMenus).map(m => {\n            return {\n              menuId: m.id\n            }\n          })\n\n          const tempPolicies = (await PolicyApi.findPolicies({size:-1})).content;\n          this.selectedPolicy = tempPolicies.map(p => { return {'id': p.id} })\n\n          // PolicyApi.findPolicies({size:-1}).then(async data => {\n          //    this.selectedPolicy = await data.content.map(p => { return {'id': p.id} })\n          // })\n\n        } else {\n          this.selectedUserMenu = this.role.roleHomeMenuIds?.map(id => {return {menuId: id}}) ?? []\n          this.selectedAdminMenu = this.role.roleAdminMenuIds?.map(id => {return {menuId: id}}) ?? []\n          this.selectedPolicy = this.role.rolePolicies?.map(re => {return {'id' : re.id.policyId}})??[]\n\n          // this.selectedAdminMenu = _.cloneDeep(this.selectedUserMenu)\n        }\n\n        this.copiedSelectedEndpoint = _.cloneDeep(this.selectedEndpoint)\n        this.copiedSelectedPolicy = _.cloneDeep(this.selectedPolicy)\n        this.copiedUserSelectedMenu = _.cloneDeep(this.selectedUserMenu)\n        this.copiedAdminSelectedMenu = _.cloneDeep(this.selectedAdminMenu)\n      })\n    }\n\n    // console.log(this.$store.state.user)\n  }\n\n\n};\n</script>\n"]}]}