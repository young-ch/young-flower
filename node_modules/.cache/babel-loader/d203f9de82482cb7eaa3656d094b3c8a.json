{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue","mtime":1665531625449},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknOwppbXBvcnQgYm9hcmRBcGkgZnJvbSAnQC9hcGkvQm9hcmRBcGknOwppbXBvcnQgY29tbWVudEFwaSBmcm9tICdAL2FwaS9Db21tZW50QXBpJzsKCi8vIGltcG9ydCBWaWV3ZXJUaXB0YXAgZnJvbSAiQC92aWV3cy9jb21wb25lbnQvVmlld2VyVGlwdGFwQ29tcG9uZW50IjsKaW1wb3J0IFZpZXdlclF1aWxsIGZyb20gIkAvY29tcG9uZW50cy9lZGl0b3IvVmlld2VyUXVpbGxDb21wb25lbnQiOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXJ0aWNsZUZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIFZpZXdlclF1aWxsCiAgfSwKICBwcm9wczogWydpZCcsICdib2FyZElkJ10sCiAgY29tcHV0ZWQ6IHsKICAgIGJyZWFkY3J1bWJzKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICB0ZXh0OiAn6rKM7Iuc66y8IOq0gOumrCcsCiAgICAgICAgdG86IGAvYm9hcmRzLyR7dGhpcy5ib2FyZC5pZH0vYXJ0aWNsZXNgLAogICAgICAgIGV4YWN0OiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn6rKM7Iuc66y8IOyhsO2ajCcKICAgICAgfV07CiAgICB9LAogICAgY3JlYXRlZEF0OiB7CiAgICAgIGdldCgpIHsKICAgICAgICAvLyByZXR1cm4gdGhpcy5jb21lbnQuY3JlYXRlZEF0ID8gdGhpcy5jb21lbnQuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCkgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJZWVlZLU1NLUREIikgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMTAgJiYgdGhpcy4kbW9tZW50KHZhbHVlLCAiWVlZWS1NTS1ERCIpLmlzVmFsaWQoKSkgewogICAgICAgICAgdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IHZhbHVlID8gdmFsdWUgKyAiVCIgKyAodGhpcy5jb21tZW50LmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJISDptbTpzcyIpIDogIjAwOjAwOjAwIikgOiB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGJvYXJkOiB7fSwKICAgIGFydGljbGU6IHsKICAgICAgdGl0bGU6IG51bGwsCiAgICAgIGNvbnRlbnRzOiBudWxsLAogICAgICB3cml0ZXI6IG51bGwsCiAgICAgIGFsd2F5czogdHJ1ZSwKICAgICAgY3VzdG9tRGF0ZTogbnVsbAogICAgfSwKICAgIGNvbW1lbnQ6IHsKICAgICAgY29udGVudDogbnVsbCwKICAgICAgd3JpdGVyOiBudWxsLAogICAgICBjcmVhdGVkQXQ6IG51bGwKICAgIH0sCiAgICBjb21tZW50SGVhZGVyczogW3sKICAgICAgdmFsdWU6ICd3cml0ZXInCiAgICB9LCB7CiAgICAgIHZhbHVlOiAnY29udGVudHMnCiAgICB9LCB7CiAgICAgIHZhbHVlOiAnYWN0aW9ucycKICAgIH1dLAogICAgY29tbWVudHM6IFtdLAogICAgdG90YWxJdGVtczogMCwKICAgIG9wdGlvbnM6IHt9LAogICAgcGVyaW9kOiBudWxsLAogICAgYXBpRW5kUG9pbnQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICBlbmRQb2ludDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BVFRBQ0hfRklMRV9TRVJWRVJfVVJMLAogICAgcnVsZXM6IHsKICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgJ+2VhOyImCDsnoXroKUg7ZWt66qp7J6F64uI64ukLi4nLAogICAgICBpc284NjAxOiB2YWx1ZSA9PiAhdmFsdWUgfHwgISEvKFsxMl1cZHszfS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMTJdXGR8M1swMV0pKSQvLnRlc3QodmFsdWUpIHx8ICfrgqDsp5wg7ZiV7Iud7J20IOyVhOuLmeuLiOuLpC4nCiAgICB9LAogICAgZWRpdENvbW1lbnQ6IHt9LAogICAgcGVybWlzc2lvbjoge30KICB9KSwKICB3YXRjaDogewogICAgb3B0aW9uczogewogICAgICBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlYWN0aW9uKCkgewogICAgICBhcnRpY2xlQXBpLnJlYWN0aW9uKHRoaXMuYXJ0aWNsZS5hcnRpY2xlSWQsIHRoaXMuYXJ0aWNsZS5ib2FyZElkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICB0aGlzLmFydGljbGUucmVhY3Rpb25Db3VudCA9IHRoaXMuYXJ0aWNsZS5yZWFjdGlvbkNvdW50ICsgMTsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFkVXNlckhhc1JlYWN0aW9uID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgPSB0aGlzLmFydGljbGUucmVhY3Rpb25Db3VudCAtIDE7CiAgICAgICAgICB0aGlzLmFydGljbGUucmVhZFVzZXJIYXNSZWFjdGlvbiA9IGZhbHNlOwogICAgICAgICAgLy8gYWxlcnQoIuydtOuvuCDsspjrpqzrkJjsl4jsirXri4jri6QuIikKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBkb3dubG9hZEZpbGUoZikgewogICAgICBhcnRpY2xlQXBpLmRvd25sb2FkRmlsZSh0aGlzLmFydGljbGUuYm9hcmRJZCwgdGhpcy5hcnRpY2xlLmlkLCBmLmlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdLCB7CiAgICAgICAgICB0eXBlOiByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICBsaW5rLmRvd25sb2FkID0gZi5maWxlUmVhbE5hbWUuc2xpY2UoZi5maWxlUmVhbE5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpOwogICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIGFsZXJ0KCLtjIzsnbzsnYQg7LC+7J2EIOyImCDsl4bsirXri4jri6QuIik7ZWxzZSBhbGVydChlcnJvci5zdGF0dXMpOwogICAgICB9KTsKICAgIH0sCiAgICBnb0xpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiBgL2JvYXJkcy8ke3RoaXMuYm9hcmRJZH0vYXJ0aWNsZXNgCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUFydGljbGUoaXRlbSkgewogICAgICBpZiAoY29uZmlybSgn7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7CiAgICAgICAgYXJ0aWNsZUFwaS5kZWxldGUoaXRlbS5ib2FyZElkLCBpdGVtLmlkKS50aGVuKCgpID0+IHsKICAgICAgICAgIGFsZXJ0KCLsgq3soJzrkJjsl4jsirXri4jri6QuIik7CiAgICAgICAgICB0aGlzLmdvTGlzdCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlRm9ybShpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiBgL2JvYXJkcy8ke2l0ZW0uYm9hcmRJZH0vYXJ0aWNsZXMvJHtpdGVtLmlkfS9mb3JtYAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBzYXZlQ29tbWVudCgpIHsKICAgICAgaWYgKCEoYXdhaXQgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC52YWxpZGF0ZSgpKSkgcmV0dXJuOwoKICAgICAgLy8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPyB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ICsgIlQwMDowMDowMCIgOiBudWxsOwogICAgICBjb21tZW50QXBpLnNhdmUodGhpcy5ib2FyZElkLCB0aGlzLmlkLCB0aGlzLmNvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuY29tbWVudC5jb250ZW50cyA9IG51bGw7CiAgICAgICAgLy8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IG51bGw7CiAgICAgICAgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgICAvLyB0aGlzLiRyZWZzLmZvcm1Db21tZW50LnJlc2V0KCk7CiAgICAgICAgLy8gdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcm5hbWU7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCk7CiAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVDb21tZW50KCkgewogICAgICBpZiAoIShhd2FpdCB0aGlzLiRyZWZzLmZvcm1MaXN0Q29tbWVudC52YWxpZGF0ZSgpKSkgcmV0dXJuOwogICAgICBpZiAoY29uZmlybSgn64yT6riA7J2EIOyImOygle2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGNvbW1lbnRBcGkuc2F2ZSh0aGlzLmJvYXJkSWQsIHRoaXMuaWQsIHRoaXMuZWRpdENvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgICAgdmFyIF90aGlzJGNvbW1lbnRzJGZpbHRlciwgX3RoaXMkY29tbWVudHMkZmlsdGVyMjsKICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgICAgICAoKF90aGlzJGNvbW1lbnRzJGZpbHRlciA9IChfdGhpcyRjb21tZW50cyRmaWx0ZXIyID0gdGhpcy5jb21tZW50cy5maWx0ZXIoYyA9PiBjLmNvbW1lbnRJZCA9PT0gdGhpcy5lZGl0Q29tbWVudC5jb21tZW50SWQpKSA9PT0gbnVsbCB8fCBfdGhpcyRjb21tZW50cyRmaWx0ZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjb21tZW50cyRmaWx0ZXIyWzBdKSAhPT0gbnVsbCAmJiBfdGhpcyRjb21tZW50cyRmaWx0ZXIgIT09IHZvaWQgMCA/IF90aGlzJGNvbW1lbnRzJGZpbHRlciA6IHt9KS5jb250ZW50cyA9IHRoaXMuZWRpdENvbW1lbnQuY29udGVudHM7CiAgICAgICAgICB0aGlzLmVkaXRDb21tZW50ID0ge307CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVDb21tZW50Rm9ybShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdENvbW1lbnQgPSBfLmNsb25lRGVlcChpdGVtKTsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICB9LAogICAgY2FuY2VsQ29tbWVudCgpIHsKICAgICAgdGhpcy5lZGl0Q29tbWVudCA9IHt9OwogICAgfSwKICAgIGRlbGV0ZUNvbW1lbnQoaXRlbSkgewogICAgICBpZiAoY29uZmlybSgn64yT6riA7J2EIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGNvbW1lbnRBcGkuZGVsZXRlKHRoaXMuYm9hcmRJZCwgdGhpcy5pZCwgaXRlbS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICBpZiAodGhpcy5hcnRpY2xlLmlkKSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgcGFnZSwKICAgICAgICAgIGl0ZW1zUGVyUGFnZSwKICAgICAgICAgIHNpemUKICAgICAgICB9ID0gdGhpcy5vcHRpb25zOwogICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAuLi50aGlzLnBhcmFtLAogICAgICAgICAgLi4uewogICAgICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgICAgICBzaXplOiBzaXplID8gc2l6ZSA6IGl0ZW1zUGVyUGFnZQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29tbWVudEFwaS5maW5kQWxsQnlBcnRpY2xlSWQodGhpcy5hcnRpY2xlLmJvYXJkSWQsIHRoaXMuaWQsIHBhcmFtcykudGhlbihkYXRhID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgdGhpcy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgICAgdGhpcy5jb21tZW50cyA9IGRhdGEuY29udGVudDsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyQkc3RvcmUkZ2V0dGVycyQsIF90aGlzJCRzdG9yZSRnZXR0ZXJzOwogICAgaWYgKHRoaXMuaWQpIHsKICAgICAgdGhpcy5wZXJtaXNzaW9uID0gYXdhaXQgYm9hcmRBcGkuZmluZEFzc2lnbmVkUGVybWlzc2lvbklkKHRoaXMuYm9hcmRJZCwgewogICAgICAgIGFydGljbGVJZDogdGhpcy5pZAogICAgICB9KTsKICAgICAgYXJ0aWNsZUFwaS5maW5kQnlJZCh0aGlzLmJvYXJkSWQsIHRoaXMuaWQpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgdGhpcy5hcnRpY2xlID0gZGF0YTsKICAgICAgICB0aGlzLmNvbW1lbnQuYXJ0aWNsZUlkID0gdGhpcy5hcnRpY2xlLmFydGljbGVJZDsKICAgICAgICB0aGlzLmNvbW1lbnQuYm9hcmRJZCA9IHRoaXMuYXJ0aWNsZS5ib2FyZElkOwogICAgICAgIHRoaXMuc2VhcmNoKCk7CgogICAgICAgIC8vIHRoaXMuYXJ0aWNsZS5jdXN0b21EYXRlID0gdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdC5zdWJzdHIoMCwxMCk7CgogICAgICAgIHRoaXMucGVyaW9kID0gW3RoaXMuYXJ0aWNsZS5zdGFydER0LCB0aGlzLmFydGljbGUuZW5kRHRdLmZpbHRlcihkID0+IGQgIT09IG51bGwpLm1hcChkID0+IG1vbWVudChkKS5mb3JtYXQoIllZWVnrhYQgTU3sm5QgRETsnbwiKSkuam9pbigiIH4gIik7CiAgICAgIH0pOwogICAgfQogICAgLy8gdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLmdldHRlcnM/LlsndXNlci9uYW1lJ10gPz8gJyc7CiAgICAvLyB0aGlzLmNvbW1lbnQud3JpdGVyID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VybmFtZTsKICAgIHRoaXMuY29tbWVudC53cml0ZXIgPSAoX3RoaXMkJHN0b3JlJGdldHRlcnMkID0gKF90aGlzJCRzdG9yZSRnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVycykgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlJGdldHRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZSRnZXR0ZXJzWyd1c2VyL25hbWUnXSkgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJGdldHRlcnMkICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkZ2V0dGVycyQgOiAnJzsKICAgIC8vIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQgSEg6bW06c3MiKQoKICAgIGJvYXJkQXBpLmZpbmRCeUlkKHRoaXMuYm9hcmRJZCkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgdGhpcy5ib2FyZCA9IGRhdGE7CiAgICAgIGlmICghdGhpcy5hcnRpY2xlSWQpIHRoaXMucGVybWlzc2lvbiA9IGF3YWl0IGJvYXJkQXBpLmZpbmRBc3NpZ25lZFBlcm1pc3Npb25JZCh0aGlzLmJvYXJkSWQpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"mappings":";AA2OA;AACA;AACA;;AAIA;AACA;AACA;AAEA;AAKA;EACAA;EACAC;IACAC;EACA;EACAC;EACAC;IACAC;MACA,QACA;QACAC;QACAC;QACAC;MACA,GACA;QACAF;MACA,EACA;IACA;IACAG;MACAC;QACA;QACA;MACA;MACAC;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;IACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC;MACAC;MACAJ;MACAR;IACA;IACAa;MAAAC;IAAA;MAAAA;IAAA;MAAAA;IAAA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;MACAC;MACAC;IACA;IACAC;IACAC;EACA;EACAC;IACAT;MACAU;QACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACAC;QACA;UACA;UACA;QACA;UACA;UACA;UACA;QACA;MACA;IACA;;IACAC;MAEAD,qEACAE;QACA;UAAAC;QAAA;QACA;QACAC;QACAA;QACAA;QACAC;MACA,GACAC;QACAC;QACAA;QACA,mCACAC,6BAEAA;MACA;IACA;IACAC;MACA;QAAAC;MAAA;IACA;IACAC;MACA;QACAX;UACAQ;UACA;QACA;MACA;IACA;IACAI;MACA;QAAAF;MAAA;IACA;IACA;MACA,gDACA;;MAEA;MACAG;QACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;QACAL;MACA;IACA;IACA;MACA,oDACA;MAEA;QACAK;UAAA;UACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACAP;IACA;IACAQ;MACA;IACA;IACAC;MACA;QACAH;UACA;QACA;MACA;IACA;IACAI;MACA;QACA;UAAAC;UAAAC;UAAAC;QAAA;QACA;UACA;UAAA;YACAF;YACAE;UACA;QACA;QACAP;UACA;UACA;UACA;QACA;MACA;IACA;EAEA;EACA;IAAA;IAEA;MACA;QAAAQ;MAAA;MAEArB;QAEA;QACA;QAEA;QACA;QAEA;;QAEA;;QAEA;MAEA;IACA;IACA;IACA;IACA;IACA;;IAEAsB;MACA;MACA,qBACA;IACA;EAGA;AACA","names":["name","components","ViewerQuill","props","computed","breadcrumbs","text","to","exact","createdAt","get","set","data","board","article","title","contents","writer","always","customDate","comment","content","commentHeaders","value","comments","totalItems","options","period","apiEndPoint","endPoint","rules","required","iso8601","editComment","permission","watch","handler","deep","methods","reaction","articleApi","downloadFile","then","type","link","URL","catch","console","alert","goList","path","deleteArticle","updateForm","commentApi","updateCommentForm","cancelComment","deleteComment","search","page","itemsPerPage","size","articleId","boardApi"],"sourceRoot":"src/apps/article","sources":["ArticleView.vue"],"sourcesContent":["<template>\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\" v-if=\"id\">게시물 정보 상세 {{ article.title && `- ${article.title}` }} </div>\n\n        <div class=\"display-1\" v-else>게시물 생성</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn icon>\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n    </div>\n\n    <v-card class=\"my-2\">\n      <v-card-title>게시물 정보</v-card-title>\n      <v-card-text>\n        <div class=\"d-flex flex-column flex-sm-row\">\n          <div class=\"flex-grow-1 pt-2 pa-sm-2\">\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">제목</span>\n\n              <span class=\"mx-6\">\n                <v-chip\n                  color=\"primary\"\n                  small\n                  v-if=\"board.hasNotice && article.notice\"\n                >\n                  공지\n                </v-chip>\n\n                <template v-for=\"(c) in board.boardCategories\">\n                  <v-chip\n                    v-bind:key=\"c.categoryId\"\n                    small\n                    v-if=\"c.id === article.categoryId\"\n                  >\n                    {{c.categoryName}}\n                  </v-chip>\n                </template>\n\n                {{article.title}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\" v-if=\"article.notice && board.hasPeriod && !article.always\">\n              <span class=\"font-weight-bold\">공지기간</span>\n\n              <span class=\"mx-6\">{{period}}\n<!--                <template>-->\n<!--                  <v-chip-->\n<!--                    color=\"primary\"-->\n<!--                    small-->\n<!--                  >-->\n<!--                    상시-->\n<!--                  </v-chip>-->\n<!--                </template>-->\n<!--                <template v-else>-->\n<!--                  {{period}}-->\n<!--                </template>-->\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">작성자</span>\n              <span class=\"mx-6\">\n                {{article.writer}}\n              </span>\n\n              <span class=\"font-weight-bold\">작성일</span>\n              <span class=\"mx-6\">\n                {{  article.createdAt | formatDate('YYYY-MM-DD HH:mm:ss') }}\n              </span>\n\n              <span class=\"font-weight-bold\">조회수</span>\n              <span class=\"mx-6\">\n                {{article.hits ? article.hits : 1}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <viewer-quill :val=\"article.contents\" />\n<!--              <div v-html=\"article.contents.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\" v-else>-->\n<!--              </div>             -->\n            </div>\n\n            <div class=\"d-flex\" v-if=\"board.hasAttachment\">\n              <span class=\"font-weight-bold\">첨부 파일</span>\n              <span class=\"mx-6\">\n                <div v-if=\"article.articleAttachments\">\n                  <v-row v-for=\"f in article.articleAttachments\" v-bind:key=\"f.id\" class=\"ma-2\">\n                    <v-btn text  @click.prevent=\"downloadFile(f)\"><v-icon>{{ f.contentType.indexOf('image') === 0 ? 'mdi-image' : 'mdi-file' }}</v-icon>\n                      <v-tooltip bottom v-if=\"f.contentType.indexOf('image') === 0\">\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <span\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                          >\n                            {{ f.fileRealName }}\n                          </span>\n                        </template>\n\n                        <span>\n                          <v-img :src=\"`/attachment/${f.fileContextPath}${f.thumbnail}`\" max-height=\"200\" max-width=\"200\"/>\n                        </span>\n                      </v-tooltip>\n                      <span v-else>{{ f.fileRealName }}</span>\n                    </v-btn>\n                <!--                <a :href=\"`${apiEndPoint}/board/${article.boardId}/article/${article.articleId}/file/${f.id}`\" @click.prevent=\"downloadFile(f)\">{{ f.fileRealName }}</a>-->\n              </v-row>\n                </div>\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </v-card-text>\n    </v-card>\n\n    <div class=\"d-flex\">\n      <v-spacer></v-spacer>\n      <v-btn dark color=\"red\" @click=\"deleteArticle(article)\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제\n      </v-btn>\n      <v-btn color=\"primary\" dark @click=\"updateForm(article)\" style=\"margin-left: 1rem\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-pencil</v-icon>\n        수정\n      </v-btn>\n      <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록\n      </v-btn>\n    </div>\n\n    <div class=\"flex-grow-1\" v-if=\"board.hasComment\">\n\n      <v-card class=\"my-2\">\n        <v-card-title>댓글</v-card-title>\n        <v-card-text v-if=\"permission.commentable\">\n          <v-form ref=\"formComment\">\n            <v-row>\n\n              <v-col cols=\"4\">\n                <v-text-field v-model=\"comment.writer\" :rules=\"[rules.required]\" label=\"작성자\" dense />\n              </v-col>\n              <v-col cols=\"8\" v-if=\"permission.boardAdmin\">\n                <v-text-field v-model=\"createdAt\" :rules=\"[rules.iso8601]\" label=\"작성일 YYYY-MM-DD (수정시 입력)\" placeholder=\"YYYY-MM-DD\" dense maxlength=\"10\"/>\n              </v-col>\n\n              <v-col cols=\"12\" class=\"d-flex\">\n                <v-textarea v-model=\"comment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\"></v-textarea>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n\n        <v-card-actions v-if=\"permission.commentable\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"vBtn\" color=\"indigo\" dark @click=\"saveComment\">\n            <v-icon left>mdi mdi-content-save</v-icon>\n            댓글 등록\n          </v-btn>\n        </v-card-actions>\n\n        <v-card-text>\n          <v-form ref=\"formListComment\">\n            <v-data-table\n              :headers=\"commentHeaders\"\n              :items=\"comments\"\n              :server-items-length=\"totalItems\"\n              :options.sync=\"options\"\n              item-key=\"commentId\"\n              class=\"elevation-1 commentList\"\n              disable-sort\n              hide-default-header\n            >\n              <template v-slot:top>\n                댓글 ({{totalItems}})\n              </template>\n              <template v-slot:item.writer=\"{value, item}\">\n                <div>{{ value }}</div>\n                {{ item.createdAt | formatDate('YYYY-MM-DD HH:mm') }}\n              </template>\n\n              <template v-slot:item.contents=\"{value,item}\">\n                <div v-if=\"item.id === editComment.id\" class=\"d-flex\">\n                  <v-textarea v-model=\"editComment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\" v-if=\"item.id === editComment.id\"></v-textarea>\n                  <div>\n                    <v-btn color=\"#1991eb\" dark @click=\"updateComment\" style=\"margin-left: 1rem\">\n                      <v-icon left>mdi mdi-content-save</v-icon>\n                      수정\n                    </v-btn> <br />\n                    <v-btn @click=\"cancelComment\" style=\"margin-left: 1rem; margin-top: 3px\">\n                      <v-icon left>mdi mdi-reload</v-icon>\n                      취소\n                    </v-btn>\n                  </div>\n                </div >\n                <div v-html=\"value.split('\\n').join('<br />')\" v-else></div>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-icon\n                  small\n                  class=\"mr-2\"\n                  @click.stop=\"updateCommentForm(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-pencil\n                </v-icon>\n                <v-icon\n                  small\n                  @click.stop=\"deleteComment(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-delete\n                </v-icon>\n\n              </template>\n\n            </v-data-table>\n          </v-form>\n        </v-card-text>\n\n      </v-card>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport articleApi from '@/api/ArticleApi'\nimport boardApi from '@/api/BoardApi'\nimport commentApi from '@/api/CommentApi'\n\n\n\n// import ViewerTiptap from \"@/views/component/ViewerTiptapComponent\";\nimport ViewerQuill from \"@/components/editor/ViewerQuillComponent\";\nimport _ from 'lodash'\n\nimport moment from \"moment\";\n\n\n\n\nexport default {\n  name: \"ArticleForm\",\n  components: {\n    ViewerQuill\n  },\n  props: ['id',  'boardId'],\n  computed: {\n    breadcrumbs() {\n      return [\n        {\n          text: '게시물 관리',\n          to: `/boards/${this.board.id}/articles`,\n          exact: true\n        },\n        {\n          text: '게시물 조회'\n        }\n      ]\n    },\n    createdAt: {\n      get() {\n        // return this.coment.createdAt ? this.coment.createdAt.substr(0, 10) : this.$moment().format(\"YYYY-MM-DD\");\n        return this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"YYYY-MM-DD\") : this.$moment().format(\"YYYY-MM-DD\");\n      },\n      set(value) {\n        if(value.length === 10 && this.$moment(value, \"YYYY-MM-DD\").isValid()) {\n          this.comment.createdAt = value ? value + \"T\" + (this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"HH:mm:ss\") : \"00:00:00\") : this.comment.createdAt;\n        }\n      }\n    }\n  },\n  data: () => ({\n    board:{},\n    article: {\n      title: null,\n      contents: null,\n      writer: null,\n      always: true,\n      customDate: null\n    },\n    comment: {\n      content: null,\n      writer: null,\n      createdAt: null\n    },\n    commentHeaders: [{value: 'writer'}, {value : 'contents'}, {value: 'actions'}],\n    comments:[],\n    totalItems:0,\n    options:{},\n    period:null,\n    apiEndPoint:process.env.VUE_APP_BASE_API,\n    endPoint:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    rules: {\n      required: value => !!value || '필수 입력 항목입니다..',\n      iso8601: value => (!value || !!/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value)) || '날짜 형식이 아닙니다.'\n    },\n    editComment: {},\n    permission: {}\n  }),\n  watch: {\n    options: {\n      handler () {\n        this.search();\n      },\n      deep: true,\n    }\n  },\n  methods: {\n    reaction() {\n      articleApi.reaction(this.article.articleId, this.article.boardId).then(res => {\n        if(res.data) {\n          this.article.reactionCount = this.article.reactionCount +1;\n          this.article.readUserHasReaction = true;\n        } else {\n          this.article.reactionCount = this.article.reactionCount -1;\n          this.article.readUserHasReaction = false;\n          // alert(\"이미 처리되었습니다.\")\n        }\n      });\n    },\n    downloadFile(f) {\n\n      articleApi.downloadFile(this.article.boardId, this.article.id, f.id)\n      .then(response => {\n        const blob = new Blob([response.data], { type: response.headers['content-type'] })\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        link.download = f.fileRealName.slice(f.fileRealName.lastIndexOf('/') + 1);\n        link.click()\n        URL.revokeObjectURL(link.href)\n      })\n      .catch(error => {\n        console.log(error.response);\n        console.log(error.response.status);\n        if(error.response.status === 404)\n          alert(\"파일을 찾을 수 없습니다.\");\n        else\n          alert(error.status);\n      });\n    },\n    goList() {\n      this.$router.push({path: `/boards/${this.boardId}/articles`})\n    },\n    deleteArticle(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        articleApi.delete(item.boardId, item.id).then(() => {\n          alert(\"삭제되었습니다.\")\n          this.goList();\n        });\n      }\n    },\n    updateForm(item) {\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}/form`});\n    },\n    async saveComment() {\n      if (!await this.$refs.formComment.validate())\n        return;\n\n      // this.comment.createdAt = this.comment.createdAt ? this.comment.createdAt + \"T00:00:00\" : null;\n      commentApi.save(this.boardId, this.id, this.comment).then(() => {\n        this.comment.contents = null;\n        // this.comment.createdAt = null;\n        this.$refs.formComment.resetValidation()\n        // this.$refs.formComment.reset();\n        // this.comment.writer = this.$store.state.user.username;\n        this.search();\n      }).catch(error => {\n        this.comment.createdAt = this.comment.createdAt.substr(0, 10);\n        alert(error);\n      });\n    },\n    async updateComment() {\n      if (!await this.$refs.formListComment.validate())\n        return;\n\n      if(confirm('댓글을 수정하시겠습니까?')) {\n        commentApi.save(this.boardId, this.id, this.editComment).then(() => {\n          this.$refs.formComment.resetValidation();\n          (this.comments.filter(c => c.commentId === this.editComment.commentId)?.[0] ?? {}).contents = this.editComment.contents;\n          this.editComment = {};\n        });\n      }\n    },\n    updateCommentForm(item) {\n      this.editComment = _.cloneDeep(item);\n      console.log(item)\n    },\n    cancelComment() {\n      this.editComment = {};\n    },\n    deleteComment(item) {\n      if(confirm('댓글을 삭제하시겠습니까?')) {\n        commentApi.delete(this.boardId, this.id, item.id).then(() => {\n          this.search();\n        });\n      }\n    },\n    search() {\n      if(this.article.id) {\n        const {page, itemsPerPage, size} = this.options;\n        let params = {\n          ...this.param, ...{\n            page: page,\n            size: size ? size : itemsPerPage\n          }\n        };\n        commentApi.findAllByArticleId(this.article.boardId, this.id, params).then(data => {\n          // console.log(data);\n          this.totalItems = data.totalElements;\n          this.comments = data.content;\n        });\n      }\n    }\n\n  },\n  async created() {\n\n    if(this.id) {\n      this.permission = await boardApi.findAssignedPermissionId(this.boardId, {articleId: this.id})\n\n      articleApi.findById(this.boardId, this.id).then(async data => {\n\n        // console.log(data);\n        this.article = data;\n\n        this.comment.articleId = this.article.articleId;\n        this.comment.boardId = this.article.boardId;\n\n        this.search();\n\n        // this.article.customDate = this.article.createdAt.substr(0,10);\n\n        this.period = [this.article.startDt, this.article.endDt].filter(d => d !== null).map(d => moment(d).format(\"YYYY년 MM월 DD일\")).join(\" ~ \");\n\n      });\n    }\n    // this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.writer = this.$store.state.user.username;\n    this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.createdAt = moment().format(\"YYYY-MM-DD HH:mm:ss\")\n\n    boardApi.findById(this.boardId).then(async data => {\n      this.board = data;\n      if (!this.articleId)\n        this.permission = await boardApi.findAssignedPermissionId(this.boardId)\n    });\n\n\n  }\n}\n</script>\n"]}]}