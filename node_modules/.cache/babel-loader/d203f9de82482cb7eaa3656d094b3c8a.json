{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleView.vue","mtime":1666663225331},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknOwppbXBvcnQgYm9hcmRBcGkgZnJvbSAnQC9hcGkvQm9hcmRBcGknOwppbXBvcnQgY29tbWVudEFwaSBmcm9tICdAL2FwaS9Db21tZW50QXBpJzsKCi8vIGltcG9ydCBWaWV3ZXJUaXB0YXAgZnJvbSAiQC92aWV3cy9jb21wb25lbnQvVmlld2VyVGlwdGFwQ29tcG9uZW50IjsKaW1wb3J0IFZpZXdlclF1aWxsIGZyb20gIkAvY29tcG9uZW50cy9lZGl0b3IvVmlld2VyUXVpbGxDb21wb25lbnQiOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBDb21tZW50IGZyb20gJ0AvYXBwcy9jb21wb25lbnQvQ29tbWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXJ0aWNsZUZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIFZpZXdlclF1aWxsLAogICAgQ29tbWVudAogIH0sCiAgcHJvcHM6IHsKICAgIGlkOiBTdHJpbmcsCiAgICBib2FyZElkOiBTdHJpbmcKICB9LAogIGNvbXB1dGVkOiB7CiAgICBicmVhZGNydW1icygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGV4dDogJ+qyjOyLnOusvCDqtIDrpqwnLAogICAgICAgIHRvOiBgL2JvYXJkcy8ke3RoaXMuYm9hcmQuaWR9L2FydGljbGVzYCwKICAgICAgICBleGFjdDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+qyjOyLnOusvCDsobDtmownCiAgICAgIH1dOwogICAgfSwKICAgIGNyZWF0ZWRBdDogewogICAgICBnZXQoKSB7CiAgICAgICAgLy8gcmV0dXJuIHRoaXMuY29tZW50LmNyZWF0ZWRBdCA/IHRoaXMuY29tZW50LmNyZWF0ZWRBdC5zdWJzdHIoMCwgMTApIDogdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPyB0aGlzLiRtb21lbnQodGhpcy5jb21tZW50LmNyZWF0ZWRBdCwgIllZWVktTU0tRERbVF1ISDptbTpzcyIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpIDogdGhpcy4kbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEwICYmIHRoaXMuJG1vbWVudCh2YWx1ZSwgIllZWVktTU0tREQiKS5pc1ZhbGlkKCkpIHsKICAgICAgICAgIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB2YWx1ZSA/IHZhbHVlICsgIlQiICsgKHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPyB0aGlzLiRtb21lbnQodGhpcy5jb21tZW50LmNyZWF0ZWRBdCwgIllZWVktTU0tRERbVF1ISDptbTpzcyIpLmZvcm1hdCgiSEg6bW06c3MiKSA6ICIwMDowMDowMCIpIDogdGhpcy5jb21tZW50LmNyZWF0ZWRBdDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBzdGF0aWNhdHRhY2htZW50UGF0aDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BVFRBQ0hfU1RBVElDX1BBVEgsCiAgICBib2FyZDoge30sCiAgICBhcnRpY2xlOiB7CiAgICAgIHRpdGxlOiBudWxsLAogICAgICBjb250ZW50czogbnVsbCwKICAgICAgd3JpdGVyOiBudWxsLAogICAgICBhbHdheXM6IHRydWUsCiAgICAgIGN1c3RvbURhdGU6IG51bGwKICAgIH0sCiAgICAvLyBjb21tZW50OiB7CiAgICAvLyAgIGNvbnRlbnQ6IG51bGwsCiAgICAvLyAgIHdyaXRlcjogbnVsbCwKICAgIC8vICAgY3JlYXRlZEF0OiBudWxsLAogICAgLy8gICBjcmVhdGVkQnk6IG51bGwsCiAgICAvLyB9LAogICAgcmVjb21tZW50OiB7CiAgICAgIGNvbnRlbnRzOiAiIgogICAgfSwKICAgIHRlbXBjb21tZW50OiB7CiAgICAgIGNvbnRlbnQ6IG51bGwsCiAgICAgIHdyaXRlcjogbnVsbCwKICAgICAgY3JlYXRlZEF0OiBudWxsCiAgICB9LAogICAgY29tbWVudEhlYWRlcnM6IFt7CiAgICAgIHZhbHVlOiAnd3JpdGVyJwogICAgfSwgewogICAgICB2YWx1ZTogJ2NvbnRlbnRzJwogICAgfSwgewogICAgICB2YWx1ZTogJ2FjdGlvbnMnCiAgICB9XSwKICAgIGNvbW1lbnRzOiBbXSwKICAgIGNvbW1lbnQ6IHsKICAgICAgY29udGVudHM6ICIiCiAgICB9LAogICAgdG90YWxJdGVtczogMCwKICAgIG9wdGlvbnM6IHt9LAogICAgcmVDb21tZW50SW5kZXg6IC0xLAogICAgY29tbWVudEluZGV4OiAtMSwKICAgIGlzVmlzaWJsZUNvbW1lbnRVcGRhdGVGb3JtOiBmYWxzZSwKICAgIGlzVmlzaWJsZVJlcGx5RWRpdG9yOiBmYWxzZSwKICAgIHBlcmlvZDogbnVsbCwKICAgIGFwaUVuZFBvaW50OiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogICAgZW5kUG9pbnQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX0ZJTEVfU0VSVkVSX1VSTCwKICAgIHJ1bGVzOiB7CiAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICftlYTsiJgg7J6F66ClIO2VreuqqeyeheuLiOuLpC4uJywKICAgICAgaXNvODYwMTogdmFsdWUgPT4gIXZhbHVlIHx8ICEhLyhbMTJdXGR7M30tKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEyXVxkfDNbMDFdKSkkLy50ZXN0KHZhbHVlKSB8fCAn64Kg7KecIO2YleyLneydtCDslYTri5nri4jri6QuJwogICAgfSwKICAgIGVkaXRDb21tZW50OiB7CiAgICAgIGNvbnRlbnRzOiAiIgogICAgfSwKICAgIHBlcm1pc3Npb246IHt9CiAgfSksCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWFjdGlvbigpIHsKICAgICAgYXJ0aWNsZUFwaS5yZWFjdGlvbih0aGlzLmFydGljbGUuYXJ0aWNsZUlkLCB0aGlzLmFydGljbGUuYm9hcmRJZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgPSB0aGlzLmFydGljbGUucmVhY3Rpb25Db3VudCArIDE7CiAgICAgICAgICB0aGlzLmFydGljbGUucmVhZFVzZXJIYXNSZWFjdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXJ0aWNsZS5yZWFjdGlvbkNvdW50ID0gdGhpcy5hcnRpY2xlLnJlYWN0aW9uQ291bnQgLSAxOwogICAgICAgICAgdGhpcy5hcnRpY2xlLnJlYWRVc2VySGFzUmVhY3Rpb24gPSBmYWxzZTsKICAgICAgICAgIC8vIGFsZXJ0KCLsnbTrr7gg7LKY66as65CY7JeI7Iq164uI64ukLiIpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgZG93bmxvYWRGaWxlKGYpIHsKICAgICAgYXJ0aWNsZUFwaS5kb3dubG9hZEZpbGUodGhpcy5hcnRpY2xlLmJvYXJkSWQsIHRoaXMuYXJ0aWNsZS5pZCwgZi5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSwgewogICAgICAgICAgdHlwZTogcmVzcG9uc2UuaGVhZGVyc1snY29udGVudC10eXBlJ10KICAgICAgICB9KTsKICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgbGluay5kb3dubG9hZCA9IGYuZmlsZVJlYWxOYW1lLnNsaWNlKGYuZmlsZVJlYWxOYW1lLmxhc3RJbmRleE9mKCcvJykgKyAxKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSBhbGVydCgi7YyM7J287J2EIOywvuydhCDsiJgg7JeG7Iq164uI64ukLiIpO2Vsc2UgYWxlcnQoZXJyb3Iuc3RhdHVzKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja1JlbW92ZUNvbW1lbnQoaWQpIHsKICAgICAgaWYgKGNvbmZpcm0oJ+yngOq4iCDsgq3soJztlZjsi5zrqbQgXG7rgrTsmqnsnYQg67O16rWs7ZWgIOyImCDsl4bsirXri4jri6QuIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGNvbW1lbnRBcGkuZGVsZXRlKHRoaXMuYXJ0aWNsZS5ib2FyZElkLCB0aGlzLmNvbW1lbnQuYXJ0aWNsZUlkLCBpZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25VcGRhdGVSZXBseShlZGl0cmVwbHksIGlkLCB1cGNvbW1lbnQpIHsKICAgICAgY29uc29sZS5sb2codXBjb21tZW50KTsKICAgICAgdGhpcy5yZWNvbW1lbnQgPSB1cGNvbW1lbnQ7CiAgICAgIGxldCB0ZW1wQ29udGVudHMgPSBlZGl0cmVwbHk7CiAgICAgIGlmICh0ZW1wQ29udGVudHMubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm4gYWxlcnQoJ+uMk+q4gOydhCDtlZwg6riA7J6QIOydtOyDgSDsnoXroKXtlbTso7zshLjsmpQuJyk7CiAgICAgIH0KICAgICAgdGhpcy5yZWNvbW1lbnQuYXJ0aWNsZUlkID0gdGhpcy5hcnRpY2xlLmlkOwogICAgICB0aGlzLnJlY29tbWVudC5ib2FyZElkID0gdGhpcy5hcnRpY2xlLmJvYXJkSWQ7CiAgICAgIHRoaXMucmVjb21tZW50LmNvbW1lbnRJZCA9IGlkOwogICAgICB0aGlzLnJlY29tbWVudC5jb250ZW50cyA9IHRlbXBDb250ZW50czsKICAgICAgdGhpcy5yZWNvbW1lbnQudXBkYXRlQXQgPSBudWxsOwogICAgICBjb21tZW50QXBpLnNhdmUodGhpcy5hcnRpY2xlLmJvYXJkSWQsIHRoaXMuYXJ0aWNsZS5pZCwgdGhpcy5yZWNvbW1lbnQpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZWRpdHJlcGx5ID0gIiI7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlQ29tbWVudEluZGV4ID0gLTE7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQudXBwZXJDb21tZW50SWQgPSAiIjsKICAgICAgICB0aGlzLmlzVmlzaWJsZUNvbW1lbnRVcGRhdGVGb3JtID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSk7CiAgICB9LAogICAgZ29MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9ib2FyZHMvJHt0aGlzLmJvYXJkSWR9L2FydGljbGVzYAogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVBcnRpY2xlKGl0ZW0pIHsKICAgICAgaWYgKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIGFydGljbGVBcGkuZGVsZXRlKGl0ZW0uYm9hcmRJZCwgaXRlbS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7IKt7KCc65CY7JeI7Iq164uI64ukLiIpOwogICAgICAgICAgdGhpcy5nb0xpc3QoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUZvcm0oaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9ib2FyZHMvJHtpdGVtLmJvYXJkSWR9L2FydGljbGVzLyR7aXRlbS5pZH0vZm9ybWAKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgc2F2ZUNvbW1lbnQoKSB7CiAgICAgIGlmICghKGF3YWl0IHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQudmFsaWRhdGUoKSkpIHJldHVybjsKCiAgICAgIC8vIHRoaXMuY29tbWVudC5jcmVhdGVkQXQgPSB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID8gdGhpcy5jb21tZW50LmNyZWF0ZWRBdCArICJUMDA6MDA6MDAiIDogbnVsbDsKICAgICAgY29tbWVudEFwaS5zYXZlKHRoaXMuYm9hcmRJZCwgdGhpcy5pZCwgdGhpcy5jb21tZW50KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmNvbW1lbnQuY29udGVudHMgPSBudWxsOwoKICAgICAgICAvLyB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID0gbnVsbDsKICAgICAgICB0aGlzLiRyZWZzLmZvcm1Db21tZW50LnJlc2V0VmFsaWRhdGlvbigpOwogICAgICAgIC8vIHRoaXMuJHJlZnMuZm9ybUNvbW1lbnQucmVzZXQoKTsKICAgICAgICAvLyB0aGlzLmNvbW1lbnQud3JpdGVyID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VybmFtZTsKICAgICAgICAvL3RoaXMuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlcGx5ID0gIiI7CiAgICAgICAgdGhpcy5pc1Zpc2libGVSZXBseUVkaXRvciA9IGZhbHNlOwogICAgICAgIHRoaXMucmVjb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQudXBwZXJDb21tZW50SWQgPSAiIjsKICAgICAgICB0aGlzLm9fY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy5jb21tZW50LmNyZWF0ZWRBdCA9IHRoaXMuY29tbWVudC5jcmVhdGVkQXQuc3Vic3RyKDAsIDEwKTsKICAgICAgICBhbGVydChlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHVwZGF0ZUNvbW1lbnQoKSB7CiAgICAgIGlmICghKGF3YWl0IHRoaXMuJHJlZnMuZm9ybUxpc3RDb21tZW50LnZhbGlkYXRlKCkpKSByZXR1cm47CgogICAgICAvLyB0aGlzLnRlbXBjb21tZW50ID0gdGhpcy5lZGl0Q29tbWVudAogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRlbXBjb21tZW50LmNvbnRlbnRzKTsKCiAgICAgIGlmIChjb25maXJtKCfrjJPquIDsnYQg7IiY7KCV7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7CiAgICAgICAgY29tbWVudEFwaS5zYXZlKHRoaXMuYm9hcmRJZCwgdGhpcy5pZCwgdGhpcy5lZGl0Q29tbWVudCkudGhlbigoKSA9PiB7CiAgICAgICAgICB2YXIgX3RoaXMkY29tbWVudHMkZmlsdGVyLCBfdGhpcyRjb21tZW50cyRmaWx0ZXIyOwogICAgICAgICAgdGhpcy4kcmVmcy5mb3JtQ29tbWVudC5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgICAgICgoX3RoaXMkY29tbWVudHMkZmlsdGVyID0gKF90aGlzJGNvbW1lbnRzJGZpbHRlcjIgPSB0aGlzLmNvbW1lbnRzLmZpbHRlcihjID0+IGMuY29tbWVudElkID09PSB0aGlzLmVkaXRDb21tZW50LmNvbW1lbnRJZCkpID09PSBudWxsIHx8IF90aGlzJGNvbW1lbnRzJGZpbHRlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNvbW1lbnRzJGZpbHRlcjJbMF0pICE9PSBudWxsICYmIF90aGlzJGNvbW1lbnRzJGZpbHRlciAhPT0gdm9pZCAwID8gX3RoaXMkY29tbWVudHMkZmlsdGVyIDoge30pLmNvbnRlbnRzID0gdGhpcy5lZGl0Q29tbWVudC5jb250ZW50czsKICAgICAgICAgIHRoaXMuZWRpdENvbW1lbnQgPSB7fTsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdFJlcGx5KHJlcGx5LCBpZCkgewogICAgICBjb25zb2xlLmxvZyhyZXBseSk7IC8v7ZiE7J6sIOuMk+q4gCDsk7Qg6rKw6rO8LgogICAgICBjb25zb2xlLmxvZyhpZCk7IC8v7ZiE7J6sIOyDgeychCDrjJPquIAgSUQKCiAgICAgIHRoaXMucmVjb21tZW50ID0gdGhpcy5jb21tZW50OwogICAgICBsZXQgdGVtcENvbnRlbnRzID0gcmVwbHk7CiAgICAgIGlmICh0ZW1wQ29udGVudHMubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm4gYWxlcnQoJ+uMk+q4gOydhCDtlZwg6riA7J6QIOydtOyDgSDsnoXroKXtlbTso7zshLjsmpQuJyk7CiAgICAgIH0KICAgICAgdGhpcy5yZWNvbW1lbnQuYXJ0aWNsZUlkID0gdGhpcy5hcnRpY2xlLmlkOwogICAgICB0aGlzLnJlY29tbWVudC5ib2FyZElkID0gdGhpcy5hcnRpY2xlLmJvYXJkSWQ7CiAgICAgIHRoaXMucmVjb21tZW50LnVwcGVyQ29tbWVudElkID0gaWQ7CiAgICAgIHRoaXMucmVjb21tZW50LmNvbW1lbnRJZCA9IG51bGw7CiAgICAgIHRoaXMucmVjb21tZW50LmNyZWF0ZWRBdCA9IG51bGw7CiAgICAgIC8vY29uc29sZS5sb2coIiB0aGlzLnRlbXBDb250ZW50cyAtLS0tICIpCiAgICAgIC8vY29uc29sZS5sb2coIHRlbXBDb250ZW50cykKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnJlY29tbWVudC5jb250ZW50cykKICAgICAgLy9jb25zb2xlLmxvZygiIHRoaXMucmVjb21tZW50IC0tLS0gIikKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnJlY29tbWVudCkKICAgICAgdGhpcy5jb21tZW50LmNvbnRlbnRzID0gIiI7CiAgICAgIHRoaXMucmVjb21tZW50LmNvbnRlbnRzID0gdGVtcENvbnRlbnRzOwogICAgICAvL2NvbnNvbGUubG9nKCIgdGhpcy5yZWNvbW1lbnQgLS0tLSAiKQogICAgICAvL2NvbnNvbGUubG9nKHRoaXMucmVjb21tZW50KQoKICAgICAgY29tbWVudEFwaS5zYXZlKHRoaXMuYXJ0aWNsZS5ib2FyZElkLCB0aGlzLmlkLCB0aGlzLnJlY29tbWVudCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5jb250ZW50cyA9ICIiOwogICAgICAgIHRoaXMucmVwbHkgPSAiIjsKICAgICAgICB0aGlzLmlzVmlzaWJsZVJlcGx5RWRpdG9yID0gZmFsc2U7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnJlQ29tbWVudEluZGV4ID0gLTE7CiAgICAgICAgdGhpcy5yZWNvbW1lbnQudXBwZXJDb21tZW50SWQgPSAiIjsKICAgICAgICB0aGlzLmNvbW1lbnQuY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLm9fY29udGVudHMgPSAiIjsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVDb21tZW50Rm9ybShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdENvbW1lbnQgPSBfLmNsb25lRGVlcChpdGVtKTsKICAgIH0sCiAgICBjYW5jZWxDb21tZW50KCkgewogICAgICB0aGlzLmVkaXRDb21tZW50ID0ge307CiAgICB9LAogICAgZGVsZXRlQ29tbWVudChpdGVtKSB7CiAgICAgIGlmIChjb25maXJtKCfrjJPquIDsnYQg7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7CiAgICAgICAgY29tbWVudEFwaS5kZWxldGUodGhpcy5ib2FyZElkLCB0aGlzLmlkLCBpdGVtLmlkKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIGlmICh0aGlzLmFydGljbGUuaWQpIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBwYWdlLAogICAgICAgICAgaXRlbXNQZXJQYWdlLAogICAgICAgICAgc2l6ZQogICAgICAgIH0gPSB0aGlzLm9wdGlvbnM7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICAgIC4uLnRoaXMucGFyYW0sCiAgICAgICAgICAuLi57CiAgICAgICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgICAgIHNpemU6IHNpemUgPyBzaXplIDogaXRlbXNQZXJQYWdlCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb21tZW50QXBpLmxpc3QodGhpcy5hcnRpY2xlLmJvYXJkSWQsIHRoaXMuaWQsIHBhcmFtcykudGhlbihkYXRhID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgdGhpcy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgICAgdGhpcy5jb21tZW50cyA9IGRhdGEuY29udGVudDsKICAgICAgICB9KTsKICAgICAgICBjb21tZW50QXBpLnRvdGFsKHRoaXMuYXJ0aWNsZS5ib2FyZElkLCB0aGlzLmFydGljbGUuaWQpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvL+qwr+yImCDslYjrp57slYTshJwg7IiY7KCV7ZWoCiAgICAgICAgICB0aGlzLmNvbW1lbnRzQ250ID0gZGF0YTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyQkc3RvcmUkZ2V0dGVycyQsIF90aGlzJCRzdG9yZSRnZXR0ZXJzOwogICAgY29uc29sZS5sb2codGhpcy5pZCk7CiAgICBpZiAodGhpcy5pZCkgewogICAgICB0aGlzLnBlcm1pc3Npb24gPSBhd2FpdCBib2FyZEFwaS5maW5kQXNzaWduZWRQZXJtaXNzaW9uSWQodGhpcy5ib2FyZElkLCB7CiAgICAgICAgYXJ0aWNsZUlkOiB0aGlzLmlkCiAgICAgIH0pOwogICAgICBhcnRpY2xlQXBpLmZpbmRCeUlkKHRoaXMuYm9hcmRJZCwgdGhpcy5pZCkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgICB0aGlzLmFydGljbGUgPSBkYXRhOwogICAgICAgIHRoaXMuY29tbWVudC5hcnRpY2xlSWQgPSB0aGlzLmFydGljbGUuaWQ7CiAgICAgICAgdGhpcy5jb21tZW50LmJvYXJkSWQgPSB0aGlzLmFydGljbGUuYm9hcmRJZDsKICAgICAgICB0aGlzLnNlYXJjaCgpOwoKICAgICAgICAvLyB0aGlzLmFydGljbGUuY3VzdG9tRGF0ZSA9IHRoaXMuYXJ0aWNsZS5jcmVhdGVkQXQuc3Vic3RyKDAsMTApOwoKICAgICAgICB0aGlzLnBlcmlvZCA9IFt0aGlzLmFydGljbGUuc3RhcnREdCwgdGhpcy5hcnRpY2xlLmVuZER0XS5maWx0ZXIoZCA9PiBkICE9PSBudWxsKS5tYXAoZCA9PiBtb21lbnQoZCkuZm9ybWF0KCJZWVlZ64WEIE1N7JuUIERE7J28IikpLmpvaW4oIiB+ICIpOwogICAgICB9KTsKICAgIH0KICAgIC8vIHRoaXMuY29tbWVudC53cml0ZXIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzPy5bJ3VzZXIvbmFtZSddID8/ICcnOwogICAgLy8gdGhpcy5jb21tZW50LndyaXRlciA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcm5hbWU7CiAgICB0aGlzLmNvbW1lbnQud3JpdGVyID0gKF90aGlzJCRzdG9yZSRnZXR0ZXJzJCA9IChfdGhpcyQkc3RvcmUkZ2V0dGVycyA9IHRoaXMuJHN0b3JlLmdldHRlcnMpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRnZXR0ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkZ2V0dGVyc1sndXNlci9uYW1lJ10pICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJGdldHRlcnMkIDogJyc7CiAgICAvLyB0aGlzLmNvbW1lbnQuY3JlYXRlZEF0ID0gbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIikKCiAgICBib2FyZEFwaS5maW5kQnlJZCh0aGlzLmJvYXJkSWQpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgIHRoaXMuYm9hcmQgPSBkYXRhOwogICAgICBpZiAoIXRoaXMuYXJ0aWNsZUlkKSB0aGlzLnBlcm1pc3Npb24gPSBhd2FpdCBib2FyZEFwaS5maW5kQXNzaWduZWRQZXJtaXNzaW9uSWQodGhpcy5ib2FyZElkKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"mappings":";AA+PA;AACA;AACA;;AAIA;AACA;AACA;AAEA;AACA;AAKA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA,QACA;QACAC;QACAC;QACAC;MACA,GACA;QACAF;MACA,EACA;IACA;IACAG;MACAC;QACA;QACA;MACA;MACAC;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;IACAC;IACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAJ;IACA;IACAK;MACAC;MACAL;MACAT;IACA;IACAe;MAAAC;IAAA;MAAAA;IAAA;MAAAA;IAAA;IACAC;IACAC;MACAV;IACA;IACAW;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAvB;IACA;IACAwB;EACA;EACAC;IACAb;MACAc;QACA;MACA;MACAC;IACA;EAGA;EACAC;IACAC;MACAC;QACA;UACA;UACA;QACA;UACA;UACA;UACA;QACA;MACA;IACA;;IACAC;MAEAD,qEACAE;QACA;UAAAC;QAAA;QACA;QACAC;QACAA;QACAA;QACAC;MACA,GACAC;QACAC;QACAA;QACA,mCACAC,6BAEAA;MACA;IACA;IACAC;MAEA;QACAC;UACA;QACA;MACA;IACA;IACAC;MACAJ;MACA;MACA;MACA;QACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEAG;QAGA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAE;MACA;QAAAC;MAAA;IACA;IACAC;MACA;QACAd;UACAQ;UACA;QACA;MACA;IACA;IAEAO;MACA;QAAAF;MAAA;IACA;IACA;MACA,gDACA;;MAEA;MACAH;QACA;;QAGA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;QACA;QAEA;MACA;QACA;QACAF;MACA;IACA;IACA;MAEA,oDACA;;MAEA;MACA;;MAEA;QACAE;UAAA;UACA;UACA;UACA;UACA;QACA;MACA;IACA;IACAM;MAEAT;MACAA;;MAEA;MACA;MACA;QACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAG;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEAO;MACA;IAEA;IACAC;MACA;IACA;IACAC;MACA;QACAT;UACA;QACA;MACA;IACA;IACAU;MACA;QACA;UAAAC;UAAAC;UAAAC;QAAA;QACA;UACA;UAAA;YACAF;YACAE;UACA;QACA;QACAb;UACA;UACA;UACA;QAIA;QAEAA;UACA;UACA;QACA;MAGA;IACA;EAEA;EACA;IAAA;IAEAH;IAEA;MACA;QAAAiB;MAAA;MAEAxB;QAGA;QAEA;QACA;QAEA;;QAEA;;QAEA;MAEA;IACA;IACA;IACA;IACA;IACA;;IAEAyB;MACA;MAEA,qBACA;IACA;EAGA;AACA","names":["name","components","ViewerQuill","Comment","props","id","boardId","computed","breadcrumbs","text","to","exact","createdAt","get","set","data","staticattachmentPath","board","article","title","contents","writer","always","customDate","recomment","tempcomment","content","commentHeaders","value","comments","comment","totalItems","options","reCommentIndex","commentIndex","isVisibleCommentUpdateForm","isVisibleReplyEditor","period","apiEndPoint","endPoint","rules","required","iso8601","editComment","permission","watch","handler","deep","methods","reaction","articleApi","downloadFile","then","type","link","URL","catch","console","alert","onClickRemoveComment","commentApi","onUpdateReply","goList","path","deleteArticle","updateForm","onSubmitReply","updateCommentForm","cancelComment","deleteComment","search","page","itemsPerPage","size","articleId","boardApi"],"sourceRoot":"src/apps/article","sources":["ArticleView.vue"],"sourcesContent":["<template>\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\" v-if=\"id\">게시물 정보 상세 {{ article.title && `- ${article.title}` }} </div>\n\n        <div class=\"display-1\" v-else>게시물 생성</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn icon>\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n    </div>\n\n    <v-card class=\"my-2\">\n      <v-card-title>게시물 정보</v-card-title>\n      <v-card-text>\n        <div class=\"d-flex flex-column flex-sm-row\">\n          <div class=\"flex-grow-1 pt-2 pa-sm-2\">\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">제목</span>\n\n              <span class=\"mx-6\">\n                <v-chip\n                  color=\"primary\"\n                  small\n                  v-if=\"board.hasNotice && article.notice\"\n                >\n                  공지\n                </v-chip>\n\n                <template v-for=\"(c) in board.boardCategories\">\n                  <v-chip\n                    v-bind:key=\"c.categoryId\"\n                    small\n                    v-if=\"c.id === article.categoryId\"\n                  >\n                    {{c.categoryName}}\n                  </v-chip>\n                </template>\n\n                {{article.title}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\" v-if=\"article.notice && board.hasPeriod && !article.always\">\n              <span class=\"font-weight-bold\">공지기간</span>\n\n              <span class=\"mx-6\">{{period}}\n<!--                <template>-->\n<!--                  <v-chip-->\n<!--                    color=\"primary\"-->\n<!--                    small-->\n<!--                  >-->\n<!--                    상시-->\n<!--                  </v-chip>-->\n<!--                </template>-->\n<!--                <template v-else>-->\n<!--                  {{period}}-->\n<!--                </template>-->\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <span class=\"font-weight-bold\">작성자</span>\n              <span class=\"mx-6\">\n                {{article.writer}}\n              </span>\n\n              <span class=\"font-weight-bold\">작성일</span>\n              <span class=\"mx-6\">\n                {{  article.createdAt | formatDate('YYYY-MM-DD HH:mm:ss') }}\n              </span>\n\n              <span class=\"font-weight-bold\">조회수</span>\n              <span class=\"mx-6\">\n                {{article.hits ? article.hits : 1}}\n              </span>\n            </div>\n\n            <div class=\"d-flex\">\n              <viewer-quill :val=\"article.contents\" />\n<!--              <div v-html=\"article.contents.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\" v-else>-->\n<!--              </div>             -->\n            </div>\n\n            <div class=\"d-flex\" v-if=\"board.hasAttachment\">\n              <span class=\"font-weight-bold\">첨부 파일</span>\n              <span class=\"mx-6\">\n                <div v-if=\"article.articleAttachments\">\n                  <v-row v-for=\"f in article.articleAttachments\" v-bind:key=\"f.id\" class=\"ma-2\">\n                    <v-btn text  @click.prevent=\"downloadFile(f)\"><v-icon>{{ f.contentType.indexOf('image') === 0 ? 'mdi-image' : 'mdi-file' }}</v-icon>\n                    \n                      <v-tooltip bottom v-if=\"f.contentType.indexOf('image') === 0\">\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <span\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                          >\n                            {{ f.fileRealName }}\n                          </span>\n                        </template>\n\n                        <span>\n                          <v-img :src=\"`${staticattachmentPath}${f.fileContextPath}${f.thumbnail}`\" max-height=\"200\" max-width=\"200\"/>\n                        </span>\n                      </v-tooltip>\n                      <span v-else>{{ f.fileRealName }}</span>\n                    </v-btn>\n                <!--                <a :href=\"`${apiEndPoint}/board/${article.boardId}/article/${article.articleId}/file/${f.id}`\" @click.prevent=\"downloadFile(f)\">{{ f.fileRealName }}</a>-->\n              </v-row>\n                </div>\n              </span>\n            </div>\n          </div>\n        </div>\n\n      </v-card-text>\n    </v-card>\n\n    <div class=\"d-flex\">\n      <v-spacer></v-spacer>\n      <v-btn dark color=\"red\" @click=\"deleteArticle(article)\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-delete</v-icon>\n        삭제\n      </v-btn>\n      <v-btn color=\"primary\" dark @click=\"updateForm(article)\" style=\"margin-left: 1rem\" v-if=\"permission.updatable\">\n        <v-icon left>mdi mdi-pencil</v-icon>\n        수정\n      </v-btn>\n      <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록\n      </v-btn>\n    </div>\n\n    <div class=\"flex-grow-1\" v-if=\"board.hasComment\">\n\n      <v-card class=\"my-2\">\n        <v-card-title>댓글</v-card-title>\n        <v-card-text v-if=\"permission.commentable\">\n          <v-form ref=\"formComment\">\n            <v-row>\n\n              <v-col cols=\"4\">\n                <v-text-field v-model=\"comment.writer\" :rules=\"[rules.required]\" label=\"작성자\" dense />\n              </v-col>\n              <v-col cols=\"8\" v-if=\"permission.boardAdmin\">\n                <v-text-field v-model=\"createdAt\" :rules=\"[rules.iso8601]\" label=\"작성일 YYYY-MM-DD (수정시 입력)\" placeholder=\"YYYY-MM-DD\" dense maxlength=\"10\"/>\n              </v-col>\n\n              <v-col cols=\"12\" class=\"d-flex\">\n                <v-textarea v-model=\"comment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\"></v-textarea>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n       <div class=\"hd-box\" >댓글 <em>{{ commentsCnt }}</em></div> \n        <v-card-actions v-if=\"permission.commentable\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"vBtn\" color=\"indigo\" dark @click=\"saveComment\">\n            <v-icon left>mdi mdi-content-save</v-icon>\n            댓글 등록\n          </v-btn>\n        \n        </v-card-actions>\n                <Comment\n                  v-for=\"(comment, key) in comments\"\n                  :key=\"key\"\n                  :id=\"comment.id\"\n                  :createId=\"comment.createdBy\"\n                  :author=\"comment.writer\"\n                  :date=\"comment.createdAt\"\n                  :content=\"comment.contents\"\n                  :children=\"comment.childrenList\"\n                  :totalChildren=\"comment.totalChildren\"\n                  :isDeleted=\"comment.deleted\"\n                  :upcomment=\"comment\" \n                  :reCommentIndex=\"reCommentIndex\"\n                  :isVisibleCommentUpdateForm=\"isVisibleCommentUpdateForm\"\n                  :isVisibleReplyEditor=\"isVisibleReplyEditor\"\n                  @submit:reply=\"onSubmitReply\"\n                  @update:comment=\"onUpdateReply\"\n                  @remove=\"onClickRemoveComment\" \n                ></Comment>\n        <!-- <v-card-text>\n          <v-form ref=\"formListComment\">\n            <v-data-table\n              :headers=\"commentHeaders\"\n              :items=\"comments\"\n              :server-items-length=\"totalItems\"\n              :options.sync=\"options\"\n              item-key=\"commentId\"\n              class=\"elevation-1 commentList\"\n              disable-sort\n              hide-default-header\n            >\n              <template v-slot:top>\n                댓글 ({{totalItems}})\n              </template>\n              <template v-slot:item.writer=\"{value, item}\">\n                <div>{{ value }}</div>\n                {{ item.createdAt | formatDate('YYYY-MM-DD HH:mm') }}\n              </template>\n\n              <template v-slot:item.contents=\"{value,item}\">\n                <div v-if=\"item.id === editComment.id\" class=\"d-flex\">\n                  <v-textarea v-model=\"editComment.contents\" rows=\"3\" outlined auto-grow :rules=\"[rules.required]\" v-if=\"item.id === editComment.id\"></v-textarea>\n                  <div>\n                    <v-btn color=\"#1991eb\" dark @click=\"updateComment\" style=\"margin-left: 1rem\">\n                      <v-icon left>mdi mdi-content-save</v-icon>\n                      수정\n                    </v-btn> <br />\n                    <v-btn @click=\"cancelComment\" style=\"margin-left: 1rem; margin-top: 3px\">\n                      <v-icon left>mdi mdi-reload</v-icon>\n                      취소\n                    </v-btn>\n                  </div>\n                </div >\n                <div v-html=\"value.split('\\n').join('<br />')\" v-else></div>\n              </template>\n\n              <template v-slot:item.actions=\"{ item }\">\n                <v-icon\n                  small\n                  class=\"mr-2\"\n                  @click.stop=\"updateCommentForm(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-pencil\n                </v-icon>\n                <v-icon\n                  small\n                  @click.stop=\"deleteComment(item)\"\n                  v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n                >\n                  mdi-delete\n                </v-icon>\n\n              </template>\n\n            </v-data-table>\n          </v-form>\n        </v-card-text> -->\n\n      </v-card>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport articleApi from '@/api/ArticleApi'\nimport boardApi from '@/api/BoardApi'\nimport commentApi from '@/api/CommentApi'\n\n\n\n// import ViewerTiptap from \"@/views/component/ViewerTiptapComponent\";\nimport ViewerQuill from \"@/components/editor/ViewerQuillComponent\";\nimport _ from 'lodash'\n\nimport moment from \"moment\";\nimport Comment from '@/apps/component/Comment';\n\n\n\n\nexport default {\n  name: \"ArticleForm\",\n  components: {\n    ViewerQuill,\n    Comment\n  },\n  props: {\n      id: String,\n      boardId : String, \n     },\n  computed: {\n    breadcrumbs() {\n      return [\n        {\n          text: '게시물 관리',\n          to: `/boards/${this.board.id}/articles`,\n          exact: true\n        },\n        {\n          text: '게시물 조회'\n        }\n      ]\n    },\n    createdAt: {\n      get() {\n        // return this.coment.createdAt ? this.coment.createdAt.substr(0, 10) : this.$moment().format(\"YYYY-MM-DD\");\n        return this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"YYYY-MM-DD\") : this.$moment().format(\"YYYY-MM-DD\");\n      },\n      set(value) {\n        if(value.length === 10 && this.$moment(value, \"YYYY-MM-DD\").isValid()) {\n          this.comment.createdAt = value ? value + \"T\" + (this.comment.createdAt ? this.$moment(this.comment.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"HH:mm:ss\") : \"00:00:00\") : this.comment.createdAt;\n        }\n      }\n    }\n  },\n  data: () => ({\n    staticattachmentPath:process.env.VUE_APP_ATTACH_STATIC_PATH,\n    board:{},\n    article: {\n      title: null,\n      contents: null,\n      writer: null,\n      always: true,\n      customDate: null\n    },\n    // comment: {\n    //   content: null,\n    //   writer: null,\n    //   createdAt: null,\n    //   createdBy: null,\n    // },\n    recomment: {\n      contents:\"\"\n    },\n    tempcomment: {\n      content: null,\n      writer: null,\n      createdAt: null\n    },\n    commentHeaders: [{value: 'writer'}, {value : 'contents'}, {value: 'actions'}],\n    comments:[],\n    comment: {\n      contents:\"\"\n    },\n    totalItems:0,\n    options:{},\n    reCommentIndex : -1, \n    commentIndex: -1,\n    isVisibleCommentUpdateForm : false,\n    isVisibleReplyEditor:false,\n    period:null,\n    apiEndPoint:process.env.VUE_APP_BASE_API,\n    endPoint:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    rules: {\n      required: value => !!value || '필수 입력 항목입니다..',\n      iso8601: value => (!value || !!/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value)) || '날짜 형식이 아닙니다.'\n    },\n    editComment: {\n      contents:\"\"\n    },\n    permission: {}\n  }),\n  watch: {\n    options: {\n      handler () {\n        this.search();\n      },\n      deep: true,\n    }\n\n    \n  },\n  methods: {\n    reaction() {\n      articleApi.reaction(this.article.articleId, this.article.boardId).then(res => {\n        if(res.data) {\n          this.article.reactionCount = this.article.reactionCount +1;\n          this.article.readUserHasReaction = true;\n        } else {\n          this.article.reactionCount = this.article.reactionCount -1;\n          this.article.readUserHasReaction = false;\n          // alert(\"이미 처리되었습니다.\")\n        }\n      });\n    },\n    downloadFile(f) {\n\n      articleApi.downloadFile(this.article.boardId, this.article.id, f.id)\n      .then(response => {\n        const blob = new Blob([response.data], { type: response.headers['content-type'] })\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        link.download = f.fileRealName.slice(f.fileRealName.lastIndexOf('/') + 1);\n        link.click()\n        URL.revokeObjectURL(link.href)\n      })\n      .catch(error => {\n        console.log(error.response);\n        console.log(error.response.status);\n        if(error.response.status === 404)\n          alert(\"파일을 찾을 수 없습니다.\");\n        else\n          alert(error.status);\n      });\n    },\n    onClickRemoveComment(id){ \n        \n      if(confirm('지금 삭제하시면 \\n내용을 복구할 수 없습니다. 삭제하시겠습니까?')) {\n        commentApi.delete(this.article.boardId, this.comment.articleId ,id ).then(() => {\n          this.search();\n        });\n      }\n    },  \n    onUpdateReply(editreply, id, upcomment){   \n      console.log(upcomment);\n      this.recomment = upcomment;\n      let tempContents = editreply;\n      if(tempContents.length==0){\n        return alert('댓글을 한 글자 이상 입력해주세요.')\n      }\n\n      this.recomment.articleId = this.article.id;\n      this.recomment.boardId = this.article.boardId;\n      this.recomment.commentId = id; \n      this.recomment.contents = tempContents; \n      this.recomment.updateAt = null;\n  \n      commentApi.save(this.article.boardId, this.article.id, this.recomment).then(() => {\n\n\n        this.editreply = \"\";\n        this.recomment.contents = \"\";\n        this.reCommentIndex = -1;\n        this.recomment.upperCommentId = \"\";\n        this.isVisibleCommentUpdateForm = false;\n        this.search();\n      }) \n    },   \n    goList() {\n      this.$router.push({path: `/boards/${this.boardId}/articles`})\n    },\n    deleteArticle(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        articleApi.delete(item.boardId, item.id).then(() => {\n          alert(\"삭제되었습니다.\")\n          this.goList();\n        });\n      }\n    },\n    \n    updateForm(item) {\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}/form`});\n    },\n    async saveComment() {\n      if (!await this.$refs.formComment.validate())\n        return;\n\n      // this.comment.createdAt = this.comment.createdAt ? this.comment.createdAt + \"T00:00:00\" : null;\n      commentApi.save(this.boardId, this.id, this.comment).then(() => {\n        this.comment.contents = null;\n        \n        \n        // this.comment.createdAt = null;\n        this.$refs.formComment.resetValidation()\n        // this.$refs.formComment.reset();\n        // this.comment.writer = this.$store.state.user.username;\n        //this.contents = \"\";\n        this.reply = \"\";\n        this.isVisibleReplyEditor = false;\n        this.recomment.contents = \"\";\n       \n        this.recomment.upperCommentId = \"\";\n        this.o_contents = \"\"; \n\n        this.search();\n      }).catch(error => {\n        this.comment.createdAt = this.comment.createdAt.substr(0, 10);\n        alert(error);\n      });\n    },\n    async updateComment() {\n\n      if (!await this.$refs.formListComment.validate())\n        return;\n\n        // this.tempcomment = this.editComment\n        // console.log(this.tempcomment.contents);\n\n      if(confirm('댓글을 수정하시겠습니까?')) {\n        commentApi.save(this.boardId, this.id, this.editComment).then(() => {\n          this.$refs.formComment.resetValidation();\n          (this.comments.filter(c => c.commentId === this.editComment.commentId)?.[0] ?? {}).contents = this.editComment.contents;\n          this.editComment = {};\n          this.search();\n        });\n      }\n    },\n    onSubmitReply(reply, id){  \n\n      console.log(reply);//현재 댓글 쓴 결과.\n      console.log(id); //현재 상위 댓글 ID\n\n      this.recomment = this.comment; \n      let tempContents = reply;\n      if(tempContents.length==0){\n        return alert('댓글을 한 글자 이상 입력해주세요.')\n      } \n\n      this.recomment.articleId = this.article.id;\n      this.recomment.boardId = this.article.boardId;\n      this.recomment.upperCommentId = id;\n      this.recomment.commentId = null;\n      this.recomment.createdAt = null; \n      //console.log(\" this.tempContents ---- \")\n      //console.log( tempContents)\n      //console.log(this.recomment.contents)\n      //console.log(\" this.recomment ---- \")\n      //console.log(this.recomment)\n      this.comment.contents = \"\";\n      this.recomment.contents = tempContents; \n      //console.log(\" this.recomment ---- \")\n      //console.log(this.recomment)\n\n      commentApi.save(this.article.boardId, this.id, this.recomment).then(() => {\n        this.contents = \"\";\n        this.reply = \"\";\n        this.isVisibleReplyEditor = false;\n        this.recomment.contents = \"\";\n        this.reCommentIndex = -1;\n        this.recomment.upperCommentId = \"\";\n        this.comment.contents = \"\";\n        this.o_contents = \"\"; \n        this.search();\n      }) \n    },\n\n    updateCommentForm(item) {\n      this.editComment = _.cloneDeep(item);\n     \n    },\n    cancelComment() {\n      this.editComment = {};\n    },\n    deleteComment(item) {\n      if(confirm('댓글을 삭제하시겠습니까?')) {\n        commentApi.delete(this.boardId, this.id, item.id).then(() => {\n          this.search();\n        });\n      }\n    },\n    search() {\n      if(this.article.id) {\n        const {page, itemsPerPage, size} = this.options;\n        let params = {\n          ...this.param, ...{\n            page: page,\n            size: size ? size : itemsPerPage\n          }\n        };\n        commentApi.list(this.article.boardId, this.id, params).then(data => {\n          // console.log(data);\n          this.totalItems = data.totalElements;\n          this.comments = data.content;\n\n       \n\n        });\n\n        commentApi.total(this.article.boardId, this.article.id).then(data => {\n          //갯수 안맞아서 수정함\n          this.commentsCnt = data;\n        });\n\n\n      }\n    }\n\n  },\n  async created() {\n\n    console.log(this.id);\n\n    if(this.id) {\n      this.permission = await boardApi.findAssignedPermissionId(this.boardId, {articleId: this.id})\n\n      articleApi.findById(this.boardId, this.id).then(async data => {\n\n\n        this.article = data;\n\n        this.comment.articleId = this.article.id;\n        this.comment.boardId = this.article.boardId;\n\n        this.search();\n\n        // this.article.customDate = this.article.createdAt.substr(0,10);\n\n        this.period = [this.article.startDt, this.article.endDt].filter(d => d !== null).map(d => moment(d).format(\"YYYY년 MM월 DD일\")).join(\" ~ \");\n\n      });\n    }\n    // this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.writer = this.$store.state.user.username;\n    this.comment.writer = this.$store.getters?.['user/name'] ?? '';\n    // this.comment.createdAt = moment().format(\"YYYY-MM-DD HH:mm:ss\")\n\n    boardApi.findById(this.boardId).then(async data => {\n      this.board = data;\n\n      if (!this.articleId)\n        this.permission = await boardApi.findAssignedPermissionId(this.boardId)\n    });\n\n\n  }\n}\n</script>\n\n"]}]}