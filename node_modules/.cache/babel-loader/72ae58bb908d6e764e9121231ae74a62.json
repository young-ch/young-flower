{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/banner/Banner.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/banner/Banner.vue","mtime":1665531625449},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBCYW5uZXJBcGkgZnJvbSAnLi4vLi4vYXBpL0Jhbm5lckFwaSc7CmltcG9ydCBCYW5uZXJDYXRlZ29yeUFwaSBmcm9tICcuLi8uLi9hcGkvQmFubmVyQ2F0ZWdvcnlBcGknOwppbXBvcnQgZHJhZ2dhYmxlIGZyb20gInZ1ZWRyYWdnYWJsZSI7CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdiYW5uZXInLAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJyZWFkY3J1bWJzOiBbewogICAgICAgIHRleHQ6ICfrsLDrhIjqtIDrpqwnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBocmVmOiAnIycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfrsLDrhIjrqqnroZ0nCiAgICAgIH1dLAogICAgICBydWxlcywKICAgICAgYXR0YWNobWVudFBhdGg6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVRUQUNIX0ZJTEVfU0VSVkVSX1VSTCwKICAgICAgc2VhcmNoS2V5d29yZDogJycsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ+yInOyEnCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn7J2066+47KeAJywKICAgICAgICB2YWx1ZTogJ2Jhbm5lckltYWdlJywKICAgICAgICBhbGlnbjogJ2xlZnQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn67aE66WYJywKICAgICAgICB2YWx1ZTogJ2NhdGVnb3J5TmFtZScsCiAgICAgICAgYWxpZ246ICdsZWZ0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+ygnOuqqScsCiAgICAgICAgdmFsdWU6ICd0aXRsZScsCiAgICAgICAgYWxpZ246ICdsZWZ0JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+yCrOyaqeyXrOu2gCcsCiAgICAgICAgdmFsdWU6ICdhY3RpdmF0ZWQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn65Ox66Gd7J28JywKICAgICAgICB2YWx1ZTogJ2NyZWF0ZWRBdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfqtIDrpqwnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICBjYXRlZ29yeUhlYWRlcjogW3sKICAgICAgICB0ZXh0OiAn7Lm07YWM6rOg66asIOuqhScsCiAgICAgICAgdmFsdWU6ICdjYXRlZ29yeU5hbWUnLAogICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwKICAgICAgLy8ge3RleHQ6ICfsg53shLHsnbwnLCB2YWx1ZTogJ2NyZWF0ZWRBdCcsIHNvcnRhYmxlOiBmYWxzZX0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAn7IKs7Jqp7Jes67aAJywKICAgICAgICB2YWx1ZTogJ2lzQWN0aXZhdGVkJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+q0gOumrCcsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0sCiAgICAgIG9wdGlvbnM6IHt9LAogICAgICBzaW5nbGVTZWxlY3Q6IHRydWUsCiAgICAgIHNlbGVjdGVkOiBbXSwKICAgICAgZGF0YXNldHM6IFtdLAogICAgICB0b3RhbEl0ZW1zOiBudWxsLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBiYW5uZXJDYXRlZ29yeTogewogICAgICAgIGNhdGVnb3J5TmFtZTogbnVsbAogICAgICB9LAogICAgICBiYW5uZXJDYXRlZ29yaWVzOiBbXSwKICAgICAgY2hlY2tDYXRlZ29yeUlkOiAtMSwKICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgb3B0aW9uczogewogICAgICBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UGFyYW1zJywgdGhpcy5vcHRpb25zKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIHNlbGVjdGVkQ2F0ZWdvcnk6IHsKICAgICAgaGFuZGxlcihudikgewogICAgICAgIHZhciBfbnYkMCRpZCwgX252JDsKICAgICAgICAvLyBjb25zb2xlLmxvZyhudikKICAgICAgICB0aGlzLm9wdGlvbnMuY2F0ZWdvcnlJZCA9IChfbnYkMCRpZCA9IG52ID09PSBudWxsIHx8IG52ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX252JCA9IG52WzBdKSA9PT0gbnVsbCB8fCBfbnYkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbnYkLmlkKSAhPT0gbnVsbCAmJiBfbnYkMCRpZCAhPT0gdm9pZCAwID8gX252JDAkaWQgOiBudWxsOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UGFyYW1zJywgdGhpcy5vcHRpb25zKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaEtleXdvcmQ6IHsKICAgICAgaGFuZGxlcihudikgewogICAgICAgIHRoaXMub3B0aW9ucy5zZWFyY2hLZXl3b3JkID0gbnY7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRQYXJhbXMnLCB0aGlzLm9wdGlvbnMpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VPcmRlcihlKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBwYWdlLAogICAgICAgIGl0ZW1zUGVyUGFnZQogICAgICB9ID0gdGhpcy5vcHRpb25zOwogICAgICBjb25zdCBuZXdPcmRlciA9IHRoaXMuZGF0YXNldHMubGVuZ3RoIC0gKHBhZ2UgLSAxKSAqIGl0ZW1zUGVyUGFnZSAtIGUubW92ZWQubmV3SW5kZXg7CiAgICAgIEJhbm5lckFwaS5vcmRlcihlLm1vdmVkLmVsZW1lbnQuaWQsIG5ld09yZGVyKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLnNlYXJjaCh0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlbMF0uaWQpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VDaGVjaygpIHsKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgfHwgdGhpcy5zZWxlY3RlZENhdGVnb3J5Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIGFsZXJ0KCLrsLDrhIgg7Iic7ISc64qUIOy5tO2FjOqzoOumrCDshKDtg50g7ZuEIOuzgOqyvSDqsIDriqXtlanri4jri6QuIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyBvblJvd0NsaWNrKHZhbHVlKSB7CiAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOmAvYmFubmVyLyR7dmFsdWV9YH0pOwogICAgLy8gfSwKICAgIC8vIGdldFNlYXJjaERhdGUoc2VhcmNoRGF0ZSA9IFtdKSB7CiAgICAvLyAgIHRoaXMucGFyYW0uc2VhcmNoRGF0ZSA9IHNlYXJjaERhdGU7CiAgICAvLyB9LAogICAgLy8gc2VsZWN0SXRlbShtb250aHMpIHsKICAgIC8vICAgdGhpcy5hY3RpdmVJdGVtID0gbW9udGhzOwogICAgLy8gICAvLyAwIGlzIHRvdGFsCiAgICAvLyAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gIT09IDApIHsKICAgIC8vICAgICB0aGlzLnBhcmFtLnNlYXJjaERhdGUgPSBbdGhpcy4kbW9tZW50KCkuc3VidHJhY3QobW9udGhzLCAibW9udGhzIikuZm9ybWF0KCdZWVlZLU1NLUREJyksIHRoaXMuJG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXQogICAgLy8gICB9IGVsc2UKICAgIC8vICAgICB0aGlzLnBhcmFtLnNlYXJjaERhdGUgPSBbXTsKICAgIC8vIH0sCiAgICBzZWFyY2goY2F0ZWdvcnlJZCwgc3RvcmVkUGFyYW1zKSB7CiAgICAgIEJhbm5lckNhdGVnb3J5QXBpLmZpbmRBbGwoKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5iYW5uZXJDYXRlZ29yaWVzID0gcmVzdWx0OwogICAgICAgIEJhbm5lckFwaS5saXN0KGNhdGVnb3J5SWQpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFzZXRzID0gZGF0YS5tYXAoYiA9PiB7CiAgICAgICAgICAgIHZhciBfdGhpcyRiYW5uZXJDYXRlZ29yaWUsIF90aGlzJGJhbm5lckNhdGVnb3JpZTI7CiAgICAgICAgICAgIGIuY2F0ZWdvcnlOYW1lID0gKF90aGlzJGJhbm5lckNhdGVnb3JpZSA9IChfdGhpcyRiYW5uZXJDYXRlZ29yaWUyID0gdGhpcy5iYW5uZXJDYXRlZ29yaWVzLmZpbmQoZSA9PiBlLmlkID09PSBiLmNhdGVnb3J5SWQpKSA9PT0gbnVsbCB8fCBfdGhpcyRiYW5uZXJDYXRlZ29yaWUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRiYW5uZXJDYXRlZ29yaWUyLmNhdGVnb3J5TmFtZSkgIT09IG51bGwgJiYgX3RoaXMkYmFubmVyQ2F0ZWdvcmllICE9PSB2b2lkIDAgPyBfdGhpcyRiYW5uZXJDYXRlZ29yaWUgOiAnLSc7CiAgICAgICAgICAgIHJldHVybiBiOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoc3RvcmVkUGFyYW1zKSB7CiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHN0b3JlZFBhcmFtczsKICAgICAgICAgICAgdGhpcy5zZWFyY2hLZXl3b3JkID0gdGhpcy5vcHRpb25zLnNlYXJjaEtleXdvcmQgPyB0aGlzLm9wdGlvbnMuc2VhcmNoS2V5d29yZCA6IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUZvcm0oaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9iYW5uZXJzLyR7aXRlbS5pZH0vZm9ybWAKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQmFubmVyKGl0ZW0pIHsKICAgICAgaWYgKGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgewogICAgICAgIEJhbm5lckFwaS5kZWxldGUoaXRlbS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyog7Lm07YWM6rOg66asICovCiAgICBzYXZlQ2F0ZWdvcnkodmFsdWUsIGRpYWxvZykgewogICAgICBpZiAoIXRoaXMuJHJlZnMuYmFubmVyQ2F0ZWdvcnlDcmVhdGVGb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5iYW5uZXJDYXRlZ29yeS5jYXRlZ29yeU5hbWUgPSB2YWx1ZTsKICAgICAgQmFubmVyQ2F0ZWdvcnlBcGkuc2F2ZSh0aGlzLmJhbm5lckNhdGVnb3J5KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgQmFubmVyQ2F0ZWdvcnlBcGkuZmluZEFsbCgpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgIHRoaXMuYmFubmVyQ2F0ZWdvcmllcyA9IHJlc3VsdDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmJhbm5lckNhdGVnb3J5LmNhdGVnb3J5TmFtZSA9ICcnOwogICAgICAgIHRoaXMuJHJlZnMuYmFubmVyQ2F0ZWdvcnlDcmVhdGVGb3JtLnJlc2V0VmFsaWRhdGlvbigpOwogICAgICB9KTsKICAgICAgZGlhbG9nLnZhbHVlID0gZmFsc2U7CiAgICB9LAogICAgdXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnksIGRpYWxvZykgewogICAgICBpZiAoIXRoaXMuJHJlZnMuYmFubmVyQ2F0ZWdvcnlVcGRhdGVGb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgQmFubmVyQ2F0ZWdvcnlBcGkuc2F2ZShjYXRlZ29yeSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgfSk7CiAgICAgIGRpYWxvZy52YWx1ZSA9IGZhbHNlOwogICAgfSwKICAgIGRlbGV0ZUNhdGVnb3J5KGRhdGEpIHsKICAgICAgaWYgKGNvbmZpcm0oJ+yCreygnCDtlZjsi5zqsqDsirXri4jquYw/JykpIHsKICAgICAgICBCYW5uZXJDYXRlZ29yeUFwaS5kZWxldGUoZGF0YS5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCwgX3RoaXMkJHN0b3JlJGdldHRlcnM7CiAgICBsZXQgc3RvcmVkUGFyYW1zID0gKF90aGlzJCRzdG9yZSRnZXR0ZXJzJCA9IChfdGhpcyQkc3RvcmUkZ2V0dGVycyA9IHRoaXMuJHN0b3JlLmdldHRlcnMpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRnZXR0ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkZ2V0dGVycy5wYXJhbXMpICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJGdldHRlcnMkIDoge307CgogICAgLy8gZmlyc3QgbG9hZAogICAgaWYgKCFzdG9yZWRQYXJhbXMubmFtZSB8fCBzdG9yZWRQYXJhbXMubmFtZSAhPT0gdGhpcy4kb3B0aW9ucy5uYW1lKSB7CiAgICAgIHRoaXMub3B0aW9ucyA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGl0ZW1zUGVyUGFnZTogMTAsCiAgICAgICAgY2F0ZWdvcnlJZDogbnVsbCwKICAgICAgICBuYW1lOiB0aGlzLiRvcHRpb25zLm5hbWUKICAgICAgfTsKICAgICAgc3RvcmVkUGFyYW1zID0gdGhpcy5vcHRpb25zOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBhcmFtcycsIHN0b3JlZFBhcmFtcyk7CiAgICB9IGVsc2UgewogICAgICBzdG9yZWRQYXJhbXMubmFtZSA9IHRoaXMuJG9wdGlvbnMubmFtZTsKICAgICAgdGhpcy5vcHRpb25zID0gc3RvcmVkUGFyYW1zOwogICAgfQogICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5vcHRpb25zLmNhdGVnb3J5SWQgPyBbewogICAgICBpZDogdGhpcy5vcHRpb25zLmNhdGVnb3J5SWQKICAgIH1dIDogW107CiAgICB0aGlzLnNlYXJjaCh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlJZCwgXy5jbG9uZURlZXAoc3RvcmVkUGFyYW1zKSk7CgogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudE1lbnUpCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5nZXR0ZXJzLm1lbnUpCiAgfQp9Ow=="},{"version":3,"mappings":";AAoRA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC,cACA;QACAC;QACAC;QACAC;MACA,GACA;QACAF;MACA,EACA;MACAG;MACAC;MACAC;MACAC,UACA;QAAAN;QAAAO;MAAA,GACA;QAAAP;QAAAQ;QAAAC;MAAA,GACA;QAAAT;QAAAQ;QAAAC;MAAA,GACA;QAAAT;QAAAQ;QAAAC;MAAA,GACA;QAAAT;QAAAQ;MAAA,GACA;QAAAR;QAAAQ;MAAA,GACA;QACAR;QACAQ;QACAD;MACA,EACA;MACAG,iBACA;QAAAV;QAAAQ;QAAAC;QAAAF;MAAA;MACA;MACA;QAAAP;QAAAQ;QAAAD;MAAA,GACA;QAAAP;QAAAQ;QAAAD;MAAA,EACA;MACAI;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAX;MACAY;QACA;MACA;MACAC;IACA;IACAH;MACAE;QAAA;QACA;QACA;QACA;MACA;IACA;IACAlB;MACAkB;QACA;QACA;MACA;IACA;EACA;EACAE;IACAC;MACA;QAAAC;QAAAC;MAAA;MACA;MAEAC;QACA;MACA;IACA;IACAC;MAEA;QACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MAEAC;QACA;QAEAJ;UACA;YAAA;YACAK;YACA;UACA;UAEA;YACA;YACA;UACA;QACA;MACA;IACA;IAEAC;MACA;QAAAC;MAAA;IACA;IAEAC;MACA;QACAR;UACA;QACA;MACA;IACA;IAEA;IACAS;MACA;QACA;MACA;MACA;MACAL;QACAA;UACA;QACA;QACA;QACA;MACA;MACAjB;IACA;IAEAuB;MACA;QACA;MACA;MACAN;QACA;MACA;MACAjB;IACA;IAEAwB;MACA;QACAP;UACA;QACA;MACA;IACA;EAEA;EACAQ;IAAA;IAEA;;IAEA;IACA;MACA;QACAd;QACAC;QACAc;QACA/C;MACA;MAEAgD;MACA;IAEA;MACAA;MACA;IACA;IAEA;MAAAC;IAAA;IACA;;IAEA;IACA;EACA;AAEA","names":["name","components","draggable","data","breadcrumbs","text","disabled","href","rules","attachmentPath","searchKeyword","headers","sortable","value","align","categoryHeader","options","singleSelect","selected","datasets","totalItems","dialog","bannerCategory","categoryName","bannerCategories","checkCategoryId","selectedCategory","watch","handler","deep","methods","changeOrder","page","itemsPerPage","BannerApi","changeCheck","alert","search","BannerCategoryApi","b","updateForm","path","deleteBanner","saveCategory","updateCategory","deleteCategory","created","categoryId","storedParams","id"],"sourceRoot":"src/apps/banner","sources":["Banner.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex flex-column flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\">배너관리</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" @click=\"$router.push({path: `/banners/form`})\" style=\"margin-right:1rem\">\n        <v-icon left>mdi mdi-playlist-plus</v-icon>\n        배너 추가\n      </v-btn>\n    </div>\n\n    <v-row>\n      <v-col md=\"3\">\n\n        <!-- category list -->\n        <v-card>\n          <v-card-title>카테고리</v-card-title>\n          <v-card-text>\n            <v-card-actions class=\"justify-end\">\n\n              <v-dialog\n                transition=\"dialog-top-transition\"\n                max-width=\"35rem\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    color=\"primary\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    class=\"bannerCategoryBtn\"\n                  ><v-icon left>mdi mdi-plus</v-icon>카테고리 추가</v-btn>\n                </template>\n\n                <template v-slot:default=\"dialog\">\n                  <v-card>\n                    <v-form ref=\"bannerCategoryCreateForm\">\n                    <v-toolbar\n                      color=\"black\"\n                      dark\n                    >배너 카테고리 등록</v-toolbar>\n                    <v-card-text>\n                      <v-text-field label=\"배너카테고리\" v-model=\"bannerCategory.categoryName\" :rules=\"[rules.common.required]\" maxlength=\"120\"/>\n                    </v-card-text>\n                    <v-card-actions class=\"justify-end\">\n                      <v-btn\n                        @click=\"saveCategory(bannerCategory.categoryName, dialog);\"\n                        color=\"indigo\"\n                      ><v-icon left>mdi mdi-content-save</v-icon>추가</v-btn>\n                    </v-card-actions>\n                    </v-form>\n                  </v-card>\n\n                </template>\n              </v-dialog>\n\n            </v-card-actions>\n\n            <v-data-table\n              id=\"categoryTable\"\n              item-key=\"id\"\n              single-select\n              :hide-default-footer=\"true\"\n              disable-pagination\n              :headers=\"categoryHeader\"\n              :items=\"bannerCategories\"\n              class=\"elevation-1\"\n              @click:row=\"(item, row) => {\n                row.select(!row.isSelected); search(row.isSelected ? null : item.id)\n              }\"\n              v-model=\"selectedCategory\"\n            >\n\n<!--              <template v-slot:item.createdAt=\"{ value }\">-->\n<!--                {{ value ? $moment(value).format('YYYY-MM-DD HH:mm:ss') : \"\" }}-->\n<!--              </template>-->\n              <template v-slot:item.isActivated=\"{ value }\">\n                {{ value ?'사용':'사용안함' }}\n              </template>\n              <template v-slot:item.actions=\"{ item }\">\n\n                <v-dialog\n                  transition=\"dialog-top-transition\"\n                  max-width=\"35rem\"\n                >\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                      icon\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                    >\n                      <v-icon small>mdi-pencil</v-icon>\n                    </v-btn>\n                  </template>\n                  <template v-slot:default=\"dialog\">\n                    <v-card>\n                      <v-form ref=\"bannerCategoryUpdateForm\">\n                      <v-toolbar>\n                        배너 카테고리 수정\n                      </v-toolbar>\n                      <v-card-text>\n\n                        {{ item.categoryName }}\n\n                        <v-text-field\n                          v-model=\"item.categoryName\"\n                          :rules=\"[rules.common.required]\"\n                          maxlength=\"120\"\n                        />\n\n                      </v-card-text>\n                      <v-card-actions class=\"justify-end\">\n\n                        <v-btn\n                          @click=\"updateCategory(item, dialog);\"\n                          color=\"indigo\"\n                        ><v-icon left>mdi mdi-content-save</v-icon>\n                          수정\n                        </v-btn>\n                      </v-card-actions>\n                      </v-form>\n                    </v-card>\n                  </template>\n                </v-dialog>\n                <v-btn\n                  icon\n                  @click.stop=\"deleteCategory(item)\"\n                >\n                  <v-icon small>mdi-delete</v-icon>\n                </v-btn>\n              </template>\n            </v-data-table>\n\n          </v-card-text>\n        </v-card>\n      </v-col>\n\n      <v-col md=\"9\">\n        <!--banner List-->\n        <v-card>\n          <v-card-title>\n            <v-card-title>배너 목록</v-card-title>\n\n            <v-spacer></v-spacer>\n\n            <v-text-field label=\"검색\"\n                          append-icon=\"mdi-magnify\"\n                          v-model=\"searchKeyword\"\n                          class=\"flex-grow-1 mr-md-2\"\n                          hide-details\n                          dense\n                          clearable\n                          single-line/>\n\n    <!--      <v-text-field-->\n    <!--        v-model=\"search\"-->\n    <!--        append-icon=\"mdi-magnify\"-->\n    <!--        label=\"Search\"-->\n    <!--        single-line-->\n    <!--        hide-details-->\n    <!--      ></v-text-field>-->\n\n          </v-card-title>\n          <v-card-text>\n                <v-data-table\n                v-model=\"selected\"\n                :headers=\"headers\"\n                :items=\"datasets\"\n                item-key=\"id\"\n                :single-select=\"singleSelect\"\n                :search=\"searchKeyword\"\n                :footer-props=\"{showFirstLastPage: true, 'items-per-page-options' : [5,10,20,50,100,-1], showCurrentPage:true}\"\n                :options.sync=\"options\"\n                class=\"elevation-1\"\n              >\n                <template v-slot:body=\"props\">\n                  <draggable\n                    :list=\"datasets\"\n                    :disabled=\"!selectedCategory || selectedCategory.length === 0\"\n                    @change=\"changeOrder\"\n                    tag=\"tbody\"\n                  >\n                    <tr\n                      v-for=\"(item, index) in props.items\"\n                      :key=\"index\"\n                    >\n                      <td>\n                        <v-icon\n                          small\n                          class=\"page__grab-icon\"\n                          @click=\"changeCheck\"\n                          v-if=\"!selectedCategory || selectedCategory.length === 0\"\n                        >\n                          mdi-arrow-all mdi-light mdi-inactive\n                        </v-icon>\n                        <v-icon\n                          small\n                          class=\"page__grab-icon\"\n                          @click=\"changeCheck\"\n\n\n                          v-else\n                        >\n                          mdi-arrow-all\n                        </v-icon>\n                      </td>\n\n                      <td style=\"text-align: left !important;\">\n                        <v-img :src=\"`${attachmentPath}/${item.bannerImage}`\" max-width=\"120\" max-height=\"80\"/>\n<!--                        <img :src=\"`${staticPath}/banner/${item.bannerImage}`\" style=\"max-width: 243px; max-height: 100px;\"/>-->\n                      </td>\n                      <td>\n                        {{ item.categoryName }}\n                      </td>\n                      <td>\n                        <router-link :to=\"`/banners/${item.id}/form`\">{{ item.title }}</router-link>\n                      </td>\n                      <td>\n                        {{ item.activated ? '노출' : '미노출' }}\n                      </td>\n                      <td>\n                        {{ item.createdAt | formatDate('YYYY-MM-DD HH:mm:ss') }}\n                      </td>\n                      <td>\n                        <v-icon\n                          small\n                          class=\"mr-2\"\n                          @click.stop=\"updateForm(item)\"\n                        >\n                          mdi-pencil\n                        </v-icon>\n                        <v-icon\n                          small\n                          @click.stop=\"deleteBanner(item)\"\n                        >\n                          mdi-delete\n                        </v-icon>\n                      </td>\n                    </tr>\n\n                  </draggable>\n                </template>\n                <template #footer.page-text=\"props\">\n\n                  <v-combobox\n                    v-model=\"options.page\"\n                    :label=\"`${props.pageStart}-${props.pageStop} of ${props.itemsLength} rows / ${options.page} page / total ${Math.ceil(props.itemsLength / options.itemsPerPage)} pages`\"\n                    :items=\"Array.from({length: Math.ceil(props.itemsLength / options.itemsPerPage)}, (v, k) => k+1 )\"\n                    :return-object=\"false\"\n                    hide-details dense\n                    type=\"number\"\n                    suffix=\"page\"\n                  >\n                  </v-combobox>\n                </template>\n              </v-data-table>\n          </v-card-text>\n        </v-card>\n\n        <div class=\"d-flex align-center py-3\">\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" @click=\"$router.push({path: `/banners/form`})\" style=\"margin-right:1rem\">\n            <v-icon left>mdi mdi-playlist-plus</v-icon>\n            배너 추가\n          </v-btn>\n        </div>\n\n      </v-col>\n    </v-row>\n\n  </div>\n</template>\n\n<script>\nimport BannerApi from '../../api/BannerApi';\nimport BannerCategoryApi from '../../api/BannerCategoryApi';\nimport draggable from \"vuedraggable\"\nimport rules from \"@/utils/rules\";\nimport _ from \"lodash\";\n\nexport default {\n  name: 'banner',\n  components:{\n    draggable\n    },\n  data(){\n    return{\n      breadcrumbs: [\n        {\n          text: '배너관리',\n          disabled: false,\n          href: '#'\n        },\n        {\n          text: '배너목록'\n        }\n      ],\n      rules,\n      attachmentPath:process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n      searchKeyword:'',\n      headers: [\n        {text: '순서', sortable: false},\n        {text: '이미지', value: 'bannerImage', align: 'left'},\n        {text: '분류', value: 'categoryName', align: 'left'},\n        {text: '제목', value: 'title', align: 'left'},\n        {text: '사용여부', value: 'activated'},\n        {text: '등록일', value: 'createdAt'},\n        {\n          text: '관리',\n          value: 'actions',\n          sortable: false\n        }\n      ],\n      categoryHeader: [\n        {text: '카테고리 명', value: 'categoryName', align: 'left', sortable: true},\n        // {text: '생성일', value: 'createdAt', sortable: false},\n        {text: '사용여부', value: 'isActivated', sortable: true},\n        {text: '관리', value: 'actions', sortable: false}\n      ],\n      options: {},\n      singleSelect: true,\n      selected: [],\n      datasets:[],\n      totalItems:null,\n      dialog : false,\n      bannerCategory:{\n        categoryName:null,\n      },\n      bannerCategories:[],\n      checkCategoryId:-1,\n      selectedCategory:[]\n    }\n  },\n  watch: {\n    options: {\n      handler() {\n        this.$store.commit('setParams', this.options);\n      },\n      deep: true,\n    },\n    selectedCategory: {\n      handler(nv) {\n        // console.log(nv)\n        this.options.categoryId = nv?.[0]?.id??null;\n        this.$store.commit('setParams', this.options);\n      }\n    },\n    searchKeyword: {\n      handler(nv) {\n        this.options.searchKeyword = nv;\n        this.$store.commit('setParams', this.options);\n      }\n    }\n  },\n  methods: {\n    changeOrder(e) {\n      const {  page, itemsPerPage } = this.options;\n      const newOrder = this.datasets.length - (page-1)*itemsPerPage - e.moved.newIndex;\n\n      BannerApi.order(e.moved.element.id, newOrder).then(() => {\n        this.search(this.selectedCategory[0].id);\n      });\n    },\n    changeCheck() {\n\n      if(!this.selectedCategory || this.selectedCategory.length === 0) {\n        alert(\"배너 순서는 카테고리 선택 후 변경 가능합니다.\")\n      }\n    },\n    // onRowClick(value) {\n    //   this.$router.push({path:`/banner/${value}`});\n    // },\n    // getSearchDate(searchDate = []) {\n    //   this.param.searchDate = searchDate;\n    // },\n    // selectItem(months) {\n    //   this.activeItem = months;\n    //   // 0 is total\n    //   if (this.activeItem !== 0) {\n    //     this.param.searchDate = [this.$moment().subtract(months, \"months\").format('YYYY-MM-DD'), this.$moment().format('YYYY-MM-DD')]\n    //   } else\n    //     this.param.searchDate = [];\n    // },\n    search(categoryId, storedParams) {\n\n      BannerCategoryApi.findAll().then(result => {\n          this.bannerCategories = result;\n\n          BannerApi.list(categoryId).then(data => {\n            this.datasets = data.map(b => {\n              b.categoryName = this.bannerCategories.find(e => e.id === b.categoryId)?.categoryName??'-'\n              return b;\n            });\n\n            if(storedParams) {\n              this.options = storedParams\n              this.searchKeyword = this.options.searchKeyword ? this.options.searchKeyword : null\n            }\n          });\n      });\n    },\n\n    updateForm(item) {\n      this.$router.push({path:`/banners/${item.id}/form`});\n    },\n\n    deleteBanner(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        BannerApi.delete(item.id).then(() => {\n          this.search();\n        });\n      }\n    },\n\n    /* 카테고리 */\n    saveCategory(value, dialog) {\n      if (!this.$refs.bannerCategoryCreateForm.validate()) {\n        return\n      }\n      this.bannerCategory.categoryName = value;\n      BannerCategoryApi.save(this.bannerCategory).then((result) => {\n        BannerCategoryApi.findAll().then(result => {\n          this.bannerCategories = result;\n        });\n        this.bannerCategory.categoryName = '';\n        this.$refs.bannerCategoryCreateForm.resetValidation()\n      });\n      dialog.value = false\n    },\n\n    updateCategory(category, dialog) {\n      if (!this.$refs.bannerCategoryUpdateForm.validate()) {\n        return\n      }\n      BannerCategoryApi.save(category).then(() => {\n        this.search();\n      });\n      dialog.value = false\n    },\n\n    deleteCategory(data) {\n      if (confirm('삭제 하시겠습니까?')) {\n        BannerCategoryApi.delete(data.id).then(() => {\n          this.search();\n        });\n      }\n    }\n\n  },\n  created() {\n\n    let storedParams = this.$store.getters?.params??{};\n\n    // first load\n    if(!storedParams.name || storedParams.name !== this.$options.name) {\n      this.options = {\n        page:1,\n        itemsPerPage:10,\n        categoryId:null,\n        name:this.$options.name\n      }\n\n      storedParams = this.options\n      this.$store.commit('setParams', storedParams)\n\n    } else {\n      storedParams.name = this.$options.name\n      this.options = storedParams\n    }\n\n    this.selectedCategory = this.options.categoryId ? [{id:this.options.categoryId}] : []\n    this.search(this.options.categoryId, _.cloneDeep(storedParams))\n\n    // console.log(this.$store.state.currentMenu)\n    // console.log(this.$store.getters.menu)\n  }\n\n};\n</script>\n\n<style scoped>\n.dbTable td{\n  text-align: center;\n  font-size: 30px;\n}\n.bannerButton{\n  margin :auto;\n  margin-left: 0.3rem !important;\n  margin-right: 0.3rem !important;\n}\n.bannerCategoryBtn{\n  margin-left:-1.5rem;\n}\n</style>\n"]}]}