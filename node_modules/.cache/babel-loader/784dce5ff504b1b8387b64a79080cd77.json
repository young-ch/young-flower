{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/components/navigation/NavMenuItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/components/navigation/NavMenuItem.vue","mtime":1666671223620},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IE5hdmlnYXRpb24gTWVudSBJdGVtIENvbXBvbmVudAp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnwKfCBOYXZpZ2F0aW9uIGl0ZW1zIGZvciB0aGUgTmF2TWVudSBjb21wb25lbnQKfAoqLwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG1lbnVJdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0sCiAgICBzdWJncm91cDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNtYWxsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXV0aG9yaXplZDogZmFsc2UsCiAgICAgIG9wZW5lZDogZmFsc2UKICAgIH07CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSR1cywgX3RoaXMkJHN0b3JlJHN0YXRlJHVzMiwgX3RoaXMkJHN0b3JlJHN0YXRlJHVzMywgX3RoaXMkJHN0b3JlJHN0YXRlJHVzNCwgX3RoaXMkbWVudUl0ZW0kaXRlbXMkLCBfdGhpcyRtZW51SXRlbSwgX3RoaXMkbWVudUl0ZW0kaXRlbXM7CiAgICBjb25zdCByb2xlcyA9IChfdGhpcyQkc3RvcmUkc3RhdGUkdXMgPSAoX3RoaXMkJHN0b3JlJHN0YXRlJHVzMiA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRzdGF0ZSR1czIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZSRzdGF0ZSR1czIucm9sZXMpICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRzdGF0ZSR1cyAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJHN0YXRlJHVzIDogW107CiAgICBjb25zdCBwZXJtaXR0ZWRNZW51cyA9IChfdGhpcyQkc3RvcmUkc3RhdGUkdXMzID0gKF90aGlzJCRzdG9yZSRzdGF0ZSR1czQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUkc3RhdGUkdXM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkc3RhdGUkdXM0Lm1lbnVzKSAhPT0gbnVsbCAmJiBfdGhpcyQkc3RvcmUkc3RhdGUkdXMzICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkc3RhdGUkdXMzIDogW107CiAgICAvLyBjb25zb2xlLmxvZyhwZXJtaXR0ZWRNZW51cykKCiAgICAvLyAxIGlzIGFkbWluaXN0cmF0b3Igcm9sZQogICAgLy9jb25zb2xlLmxvZyh0aGlzLm1lbnVJdGVtKTsKCiAgICB0aGlzLmF1dGhvcml6ZWQgPSByb2xlcy5pbmNsdWRlcygiMSIpOwogICAgaWYgKCF0aGlzLmF1dGhvcml6ZWQpIHRoaXMuYXV0aG9yaXplZCA9IHBlcm1pdHRlZE1lbnVzLmluY2x1ZGVzKHRoaXMubWVudUl0ZW0uaWQpICYmIHRoaXMubWVudUl0ZW0uYWN0aXZhdGVkOwoKICAgIC8vIHRoaXMub3BlbmVkID0gbWVudUl0ZW0udmFsdWUgPyBtZW51SXRlbS52YWx1ZSA6IG1lbnVJdGVtLnJlZ2V4ID8gbWVudUl0ZW0ucmVnZXgudGVzdCgkcm91dGUucGF0aCkgOiBmYWxzZQoKICAgIC8vIHRoaXMub3BlbmVkID0gdGhpcy5tZW51SXRlbS5yZWdleCA/IG5ldyB0aGlzLm1lbnVJdGVtLnJlZ2V4LnRlc3QodGhpcy4kcm91dGUucGF0aCkgOiBmYWxzZQoKICAgIC8v7ZW064u5IOyGjOyKpOqwgCDrsJjrs7XtlZjrqbTshJwg66mU64m066W8IOyDneyEse2VtOyjvOuKlCDqsoMg6rCZ7J2MLj8KICAgIHRoaXMub3BlbmVkID0gKF90aGlzJG1lbnVJdGVtJGl0ZW1zJCA9IChfdGhpcyRtZW51SXRlbSA9IHRoaXMubWVudUl0ZW0pID09PSBudWxsIHx8IF90aGlzJG1lbnVJdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkbWVudUl0ZW0kaXRlbXMgPSBfdGhpcyRtZW51SXRlbS5pdGVtcykgPT09IG51bGwgfHwgX3RoaXMkbWVudUl0ZW0kaXRlbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1lbnVJdGVtJGl0ZW1zLm1hcChtID0+IG0ubGluayA9PT0gdGhpcy4kcm91dGUucGF0aCkuaW5jbHVkZXModHJ1ZSkpICE9PSBudWxsICYmIF90aGlzJG1lbnVJdGVtJGl0ZW1zJCAhPT0gdm9pZCAwID8gX3RoaXMkbWVudUl0ZW0kaXRlbXMkIDogZmFsc2U7CgogICAgLy8gY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tdXNlckluZm8tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlcikKICAgIC8vIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLW1lbnVJdGVtLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWVudUl0ZW0pCiAgfQp9Ow=="},{"version":3,"mappings":"AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;EACA;EACAG;IACA;MACAC;MACAC;IACA;EACA;EACA;IAAA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;IAGA,sBACA;;IAEA;;IAEA;;IAEA;IACA;;IAIA;IACA;IACA;IACA;EACA;AACA","names":["props","menuItem","type","default","subgroup","small","data","authorized","opened"],"sourceRoot":"src/components/navigation","sources":["NavMenuItem.vue"],"sourcesContent":["<template>\n  <div>\n    <v-list-item\n      v-if=\"authorized && (!menuItem.items || menuItem.items.length === 0)\"\n      :input-value=\"menuItem.value\"\n      :to=\"menuItem.link\"\n      :exact=\"menuItem.exact ? menuItem.regex ? !menuItem.regex.test($route.path) : true : false\"\n      :disabled=\"menuItem.disabled\"\n      active-class=\"primary--text\"\n      link\n\n    >\n      <v-list-item-icon>\n        <v-icon :small=\"small\" :class=\"{ 'grey--text': menuItem.disabled }\" :right=\"!menuItem.depth || menuItem.depth !== 1\">\n          {{ menuItem.icon || 'mdi-circle-medium' }}\n        </v-icon>\n      </v-list-item-icon>\n      <v-list-item-content>\n        <v-list-item-title>\n          {{ menuItem.key ? $t(menuItem.key) : menuItem.text }}\n        </v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n\n    <v-list-group\n      v-else-if=\"authorized\"\n      :value=\"opened\"\n      :disabled=\"menuItem.disabled\"\n      :sub-group=\"subgroup\"\n      :to=\"menuItem.link\"\n      link\n    >\n\n      <template v-slot:activator>\n        <v-list-item-icon v-if=\"!subgroup\">\n          <v-icon :small=\"small\">{{ menuItem.icon || 'mdi-circle-medium' }}</v-icon>\n        </v-list-item-icon>\n        <span v-else>\n        </span>\n        <v-list-item-content>\n          <v-list-item-title>\n            {{ menuItem.key ? $t(menuItem.key) : menuItem.text }}\n          </v-list-item-title>\n        </v-list-item-content>\n      </template>\n\n      <slot></slot>\n\n    </v-list-group>\n  </div>\n</template>\n\n<script>\n/*\n|---------------------------------------------------------------------\n| Navigation Menu Item Component\n|---------------------------------------------------------------------\n|\n| Navigation items for the NavMenu component\n|\n*/\nexport default {\n  props: {\n    menuItem: {\n      type: Object,\n      default: () => {}\n    },\n    subgroup: {\n      type: Boolean,\n      default: false\n    },\n    small: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      authorized: false,\n      opened: false\n    }\n  },\n  async created() {\n    const roles = this.$store.state.user?.roles??[]\n    const permittedMenus = this.$store.state.user?.menus??[]\n    // console.log(permittedMenus)\n\n    // 1 is administrator role\n    //console.log(this.menuItem);\n\n    this.authorized = roles.includes(\"1\");\n\n\n    if(!this.authorized)\n      this.authorized = permittedMenus.includes(this.menuItem.id) && this.menuItem.activated\n      \n    // this.opened = menuItem.value ? menuItem.value : menuItem.regex ? menuItem.regex.test($route.path) : false\n\n    // this.opened = this.menuItem.regex ? new this.menuItem.regex.test(this.$route.path) : false\n\n    //해당 소스가 반복하면서 메뉴를 생성해주는 것 같음.?\n    this.opened = this.menuItem?.items?.map(m => m.link === this.$route.path).includes(true)??false\n     \n\n  \n    // console.log(\"--------------userInfo------------------\")\n    // console.log(this.$store.state.user)\n    // console.log(\"--------------menuItem------------------\")\n    // console.log(this.menuItem)\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.v-list-group--sub-group {\n  ::v-deep .v-list-group__header {\n    padding-left: 20px !important\n  }\n}\n</style>\n"]}]}