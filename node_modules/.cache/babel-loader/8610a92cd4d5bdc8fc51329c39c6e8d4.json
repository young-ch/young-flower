{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js??ref--14-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/utils/auth.js","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/utils/auth.js","mtime":1665970733039},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js","mtime":1665531750890}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dCBmcm9tICdqd3QtZGVjb2RlJzsKaW1wb3J0IEF1dGhBcGkgZnJvbSAnQC9hcGkvQXV0aCc7CmNvbnN0IFRva2VuS2V5ID0gJ1gtVG9rZW4nOwpleHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXkpOwp9CmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoVG9rZW4oKSB7CiAgaWYgKGp3dChnZXRSZWZyZXNoKCkpICE9PSBmYWxzZSkgewogICAgcmV0dXJuIEF1dGhBcGkucmVmcmVzaChnZXRSZWZyZXNoKCkpLnRoZW4oZGF0YSA9PiB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgIHNldFRva2VuKGRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgc2V0UmVmcmVzaChkYXRhLnJlZnJlc2hfdG9rZW4pOwogICAgICByZXR1cm4gZGF0YS5hY2Nlc3NfdG9rZW47CiAgICB9KTsKICB9CiAgcmV0dXJuICcnOwp9CmV4cG9ydCBmdW5jdGlvbiBzZXRUb2tlbih0b2tlbikgewogIHJldHVybiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRva2VuS2V5LCB0b2tlbik7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRva2VuKCkgewogIHJldHVybiBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFRva2VuS2V5KTsKfQpleHBvcnQgZnVuY3Rpb24gc2V0UmVmcmVzaCh0b2tlbikgewogIHJldHVybiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgdG9rZW4pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRSZWZyZXNoKCkgewogIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyZWZyZXNoX3Rva2VuJyk7Cn0="},{"version":3,"names":["jwt","AuthApi","TokenKey","getToken","sessionStorage","getItem","refreshToken","getRefresh","refresh","then","data","setToken","access_token","setRefresh","refresh_token","token","setItem","removeToken","removeItem"],"sources":["/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/utils/auth.js"],"sourcesContent":["import jwt from 'jwt-decode'\nimport AuthApi from '@/api/Auth'\n\nconst TokenKey = 'X-Token'\n\n\nexport function getToken() {\n    return sessionStorage.getItem(TokenKey);\n}\n\nexport function refreshToken() {\n\n    if (jwt(getRefresh()) !== false) {\n        return AuthApi.refresh(getRefresh())\n            .then(data => {\n                // console.log(data)\n                setToken(data.access_token);\n                setRefresh(data.refresh_token);\n                return data.access_token;\n            })\n    }\n    return '';\n}\n\nexport function setToken(token) {\n    return sessionStorage.setItem(TokenKey, token);\n}\n\nexport function removeToken() {\n    return sessionStorage.removeItem(TokenKey);\n}\n\nexport function setRefresh(token) {\n    return sessionStorage.setItem('refresh_token', token);\n}\n\nexport function getRefresh() {\n    return sessionStorage.getItem('refresh_token');\n}\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,YAAY;AAC5B,OAAOC,OAAO,MAAM,YAAY;AAEhC,MAAMC,QAAQ,GAAG,SAAS;AAG1B,OAAO,SAASC,QAAQ,GAAG;EACvB,OAAOC,cAAc,CAACC,OAAO,CAACH,QAAQ,CAAC;AAC3C;AAEA,OAAO,SAASI,YAAY,GAAG;EAE3B,IAAIN,GAAG,CAACO,UAAU,EAAE,CAAC,KAAK,KAAK,EAAE;IAC7B,OAAON,OAAO,CAACO,OAAO,CAACD,UAAU,EAAE,CAAC,CAC/BE,IAAI,CAACC,IAAI,IAAI;MACV;MACAC,QAAQ,CAACD,IAAI,CAACE,YAAY,CAAC;MAC3BC,UAAU,CAACH,IAAI,CAACI,aAAa,CAAC;MAC9B,OAAOJ,IAAI,CAACE,YAAY;IAC5B,CAAC,CAAC;EACV;EACA,OAAO,EAAE;AACb;AAEA,OAAO,SAASD,QAAQ,CAACI,KAAK,EAAE;EAC5B,OAAOX,cAAc,CAACY,OAAO,CAACd,QAAQ,EAAEa,KAAK,CAAC;AAClD;AAEA,OAAO,SAASE,WAAW,GAAG;EAC1B,OAAOb,cAAc,CAACc,UAAU,CAAChB,QAAQ,CAAC;AAC9C;AAEA,OAAO,SAASW,UAAU,CAACE,KAAK,EAAE;EAC9B,OAAOX,cAAc,CAACY,OAAO,CAAC,eAAe,EAAED,KAAK,CAAC;AACzD;AAEA,OAAO,SAASR,UAAU,GAAG;EACzB,OAAOH,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;AAClD"}]}