{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/List.vue","mtime":1665531625449},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBEYXRlUmFnZUNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvZGF0ZS9EYXRlUmFnZUNvbXBvbmVudCI7CmltcG9ydCBib2FyZEFwaSBmcm9tICdAL2FwaS9Cb2FyZEFwaSc7CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknOwppbXBvcnQgcm9sZUFwaSBmcm9tICdAL2FwaS9Sb2xlQXBpJzsKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcnRpY2xlIiwKICBwcm9wczogWydib2FyZCcsICdwZXJtaXNzaW9uJ10sCiAgY29tcG9uZW50czogewogICAgJ2RhdGUtcmFuZ2UtY29tcG9uZW50JzogRGF0ZVJhZ2VDb21wb25lbnQKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBtb250aExpc3RzOiBbewogICAgICB2YWx1ZTogMSwKICAgICAgdGV4dDogJzHqsJzsm5QnCiAgICB9LCB7CiAgICAgIHZhbHVlOiAzLAogICAgICB0ZXh0OiAnM+qwnOyblCcKICAgIH0sIHsKICAgICAgdmFsdWU6IDYsCiAgICAgIHRleHQ6ICc26rCc7JuUJwogICAgfSwgewogICAgICB2YWx1ZTogMTIsCiAgICAgIHRleHQ6ICcx64WEJwogICAgfSwgewogICAgICB2YWx1ZTogMCwKICAgICAgdGV4dDogJ+yghOyytCcKICAgIH1dLAogICAgYWN0aXZlSXRlbTogbnVsbCwKICAgIHNlbGVjdGVkOiBbXSwKICAgIGhlYWRlcnM6IFt7CiAgICAgIHRleHQ6ICfrsojtmLgnLAogICAgICB2YWx1ZTogJ25vJwogICAgfSwgewogICAgICB0ZXh0OiAn7KCc66qpJywKICAgICAgdmFsdWU6ICd0aXRsZScKICAgIH0sIHsKICAgICAgdGV4dDogJ+y5tO2FjOqzoOumrCcsCiAgICAgIHZhbHVlOiAnYm9hcmRDYXRlZ29yeS5jYXRlZ29yeU5hbWUnCiAgICB9LCB7CiAgICAgIHRleHQ6ICfsnpHshLHsnpAnLAogICAgICB2YWx1ZTogJ3dyaXRlcicsCiAgICAgIGFsaWduOiAnY2VudGVyJwogICAgfSwgewogICAgICB0ZXh0OiAn7J6R7ISx7J28JywKICAgICAgdmFsdWU6ICdjcmVhdGVkQXQnCiAgICB9LCB7CiAgICAgIHRleHQ6ICfsobDtmozsiJgnLAogICAgICB2YWx1ZTogJ2hpdHMnCiAgICB9LAogICAgLy8ge3RleHQ6ICfsgq3soJzsl6zrtoAnLCB2YWx1ZTogJ2RlbGV0ZWQnfSwKICAgIHsKICAgICAgdGV4dDogJ+q0gOumrCcsCiAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgc29ydGFibGU6IGZhbHNlCiAgICB9XSwKICAgIHBhcmFtOiB7CiAgICAgIHNlYXJjaERhdGU6IFtdLAogICAgICBzZWFyY2hTdGF0ZTogbnVsbCwKICAgICAgc2VhcmNoUm9sZTogbnVsbCwKICAgICAgc2VhcmNoS2V5d29yZDogbnVsbCwKICAgICAgcGFnZTogMQogICAgfSwKICAgIGFydGljbGVzOiBbXSwKICAgIHRvdGFsSXRlbXM6IDAsCiAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgIHNlbGVjdEFydGljbGU6IHt9LAogICAgd2FpdGluZ1NlYXJjaDogZmFsc2UsCiAgICBvcHRpb25zOiB7fSwKICAgIGNhdGVnb3J5SXRlbXM6IFtdCiAgfSksCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgJ3BhcmFtLnNlYXJjaEtleXdvcmQnOiB7CiAgICAgIGhhbmRsZXIobnYsIG92KSB7CiAgICAgICAgaWYgKG52ID09PSBvdikgcmV0dXJuOwogICAgICAgIHRoaXMub3B0aW9ucy5wYWdlID0gMTsKICAgICAgICB0aGlzLnBhcmFtLnNlYXJjaEtleXdvcmQgPSBudjsKICAgICAgICBpZiAoIXRoaXMud2FpdGluZ1NlYXJjaCkgewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgICAgIHRoaXMud2FpdGluZ1NlYXJjaCA9IGZhbHNlOwogICAgICAgICAgfSwgNTAwKTsgLy8gMC41IHNlYyBkZWxheQogICAgICAgIH0KCiAgICAgICAgdGhpcy53YWl0aW5nU2VhcmNoID0gdHJ1ZTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICdwYXJhbS5zZWFyY2hEYXRlJzogewogICAgICBoYW5kbGVyKG52LCBvdikgewogICAgICAgIGlmIChudiA9PT0gb3YpIHJldHVybjsKICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblJvd0NsaWNrKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGAvYm9hcmRzLyR7aXRlbS5ib2FyZElkfS9hcnRpY2xlcy8ke2l0ZW0uaWR9YAogICAgICB9KTsKICAgIH0sCiAgICBnZXRTZWFyY2hEYXRlKHNlYXJjaERhdGUgPSBbXSkgewogICAgICB0aGlzLnBhcmFtLnNlYXJjaERhdGUgPSBzZWFyY2hEYXRlOwogICAgICAvLyB3YXRjaCBwYXJhbS5zZWFyY2hEYXRlCiAgICB9LAoKICAgIHNlbGVjdEl0ZW0obW9udGhzKSB7CiAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IG1vbnRoczsKICAgICAgLy8gMCBpcyB0b3RhbAogICAgICBpZiAodGhpcy5hY3RpdmVJdGVtICE9PSAwKSB7CiAgICAgICAgdGhpcy5wYXJhbS5zZWFyY2hEYXRlID0gW3RoaXMuJG1vbWVudCgpLnN1YnRyYWN0KG1vbnRocywgIm1vbnRocyIpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCB0aGlzLiRtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKV07CiAgICAgIH0gZWxzZSB0aGlzLnBhcmFtLnNlYXJjaERhdGUgPSBbXTsKICAgICAgLy8gdGhpcy5zZWFyY2goKTsgLy8gd2F0Y2ggcGFyYW0uc2VhcmNoRGF0ZQogICAgfSwKCiAgICBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyRwYXJhbSRzZWFyY2hEYXQsIF90aGlzJHBhcmFtJHNlYXJjaERhdDI7CiAgICAgIGNvbnN0IHsKICAgICAgICBwYWdlLAogICAgICAgIGl0ZW1zUGVyUGFnZSwKICAgICAgICBzaXplCiAgICAgIH0gPSB0aGlzLm9wdGlvbnM7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgLi4udGhpcy5wYXJhbSwKICAgICAgICAuLi57CiAgICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgICAgc2l6ZTogaXRlbXNQZXJQYWdlID8gaXRlbXNQZXJQYWdlIDogc2l6ZSwKICAgICAgICAgIGl0ZW1zUGVyUGFnZQogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKChfdGhpcyRwYXJhbSRzZWFyY2hEYXQgPSAoX3RoaXMkcGFyYW0kc2VhcmNoRGF0MiA9IHRoaXMucGFyYW0uc2VhcmNoRGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkcGFyYW0kc2VhcmNoRGF0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcGFyYW0kc2VhcmNoRGF0Mi5sZW5ndGgpICE9PSBudWxsICYmIF90aGlzJHBhcmFtJHNlYXJjaERhdCAhPT0gdm9pZCAwID8gX3RoaXMkcGFyYW0kc2VhcmNoRGF0IDogMCA+IDApIHsKICAgICAgICB2YXIgX3RoaXMkcGFyYW0kc2VhcmNoRGF0MywgX3RoaXMkcGFyYW0kc2VhcmNoRGF0NDsKICAgICAgICBwYXJhbXMuc2VhcmNoU3RhcnREYXRlID0gdGhpcy5wYXJhbS5zZWFyY2hEYXRlWzBdOwogICAgICAgIHBhcmFtcy5zZWFyY2hFbmREYXRlID0gKF90aGlzJHBhcmFtJHNlYXJjaERhdDMgPSAoX3RoaXMkcGFyYW0kc2VhcmNoRGF0NCA9IHRoaXMucGFyYW0uc2VhcmNoRGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkcGFyYW0kc2VhcmNoRGF0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcGFyYW0kc2VhcmNoRGF0NFsxXSkgIT09IG51bGwgJiYgX3RoaXMkcGFyYW0kc2VhcmNoRGF0MyAhPT0gdm9pZCAwID8gX3RoaXMkcGFyYW0kc2VhcmNoRGF0MyA6IHRoaXMucGFyYW0uc2VhcmNoRGF0ZVswXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMuc2VhcmNoU3RhcnREYXRlID0gbnVsbDsKICAgICAgICBwYXJhbXMuc2VhcmNoRW5kRGF0ZSA9IG51bGw7CiAgICAgIH0KCiAgICAgIC8vIGFydGljbGVBcGkuZmluZEFsbCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHBhcmFtcykudGhlbihkYXRhID0+IHsKICAgICAgYXJ0aWNsZUFwaS5maW5kQWxsKHRoaXMuYm9hcmQuaWQsIHBhcmFtcykudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsRWxlbWVudHM7CiAgICAgICAgdGhpcy5hcnRpY2xlcyA9IGRhdGEuY29udGVudC5tYXAoKGEsIGkpID0+IHsKICAgICAgICAgIHZhciBfcGFyYW1zJHBhZ2U7CiAgICAgICAgICBhLmlkeCA9IHRoaXMudG90YWxJdGVtcyAtIGkgLSAoKChfcGFyYW1zJHBhZ2UgPSBwYXJhbXMucGFnZSkgIT09IG51bGwgJiYgX3BhcmFtcyRwYWdlICE9PSB2b2lkIDAgPyBfcGFyYW1zJHBhZ2UgOiAxKSAtIDEpICogcGFyYW1zLnNpemU7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBhcmFtcycsIHBhcmFtcyk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dDYWxlbmRhcigpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2stY2hhbmdlLWxpc3QnLCAnVFlQRV9TQ0hFRFVMRScpOwogICAgfSwKICAgIHVwZGF0ZUZvcm0oaXRlbSkgewogICAgICB0aGlzLnNlbGVjdEFydGljbGUgPSBfLmNsb25lRGVlcChpdGVtKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGAvYm9hcmRzLyR7aXRlbS5ib2FyZElkfS9hcnRpY2xlcy8ke2l0ZW0uaWR9L2Zvcm1gCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUFydGljbGUoaXRlbSkgewogICAgICBpZiAoY29uZmlybSgn7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7CiAgICAgICAgYXJ0aWNsZUFwaS5kZWxldGUoaXRlbS5ib2FyZElkLCBpdGVtLmlkKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpcyRib2FyZCRib2FyZENhdGUsIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCwgX3RoaXMkJHN0b3JlJGdldHRlcnM7CiAgICAvLyByb2xlQXBpLmdldFJvbGVzKHRydWUpLnRoZW4oZGF0YSA9PiB7CiAgICAvLyAgIHRoaXMuYm9hcmRSb2xlSXRlbXMgPSBkYXRhOwogICAgLy8gfSk7CiAgICAvLyBib2FyZEFwaS5maW5kQnlJZCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oZGF0YSA9PiB7CgogICAgLy8gYm9hcmRBcGkuZmluZEJ5SWQodGhpcy5ib2FyZElkKS50aGVuKGRhdGEgPT4gewogICAgLy8gICB0aGlzLmJvYXJkID0gZGF0YTsKICAgIC8vICAgdGhpcy5jYXRlZ29yeUl0ZW1zID0gKGRhdGEuYm9hcmRDYXRlZ29yaWVzPz9bXSkubGVuZ3RoID4gMCA/IGRhdGEuYm9hcmRDYXRlZ29yaWVzIDogbnVsbDsKICAgIC8vIH0pOwoKICAgIHRoaXMuY2F0ZWdvcnlJdGVtcyA9ICgoX3RoaXMkYm9hcmQkYm9hcmRDYXRlID0gdGhpcy5ib2FyZC5ib2FyZENhdGVnb3JpZXMpICE9PSBudWxsICYmIF90aGlzJGJvYXJkJGJvYXJkQ2F0ZSAhPT0gdm9pZCAwID8gX3RoaXMkYm9hcmQkYm9hcmRDYXRlIDogW10pLmxlbmd0aCA+IDAgPyB0aGlzLmJvYXJkLmJvYXJkQ2F0ZWdvcmllcyA6IG51bGw7CiAgICBjb25zdCBzdG9yZWRQYXJhbXMgPSAoX3RoaXMkJHN0b3JlJGdldHRlcnMkID0gKF90aGlzJCRzdG9yZSRnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVycykgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlJGdldHRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZSRnZXR0ZXJzLnBhcmFtcykgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJGdldHRlcnMkICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkZ2V0dGVycyQgOiB7fTsKICAgIGlmIChzdG9yZWRQYXJhbXMubmFtZSAhPT0gdGhpcy4kb3B0aW9ucy5uYW1lKSB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBhcmFtcycsIE9iamVjdC5hc3NpZ24odGhpcy5wYXJhbSwgewogICAgICBuYW1lOiB0aGlzLiRvcHRpb25zLm5hbWUKICAgIH0pKTtlbHNlIHsKICAgICAgdGhpcy5vcHRpb25zID0gc3RvcmVkUGFyYW1zOwogICAgICB0aGlzLnBhcmFtID0gc3RvcmVkUGFyYW1zOwogICAgfQoKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRNZW51KQogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5tZW51KQogICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5wYXJhbXMpCiAgfQp9Ow=="},{"version":3,"mappings":";AAmGA;AAEA;AACA;AACA;AACA;AAEA;EACAA;EACAC;EACAC;IACA;EACA;EACAC;IACAC,aACA;MAAAC;MAAAC;IAAA;MAAAD;MAAAC;IAAA;MAAAD;MAAAC;IAAA,GACA;MAAAD;MAAAC;IAAA;MAAAD;MAAAC;IAAA;IACAC;IACAC;IACAC,UACA;MAAAH;MAAAD;IAAA,GACA;MAAAC;MAAAD;IAAA,GACA;MAAAC;MAAAD;IAAA,GACA;MAAAC;MAAAD;MAAAK;IAAA,GACA;MAAAJ;MAAAD;IAAA,GACA;MAAAC;MAAAD;IAAA;IACA;IACA;MACAC;MACAD;MACAK;MACAC;IACA,EACA;IACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAF;MACAG;QACA;MACA;MACAC;IACA;IACA;MACAD;QACA,eACA;QACA;QACA;QACA;UACAE;YACA;YACA;UACA;QACA;;QACA;MACA;MACAD;IACA;IACA;MACAD;QACA,eACA;QACA;MACA;MACAC;IACA;EACA;EACAE;IACAC;MACA;QAAAC;MAAA;IACA;IACAC;MACA;MACA;IACA;;IACAC;MACA;MACA;MACA;QACA;MACA,OACA;MACA;IACA;;IACAC;MAAA;MACA;QAAAjB;QAAAkB;QAAAC;MAAA;MAEA;QAAA;QAAA;UACAnB;UACAmB;UACAD;QACA;MAAA;MAEA;QAAA;QACAE;QACAA;MACA;QACAA;QACAA;MACA;;MAEA;MACAC;QACA;QACA;UAAA;UACAC;UACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QAAAV;MAAA;IACA;IACAW;MACA;QACAJ;UACA;QACA;MACA;IACA;EACA;EACAK;IAAA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IAEA;IACA,8CACA;MAAA3C;IAAA,SACA;MACA;MACA;IACA;;IAEA;IACA;IACA;EAEA;AACA","names":["name","props","components","data","monthLists","value","text","activeItem","selected","headers","align","sortable","param","searchDate","searchState","searchRole","searchKeyword","page","articles","totalItems","dialogVisible","selectArticle","waitingSearch","options","categoryItems","watch","handler","deep","setTimeout","methods","onRowClick","path","getSearchDate","selectItem","search","itemsPerPage","size","params","articleApi","a","showCalendar","updateForm","deleteArticle","created"],"sourceRoot":"src/apps/article","sources":["List.vue"],"sourcesContent":["<template>\n  <v-card>\n\n    <v-row dense class=\"pa-2 align-center\">\n      <v-col class=\"d-flex text-right align-center\">\n        <date-range-component v-on:event=\"getSearchDate\" label=\"작성일\"\n                              :value=\"param.searchDate\"></date-range-component>\n\n        <v-select v-model=\"param.searchCategory\"\n                  :items=\"categoryItems\"\n                  item-text=\"categoryName\"\n                  item-value=\"id\" label=\"카테고리\"\n                  dense\n                  clearable\n                  flat\n                  outlined\n                  v-on:change=\"search\"\n                  v-if=\"categoryItems\"\n        />\n      </v-col>\n      <v-col class=\"d-flex text-right align-center\">\n        <v-text-field label=\"제목 / 내용 / 작성자 검색\"\n                      v-model=\"param.searchKeyword\" v-on:keyup.enter=\"search\"\n                      dense clearable flat outlined/>\n      </v-col>\n    </v-row>\n    <v-data-table\n      v-model=\"selected\"\n      :headers=\"headers\n                  .filter(h => h.value !== 'boardCategory.categoryName' || (this.board.boardCategories && this.board.boardCategories.length > 0))\n                  .filter(h => h.value !== 'actions' || (permission.boardAdmin && h.value === 'actions'))\"\n      :items=\"articles\"\n      :server-items-length=\"totalItems\"\n      :options.sync=\"options\"\n      item-key=\"articleId\"\n      class=\"elevation-1\"\n      :footer-props=\"{showFirstLastPage: true, 'items-per-page-options' : [5,10,20,50,100], showCurrentPage:true}\"\n      disable-sort\n    >\n      <template v-slot:item.no=\"{item}\">\n        <template v-if=\"item.notice\">\n          공지\n        </template>\n        <template v-else>\n          {{item.idx}}\n        </template>\n      </template>\n\n      <template v-slot:item.title=\"{value, item}\">\n        <a @click.stop=\"onRowClick(item)\">\n          {{ value }}\n        </a>\n      </template>\n\n      <template v-slot:item.createdAt=\"{ value }\">\n        {{ value | formatDate('YYYY-MM-DD HH:mm:ss') }}\n      </template>\n\n      <template v-slot:item.deleted=\"{ value }\">\n        {{ value ? '삭제됨' : '' }}\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click.stop=\"updateForm(item)\"\n          v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n        >\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          @click.stop=\"deleteArticle(item)\"\n          v-if=\"permission.boardAdmin || $route.params.id === item.createdBy\"\n        >\n          mdi-delete\n        </v-icon>\n\n      </template>\n      <template #footer.page-text=\"props\">\n\n        <v-combobox\n          v-model=\"options.page\"\n          :label=\"`${props.pageStart}-${props.pageStop} of ${props.itemsLength} rows / ${options.page} page / total ${Math.ceil(props.itemsLength / options.itemsPerPage)} pages`\"\n          :items=\"Array.from({length: Math.ceil(props.itemsLength / options.itemsPerPage)}, (v, k) => k+1 )\"\n          :return-object=\"false\"\n          hide-details dense\n          type=\"number\"\n          suffix=\"page\"\n        >\n        </v-combobox>\n      </template>\n    </v-data-table>\n\n  </v-card>\n</template>\n\n<script>\nimport DateRageComponent from \"@/components/date/DateRageComponent\";\n\nimport boardApi from '@/api/BoardApi'\nimport articleApi from '@/api/ArticleApi'\nimport roleApi from '@/api/RoleApi'\nimport _ from \"lodash\";\n\nexport default {\n  name: \"Article\",\n  props: ['board', 'permission'],\n  components: {\n    'date-range-component': DateRageComponent\n  },\n  data: () => ({\n    monthLists: [\n      {value: 1, text: '1개월'}, {value: 3, text: '3개월'}, {value: 6, text: '6개월'},\n      {value: 12, text: '1년'}, {value: 0, text: '전체'}],\n    activeItem: null,\n    selected: [],\n    headers: [\n      {text: '번호', value: 'no'},\n      {text: '제목', value: 'title'},\n      {text: '카테고리', value: 'boardCategory.categoryName'},\n      {text: '작성자', value: 'writer', align: 'center'},\n      {text: '작성일', value: 'createdAt'},\n      {text: '조회수', value: 'hits'},\n      // {text: '삭제여부', value: 'deleted'},\n      {\n        text: '관리',\n        value: 'actions',\n        align: 'center',\n        sortable: false\n      }\n    ],\n    param: {\n      searchDate:[],\n      searchState: null,\n      searchRole: null,\n      searchKeyword: null,\n      page: 1\n    },\n    articles: [],\n    totalItems: 0,\n    dialogVisible: false,\n    selectArticle: {},\n    waitingSearch: false,\n    options:{},\n    categoryItems: [],\n  }),\n  watch: {\n    options: {\n      handler () {\n        this.search();\n      },\n      deep: true,\n    },\n    'param.searchKeyword': {\n      handler(nv, ov) {\n        if(nv === ov)\n          return;\n        this.options.page = 1;\n        this.param.searchKeyword = nv;\n        if (!this.waitingSearch) {\n          setTimeout(() => {\n            this.search();\n            this.waitingSearch = false;\n          }, 500); // 0.5 sec delay\n        }\n        this.waitingSearch = true;\n      },\n      deep: true\n    },\n    'param.searchDate': {\n      handler(nv, ov) {\n        if(nv === ov)\n          return;\n        this.search();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    onRowClick(item) {\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}`});\n    },\n    getSearchDate(searchDate = []) {\n      this.param.searchDate = searchDate;\n      // watch param.searchDate\n    },\n    selectItem(months) {\n      this.activeItem = months;\n      // 0 is total\n      if (this.activeItem !== 0) {\n        this.param.searchDate = [this.$moment().subtract(months, \"months\").format('YYYY-MM-DD'), this.$moment().format('YYYY-MM-DD')]\n      } else\n        this.param.searchDate = [];\n      // this.search(); // watch param.searchDate\n    },\n    search() {\n      const {  page, itemsPerPage, size } = this.options;\n\n      let params = {...this.param, ...{\n            page: page,\n            size: itemsPerPage ? itemsPerPage : size,\n            itemsPerPage\n      }};\n\n      if (this.param.searchDate?.length??0 > 0) {\n        params.searchStartDate = this.param.searchDate[0];\n        params.searchEndDate = this.param.searchDate?.[1]??this.param.searchDate[0];\n      } else {\n        params.searchStartDate = null;\n        params.searchEndDate = null;\n      }\n\n      // articleApi.findAll(this.$route.params.id, params).then(data => {\n      articleApi.findAll(this.board.id, params).then(data => {\n        this.totalItems = data.totalElements;\n        this.articles = data.content.map((a, i) => {\n          a.idx = this.totalItems - i - (( (params.page??1) - 1) * params.size);\n          return a;\n        });\n        this.$store.commit('setParams', params);\n      });\n    },\n    showCalendar() {\n      this.$emit('callback-change-list', 'TYPE_SCHEDULE');\n    },\n    updateForm(item) {\n      this.selectArticle = _.cloneDeep(item);\n      this.$router.push({path:`/boards/${item.boardId}/articles/${item.id}/form`});\n    },\n    deleteArticle(item) {\n      if(confirm('삭제하시겠습니까?')) {\n        articleApi.delete(item.boardId, item.id).then(() => {\n          this.search();\n        });\n      }\n    }\n  },\n  created: function () {\n    // roleApi.getRoles(true).then(data => {\n    //   this.boardRoleItems = data;\n    // });\n    // boardApi.findById(this.$route.params.id).then(data => {\n\n    // boardApi.findById(this.boardId).then(data => {\n    //   this.board = data;\n    //   this.categoryItems = (data.boardCategories??[]).length > 0 ? data.boardCategories : null;\n    // });\n\n    this.categoryItems = (this.board.boardCategories??[]).length > 0 ? this.board.boardCategories : null;\n\n    const storedParams = this.$store.getters?.params??{};\n    if(storedParams.name !== this.$options.name)\n      this.$store.commit('setParams', Object.assign(this.param, {name:this.$options.name}))\n    else {\n      this.options = storedParams\n      this.param = storedParams\n    }\n\n    // console.log(this.$store.state.currentMenu)\n    // console.log(this.$store.getters.menu)\n    // console.log(this.$store.getters.params)\n\n  }\n}\n</script>\n"]}]}