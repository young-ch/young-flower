{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js??ref--14-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/HistoriesApi.js","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/HistoriesApi.js","mtime":1666759131597},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js","mtime":1665531750890}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgY2xhcmlmeSB9IGZyb20gIkAvdXRpbHMvY2xlYXIiOwpjbGFzcyBIaXN0b3JpZXNBcGkgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5lbmRwb2ludCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfR1dfVVJMOwogIH0KICBsaXN0KGJvYXJkSWQsIGFydGljbGVJZCwgYm9keSkgewogICAgLy9jb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGNsYXJpZnkoYm9keSkpOwoKICAgIHJldHVybiBheGlvcy5nZXQoYCR7dGhpcy5lbmRwb2ludH0vaGlzdG9yaWVzYCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5kYXRhKTsKICB9CiAgc2F2ZShhcnRpY2xlLCBmaWxlcykgewogICAgLy8gcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmQvc2F2ZWAsIGJvYXJkKS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKTsKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICBmb3IgKGNvbnN0IGYgb2YgZmlsZXMpIHsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIGYpOwogICAgfQogICAgZm9ybURhdGEuYXBwZW5kKCdhcnRpY2xlJywgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGFydGljbGUpXSwgewogICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0pKTsKICAgIHJldHVybiBheGlvcy5wb3N0KGAke3RoaXMuZW5kcG9pbnR9L2JvYXJkcy8ke2FydGljbGUuYm9hcmRJZH0vYXJ0aWNsZXNgLCBmb3JtRGF0YSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICB9CiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBkZWxldGUoYm9hcmRJZCwgaWQpIHsKICAgIHJldHVybiBheGlvcy5kZWxldGUoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH1gLCB7fSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5kYXRhKTsKICB9CiAgdXBsb2FkSW1hZ2UoYm9hcmRJZCwgZikgewogICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGYpOwoKICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlc29sdmUoeyB1cmw6ICdodHRwczovL3VpY2RuLnRvYXN0LmNvbS90b2FzdHVpL2ltZy90dWktZWRpdG9yLWJpLXdoaXRlLnBuZycsIGRlc2M6bnVsbH0pKTsKICAgIHJldHVybiBheGlvcy5wb3N0KGAke3RoaXMuZW5kcG9pbnR9L2JvYXJkcy8ke2JvYXJkSWR9L2FydGljbGUvaW1hZ2UvdXBsb2FkYCwgZm9ybURhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgfQogICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5kYXRhKTsKICB9CiAgZG93bmxvYWRGaWxlKGJvYXJkSWQsIGlkLCBmaWxlSWQpIHsKICAgIGNvbnNvbGUubG9nKGJvYXJkSWQpOwogICAgY29uc29sZS5sb2coaWQpOwogICAgY29uc29sZS5sb2coZmlsZUlkKTsKICAgIC8vIHJldHVybiBheGlvcy5nZXQoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmQvJHtib2FyZElkfS9hcnRpY2xlLyR7aWR9L2ZpbGUvJHtmaWxlSWR9YCwge30pLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlKTsKICAgIHJldHVybiBheGlvcy5nZXQoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH0vZmlsZXMvJHtmaWxlSWR9L2Rvd25sb2FkYCwgewogICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicKICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpOwogIH0KICBjaGFuZ2VPcmRlcihoaXN0b3J5SWQsIGJvZHkpIHsKICAgIC8vIHJldHVybiBheGlvcy5kZWxldGUoYCR7dGhpcy5lbmRwb2ludH0vcmVnaW9uLyR7aWR4fT91c2VySWQ9JHt1c2VySWR9YCwge30pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKTsKCiAgICByZXR1cm4gYXhpb3MucHV0KGAke3RoaXMuZW5kcG9pbnR9L2RpYXJ5LyR7aGlzdG9yeUlkfS9lbnF1ZXRlL2luZGV4L29yZGVyc2AsIGJvZHkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICByZXNwb25zZS5kYXRhOwogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0KCiAgLy8gcmVhY3Rpb24oaWQsIGJvYXJkSWQpewogIC8vICAgcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH0vcmVhY3Rpb25gLCB7fSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSk7CiAgLy8gfQp9CgpleHBvcnQgZGVmYXVsdCBuZXcgSGlzdG9yaWVzQXBpKCk7"},{"version":3,"names":["axios","clarify","HistoriesApi","constructor","endpoint","process","env","VUE_APP_GW_URL","list","boardId","articleId","body","get","then","response","data","save","article","files","formData","FormData","f","append","Blob","JSON","stringify","type","post","headers","delete","id","uploadImage","downloadFile","fileId","console","log","responseType","changeOrder","historyId","put"],"sources":["/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/HistoriesApi.js"],"sourcesContent":["import axios from 'axios';\nimport {clarify} from \"@/utils/clear\"\n\nclass HistoriesApi {\n  constructor() {\n    this.endpoint = process.env.VUE_APP_GW_URL;\n  }\n\n  list(boardId, articleId, body) {\n    //const params = new URLSearchParams(clarify(body));\n\n    return axios.get(`${this.endpoint}/histories`).then(response=>response.data);\n  }\n\n  save(article, files) {\n    // return axios.post(`${this.endpoint}/board/save`, board).then(response=>response.data);\n    const formData = new FormData();\n    for (const f of files) {\n      formData.append('files', f);\n    }\n    formData.append('article', new Blob([JSON.stringify(article)], { type: \"application/json\"}));\n    return axios.post(`${this.endpoint}/boards/${article.boardId}/articles`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response=>response.data);\n  }\n\n  delete(boardId, id) {\n    return axios.delete(`${this.endpoint}/boards/${boardId}/articles/${id}`, {}).then(response=>response.data);\n  }\n\n  uploadImage(boardId, f) {\n    const formData = new FormData();\n    formData.append('file', f);\n\n    // return new Promise(resolve => resolve({ url: 'https://uicdn.toast.com/toastui/img/tui-editor-bi-white.png', desc:null}));\n    return axios.post(`${this.endpoint}/boards/${boardId}/article/image/upload`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response => response.data);\n  }\n\n  downloadFile(boardId, id, fileId) {\n\n    console.log(boardId);\n    console.log(id);\n    console.log(fileId);\n    // return axios.get(`${this.endpoint}/board/${boardId}/article/${id}/file/${fileId}`, {}).then(response=>response);\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles/${id}/files/${fileId}/download`, {responseType: 'arraybuffer'}).then(response=>response);\n  }\n \n\n  changeOrder(historyId, body){\n  \n    \n    // return axios.delete(`${this.endpoint}/region/${idx}?userId=${userId}`, {}).then((response) => response.data);\n\n  return axios.put(`${this.endpoint}/diary/${historyId}/enquete/index/orders`, body).then((response) => {response.data\n  \n    \n    return response.data;\n  });\n}\n\n  // reaction(id, boardId){\n  //   return axios.post(`${this.endpoint}/boards/${boardId}/articles/${id}/reaction`, {}).then(response => response);\n  // }\n\n}\n\n\nexport default new HistoriesApi();\n"],"mappings":"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"}]}