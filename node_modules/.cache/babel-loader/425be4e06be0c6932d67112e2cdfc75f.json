{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js??ref--14-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js","mtime":1666673387756},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js","mtime":1665531750890}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgY2xhcmlmeSB9IGZyb20gIkAvdXRpbHMvY2xlYXIiOwpjbGFzcyBBcnRpY2xlQXBpIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZW5kcG9pbnQgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0dXX1VSTDsKICB9CiAgZmluZEFsbChib2FyZElkLCBib2R5KSB7CiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGNsYXJpZnkoYm9keSkpOwogICAgcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlc2AsIHsKICAgICAgcGFyYW1zCiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBmaW5kQnlJZChib2FyZElkLCBpZCkgewogICAgcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlcy8ke2lkfWAsIHt9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9CiAgc2F2ZShhcnRpY2xlLCBmaWxlcykgewogICAgLy8gcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmQvc2F2ZWAsIGJvYXJkKS50aGVuKHJlc3BvbnNlPT5yZXNwb25zZS5kYXRhKTsKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICBmb3IgKGNvbnN0IGYgb2YgZmlsZXMpIHsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIGYpOwogICAgfQogICAgZm9ybURhdGEuYXBwZW5kKCdhcnRpY2xlJywgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGFydGljbGUpXSwgewogICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0pKTsKICAgIHJldHVybiBheGlvcy5wb3N0KGAke3RoaXMuZW5kcG9pbnR9L2JvYXJkcy8ke2FydGljbGUuYm9hcmRJZH0vYXJ0aWNsZXNgLCBmb3JtRGF0YSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICB9CiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBkZWxldGUoYm9hcmRJZCwgaWQpIHsKICAgIHJldHVybiBheGlvcy5kZWxldGUoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH1gLCB7fSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5kYXRhKTsKICB9CiAgdXBsb2FkSW1hZ2UoYm9hcmRJZCwgZikgewogICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGYpOwoKICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlc29sdmUoeyB1cmw6ICdodHRwczovL3VpY2RuLnRvYXN0LmNvbS90b2FzdHVpL2ltZy90dWktZWRpdG9yLWJpLXdoaXRlLnBuZycsIGRlc2M6bnVsbH0pKTsKICAgIHJldHVybiBheGlvcy5wb3N0KGAke3RoaXMuZW5kcG9pbnR9L2JvYXJkcy8ke2JvYXJkSWR9L2FydGljbGUvaW1hZ2UvdXBsb2FkYCwgZm9ybURhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgfQogICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5kYXRhKTsKICB9CiAgZG93bmxvYWRGaWxlKGJvYXJkSWQsIGlkLCBmaWxlSWQpIHsKICAgIGNvbnNvbGUubG9nKGJvYXJkSWQpOwogICAgY29uc29sZS5sb2coaWQpOwogICAgY29uc29sZS5sb2coZmlsZUlkKTsKICAgIC8vIHJldHVybiBheGlvcy5nZXQoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmQvJHtib2FyZElkfS9hcnRpY2xlLyR7aWR9L2ZpbGUvJHtmaWxlSWR9YCwge30pLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlKTsKICAgIHJldHVybiBheGlvcy5nZXQoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH0vZmlsZXMvJHtmaWxlSWR9L2Rvd25sb2FkYCwgewogICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicKICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpOwogIH0KCiAgLy8gcmVhY3Rpb24oaWQsIGJvYXJkSWQpewogIC8vICAgcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZXMvJHtpZH0vcmVhY3Rpb25gLCB7fSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSk7CiAgLy8gfQp9CgpleHBvcnQgZGVmYXVsdCBuZXcgQXJ0aWNsZUFwaSgpOw=="},{"version":3,"names":["axios","clarify","ArticleApi","constructor","endpoint","process","env","VUE_APP_GW_URL","findAll","boardId","body","params","URLSearchParams","get","then","response","data","findById","id","save","article","files","formData","FormData","f","append","Blob","JSON","stringify","type","post","headers","delete","uploadImage","downloadFile","fileId","console","log","responseType"],"sources":["/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js"],"sourcesContent":["import axios from 'axios';\nimport {clarify} from \"@/utils/clear\"\n\nclass ArticleApi {\n  constructor() {\n    this.endpoint = process.env.VUE_APP_GW_URL;\n  }\n\n\n  findAll(boardId, body) {\n    const params = new URLSearchParams(clarify(body));\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles`, {params}).then(response=>response.data);\n  }\n\n\n  findById(boardId, id) {\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles/${id}`, {}).then(response => {\n      \n      return response.data\n      \n      \n    });\n  }\n\n  save(article, files) {\n    // return axios.post(`${this.endpoint}/board/save`, board).then(response=>response.data);\n    const formData = new FormData();\n    for (const f of files) {\n      formData.append('files', f);\n    }\n    formData.append('article', new Blob([JSON.stringify(article)], { type: \"application/json\"}));\n    return axios.post(`${this.endpoint}/boards/${article.boardId}/articles`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response=>response.data);\n  }\n\n  delete(boardId, id) {\n    return axios.delete(`${this.endpoint}/boards/${boardId}/articles/${id}`, {}).then(response=>response.data);\n  }\n\n  uploadImage(boardId, f) {\n    const formData = new FormData();\n    formData.append('file', f);\n\n    // return new Promise(resolve => resolve({ url: 'https://uicdn.toast.com/toastui/img/tui-editor-bi-white.png', desc:null}));\n    return axios.post(`${this.endpoint}/boards/${boardId}/article/image/upload`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response => response.data);\n  }\n\n  downloadFile(boardId, id, fileId) {\n\n    console.log(boardId);\n    console.log(id);\n    console.log(fileId);\n    // return axios.get(`${this.endpoint}/board/${boardId}/article/${id}/file/${fileId}`, {}).then(response=>response);\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles/${id}/files/${fileId}/download`, {responseType: 'arraybuffer'}).then(response=>response);\n  }\n\n  // reaction(id, boardId){\n  //   return axios.post(`${this.endpoint}/boards/${boardId}/articles/${id}/reaction`, {}).then(response => response);\n  // }\n\n}\n\n\nexport default new ArticleApi();\n"],"mappings":"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"}]}