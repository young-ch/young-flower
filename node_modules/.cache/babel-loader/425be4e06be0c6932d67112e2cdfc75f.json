{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js??ref--14-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js","mtime":1665531625447},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/eslint-loader/index.js","mtime":1665531750890}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgY2xhcmlmeSB9IGZyb20gIkAvdXRpbHMvY2xlYXIiOwpjbGFzcyBBcnRpY2xlQXBpIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZW5kcG9pbnQgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0dXX1VSTDsKICB9CiAgZmluZEFsbChib2FyZElkLCBib2R5KSB7CiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGNsYXJpZnkoYm9keSkpOwogICAgcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlc2AsIHsKICAgICAgcGFyYW1zCiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBmaW5kQnlJZChib2FyZElkLCBpZCkgewogICAgcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlcy8ke2lkfWAsIHt9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBzYXZlKGFydGljbGUsIGZpbGVzKSB7CiAgICAvLyByZXR1cm4gYXhpb3MucG9zdChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZC9zYXZlYCwgYm9hcmQpLnRoZW4ocmVzcG9uc2U9PnJlc3BvbnNlLmRhdGEpOwogICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZvciAoY29uc3QgZiBvZiBmaWxlcykgewogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgZik7CiAgICB9CiAgICBmb3JtRGF0YS5hcHBlbmQoJ2FydGljbGUnLCBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYXJ0aWNsZSldLCB7CiAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgfSkpOwogICAgcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7YXJ0aWNsZS5ib2FyZElkfS9hcnRpY2xlc2AsIGZvcm1EYXRhLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgIH0KICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuZGF0YSk7CiAgfQogIGRlbGV0ZShib2FyZElkLCBpZCkgewogICAgcmV0dXJuIGF4aW9zLmRlbGV0ZShgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlcy8ke2lkfWAsIHt9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICB1cGxvYWRJbWFnZShib2FyZElkLCBmKSB7CiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZik7CgogICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcmVzb2x2ZSh7IHVybDogJ2h0dHBzOi8vdWljZG4udG9hc3QuY29tL3RvYXN0dWkvaW1nL3R1aS1lZGl0b3ItYmktd2hpdGUucG5nJywgZGVzYzpudWxsfSkpOwogICAgcmV0dXJuIGF4aW9zLnBvc3QoYCR7dGhpcy5lbmRwb2ludH0vYm9hcmRzLyR7Ym9hcmRJZH0vYXJ0aWNsZS9pbWFnZS91cGxvYWRgLCBmb3JtRGF0YSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICB9CiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwogIH0KICBkb3dubG9hZEZpbGUoYm9hcmRJZCwgaWQsIGZpbGVJZCkgewogICAgLy8gcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZC8ke2JvYXJkSWR9L2FydGljbGUvJHtpZH0vZmlsZS8ke2ZpbGVJZH1gLCB7fSkudGhlbihyZXNwb25zZT0+cmVzcG9uc2UpOwogICAgcmV0dXJuIGF4aW9zLmdldChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlcy8ke2lkfS9maWxlcy8ke2ZpbGVJZH0vZG93bmxvYWRgLCB7CiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJwogICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSk7CiAgfQogIHJlYWN0aW9uKGlkLCBib2FyZElkKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChgJHt0aGlzLmVuZHBvaW50fS9ib2FyZHMvJHtib2FyZElkfS9hcnRpY2xlcy8ke2lkfS9yZWFjdGlvbmAsIHt9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlKTsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgbmV3IEFydGljbGVBcGkoKTs="},{"version":3,"names":["axios","clarify","ArticleApi","constructor","endpoint","process","env","VUE_APP_GW_URL","findAll","boardId","body","params","URLSearchParams","get","then","response","data","findById","id","save","article","files","formData","FormData","f","append","Blob","JSON","stringify","type","post","headers","delete","uploadImage","downloadFile","fileId","responseType","reaction"],"sources":["/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/api/ArticleApi.js"],"sourcesContent":["import axios from 'axios';\nimport {clarify} from \"@/utils/clear\"\n\nclass ArticleApi {\n  constructor() {\n    this.endpoint = process.env.VUE_APP_GW_URL;\n  }\n\n\n  findAll(boardId, body) {\n    const params = new URLSearchParams(clarify(body));\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles`, {params}).then(response=>response.data);\n  }\n\n\n  findById(boardId, id) {\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles/${id}`, {}).then(response=>response.data);\n  }\n\n  save(article, files) {\n    // return axios.post(`${this.endpoint}/board/save`, board).then(response=>response.data);\n    const formData = new FormData();\n    for (const f of files) {\n      formData.append('files', f);\n    }\n    formData.append('article', new Blob([JSON.stringify(article)], { type: \"application/json\"}));\n    return axios.post(`${this.endpoint}/boards/${article.boardId}/articles`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response=>response.data);\n  }\n\n  delete(boardId, id) {\n    return axios.delete(`${this.endpoint}/boards/${boardId}/articles/${id}`, {}).then(response=>response.data);\n  }\n\n  uploadImage(boardId, f) {\n    const formData = new FormData();\n    formData.append('file', f);\n\n    // return new Promise(resolve => resolve({ url: 'https://uicdn.toast.com/toastui/img/tui-editor-bi-white.png', desc:null}));\n    return axios.post(`${this.endpoint}/boards/${boardId}/article/image/upload`, formData, {headers: {'Content-Type': 'multipart/form-data'}}).then(response => response.data);\n  }\n\n  downloadFile(boardId, id, fileId) {\n    // return axios.get(`${this.endpoint}/board/${boardId}/article/${id}/file/${fileId}`, {}).then(response=>response);\n    return axios.get(`${this.endpoint}/boards/${boardId}/articles/${id}/files/${fileId}/download`, {responseType: 'arraybuffer'}).then(response=>response);\n  }\n\n  reaction(id, boardId){\n    return axios.post(`${this.endpoint}/boards/${boardId}/articles/${id}/reaction`, {}).then(response => response);\n  }\n\n}\n\n\nexport default new ArticleApi();\n"],"mappings":"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"}]}