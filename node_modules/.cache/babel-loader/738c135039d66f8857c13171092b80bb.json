{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/banner/BannerForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/banner/BannerForm.vue","mtime":1665531625449},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBCYW5uZXJBcGkgZnJvbSAnLi4vLi4vYXBpL0Jhbm5lckFwaSc7CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IEJhbm5lckNhdGVnb3J5QXBpIGZyb20gIkAvYXBpL0Jhbm5lckNhdGVnb3J5QXBpIjsKLy8gaW1wb3J0IEZpbGVBcGkgZnJvbSAnLi4vLi4vYXBpL0ZpbGVBcGknCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnaWQnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZXMsCiAgICAgIHNlcnZpY2VUeXBlOiAnQkFOTkVSJywKICAgICAgYnJlYWRjcnVtYnM6IFt7CiAgICAgICAgdGV4dDogJ+uwsOuEiOq0gOumrCcsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGhyZWY6ICcjJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kcHJvcHMuaWQgPyAn67Cw64SI7IiY7KCVJyA6ICfrsLDrhIjrk7HroZ0nCiAgICAgIH1dLAogICAgICBiYW5uZXI6IHsKICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICBhY3RpdmF0ZWQ6IHRydWUsCiAgICAgICAgdXJsOiBudWxsLAogICAgICAgIGlkOiBudWxsLAogICAgICAgIGJhbm5lckltYWdlOiBudWxsCiAgICAgIH0sCiAgICAgIGJhbm5lckZpbGU6IG51bGwsCiAgICAgIGJhbm5lckNhdGVnb3JpZXM6IFtdLAogICAgICBpbWFnZVByZXZpZXc6IG51bGwsCiAgICAgIGltYWdlUHJldmlld05hbWU6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZUltYWdlcyhmaWxlcykgewogICAgICB0aGlzLmJhbm5lckZpbGUgPSBmaWxlcy50YXJnZXQuZmlsZXNbMF07CiAgICAgIGNvbnN0IGZpbGUgPSBmaWxlcy50YXJnZXQuZmlsZXNbMF07CiAgICAgIHRoaXMuaW1hZ2VQcmV2aWV3ID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgdGhpcy5pbWFnZVByZXZpZXdOYW1lID0gZmlsZXMudGFyZ2V0LnZhbHVlLnNwbGl0KCdcXCcpWzJdOwogICAgfSwKICAgIGlucHV0SW1hZ2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW1hZ2VJbnB1dC5jbGljaygpOwogICAgfSwKICAgIGFzeW5jIHNhdmVCYW5uZXIoKSB7CiAgICAgIGlmIChhd2FpdCB0aGlzLiRyZWZzLmJhbm5lckZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHZhciBfdGhpcyRiYW5uZXJDYXRlZ29yaWUsIF90aGlzJGJhbm5lckNhdGVnb3JpZTI7CiAgICAgICAgLy8gdGhpcy5iYW5uZXIuc3RhcnREYXRlPXRoaXMuc3RhcnREYXRlUGlja2VyOwogICAgICAgIC8vIHRoaXMuYmFubmVyLmVuZERhdGU9dGhpcy5lbmREYXRlUGlja2VyOwoKICAgICAgICB0aGlzLmJhbm5lci5jYXRlZ29yeUlkID0gdGhpcy5iYW5uZXIuY2F0ZWdvcnlJZCA/IChfdGhpcyRiYW5uZXJDYXRlZ29yaWUgPSAoX3RoaXMkYmFubmVyQ2F0ZWdvcmllMiA9IHRoaXMuYmFubmVyQ2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gdGhpcy5iYW5uZXIuY2F0ZWdvcnlJZCkpID09PSBudWxsIHx8IF90aGlzJGJhbm5lckNhdGVnb3JpZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGJhbm5lckNhdGVnb3JpZTIuaWQpICE9PSBudWxsICYmIF90aGlzJGJhbm5lckNhdGVnb3JpZSAhPT0gdm9pZCAwID8gX3RoaXMkYmFubmVyQ2F0ZWdvcmllIDogbnVsbCA6IG51bGw7CiAgICAgICAgQmFubmVyQXBpLnNhdmUodGhpcy5iYW5uZXIsIHRoaXMuYmFubmVyRmlsZSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgaWYgKHRoaXMuYmFubmVyLmlkID09IG51bGwpIHsKICAgICAgICAgICAgYWxlcnQodGhpcy5iYW5uZXIudGl0bGUgKyAn7J2YIOuCtOyaqeydtCDsoJXsg4HsoIHsnLzroZwg65Ox66Gd65CY7JeI7Iq164uI64ukLicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQodGhpcy5iYW5uZXIudGl0bGUgKyAn7J2YIOuCtOyaqeydtCDsoJXsg4HsoIHsnLzroZwg7IiY7KCV65CY7JeI7Iq164uI64ukLicpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nb0xpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgn7ZWE7IiYIOyeheugpSDsgqztla3snYQg7ZmV7J247ZW0IOyjvOyEuOyalCcpOwogICAgICB9CiAgICB9LAogICAgZ29MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9iYW5uZXJzJwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgIEJhbm5lckFwaS5nZXQodGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KQogICAgICAgIHRoaXMuYmFubmVyID0gcmVzdWx0OwogICAgICAgIHRoaXMuaW1hZ2VQcmV2aWV3TmFtZSA9IHJlc3VsdC5iYW5uZXJJbWFnZTsKICAgICAgfSk7CiAgICB9CiAgICBCYW5uZXJDYXRlZ29yeUFwaS5maW5kQWxsKCkudGhlbihyZXN1bHQgPT4gewogICAgICB0aGlzLmJhbm5lckNhdGVnb3JpZXMgPSByZXN1bHQ7CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":";AAiKA;AACA;AACA;AACA;;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC,cACA;QACAC;QACAC;QACAC;MACA,GACA;QACAF;MACA,EACA;MACAG;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;IAEA;IACAC;MACA;IACA;IACA;MACA;QAAA;QACA;QACA;;QAEA;QACAC;UACA;YACAC;UACA;YACAA;UACA;UACA;QACA;MACA;QACAA;MACA;IACA;IACAC;MACA;QAAAC;MAAA;IACA;EAGA;EACAC;IACA;MACAJ;QACA;QACA;QACA;MACA;IACA;IAEAK;MACA;IACA;EACA;AAGA","names":["props","data","rules","serviceType","breadcrumbs","text","disabled","href","banner","title","activated","url","id","bannerImage","bannerFile","bannerCategories","imagePreview","imagePreviewName","methods","onChangeImages","inputImage","BannerApi","alert","goList","path","created","BannerCategoryApi"],"sourceRoot":"src/apps/banner","sources":["BannerForm.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex flex-column flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\">배너관리</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n\n      <v-btn @click=\"saveBanner\" color=\"indigo\" dark><v-icon left>mdi mdi-content-save</v-icon>{{ this.banner.id != null ? '수정' : '등록' }}</v-btn>\n      <v-btn @click=\"goList\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-format-list-bulleted</v-icon>목록</v-btn>\n    </div>\n    <v-card>\n      <v-card-title>배너 정보</v-card-title>\n      <v-card-text>\n        <v-form ref=\"bannerForm\">\n        <v-container fluid>\n          <v-row align=\"center\">\n            <v-col cols=\"2\">\n              <v-subheader><h3>배너카테고리</h3></v-subheader>\n            </v-col>\n            <v-col cols=\"4\">\n              <v-select\n                v-model=\"banner.categoryId\"\n                :items=\"bannerCategories\"\n                label=\"카테고리 선택\"\n                item-text=\"categoryName\"\n                item-value=\"id\"\n                single-line\n              ></v-select>\n            </v-col>\n          </v-row>\n        </v-container>\n        <v-container fluid style=\"margin-top:-4rem\">\n          <v-row align=\"center\">\n            <v-col cols=\"2\">\n              <v-subheader><h3>제목</h3><b class=\"essential\"> &nbsp;&nbsp;*</b></v-subheader>\n            </v-col>\n            <v-col cols=\"4\">\n              <v-text-field\n                v-model=\"banner.title\"\n                label=\"제목을 입력해 주세요\"\n                :rules=\"[rules.common.required]\"\n                inverted\n                clearable\n              >\n              </v-text-field>\n            </v-col>\n          </v-row>\n\n          <v-row align=\"center\">\n            <v-col cols=\"2\">\n              <v-subheader><h3>노출 여부</h3><b class=\"essential\"> &nbsp;&nbsp;*</b></v-subheader>\n            </v-col>\n            <v-radio-group\n              v-model=\"banner.activated\"\n              row\n              style=\"padding-left: 20px;\"\n            >\n              <v-radio\n                label=\"노출\"\n                :value=\"true\"\n              ></v-radio>\n              <v-radio\n                label=\"미노출\"\n                :value=\"false\"\n              ></v-radio>\n            </v-radio-group>\n          </v-row>\n\n          <v-row align=\"center\">\n            <v-col cols=\"2\">\n              <v-subheader><h3>이미지</h3><b class=\"essential\">&nbsp;&nbsp;*</b></v-subheader>\n            </v-col>\n            <v-col>\n              <input type=\"file\"\n                     label=\"File input\"\n                     prepend-icon=\"mdi-camera\"\n                     @change=\"onChangeImages\"\n                     ref=\"imageInput\"\n                     accept=\"image/*\"\n                     hidden\n\n              >\n              <v-text-field\n                v-model=\"imagePreviewName\"\n                :label=\"this.banner.bannerImage == null?'':this.banner.bannerImage\"\n                prepend-icon=\"mdi-camera\"\n                readonly\n                style=\"width:490px\"\n                @click=\"inputImage\"\n                :rules=\"[rules.common.required]\"\n              ></v-text-field>\n              <div>\n<!--                <p>※ 배너 : 가로 000px x 세로 000px 로 등록해주세요</p>-->\n                <div v-if=\"this.imagePreview\">\n                  <div style=\"height:3rem\">\n                    <v-chip\n                      outlined\n                      label\n                      class=\"chipCss\"\n                    >업로드 이미지 : {{ this.imagePreviewName.substr(1, 32) }}\n                    </v-chip>\n                  </div>\n                  <v-img :src=\"this.imagePreview\"\n                         style=\"width:350px;height:120px;object-fit:cover; margin-top:-0.5rem\"/>\n                  <br> <br>\n                </div>\n\n              </div>\n            </v-col>\n          </v-row>\n        </v-container>\n        <v-container fluid style=\"margin-top:-4rem\">\n          <v-row align=\"center\">\n            <v-col cols=\"2\" sm=\"2\">\n              <v-subheader><h3>링크 연결</h3></v-subheader>\n            </v-col>\n            <v-col\n              cols=\"12\"\n              sm=\"6\"\n            >\n              <!-- <v-text-field\n                  solo\n                  label=\"Prepend\"\n                  prepend-icon=\"mdi-map-marker\"\n              ></v-text-field> -->\n              <v-text-field\n                v-model=\"banner.url\"\n                :label=\"this.banner.url == null?'링크 주소 입력':this.banner.url\"\n                prepend-icon=\"mdi-link-variant-plus\"\n                style=\"width:500px\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n<!--          <v-row align=\"center\">-->\n<!--            <v-col cols=\"2\" sm=\"2\">-->\n<!--              <v-subheader></v-subheader>-->\n<!--            </v-col>-->\n<!--            <v-col style=\"margin-left:10rem\">-->\n<!--              <v-btn @click=\"saveBanner\">{{ this.banner.id != null ? '수정' : '등록' }}</v-btn>-->\n<!--              <v-btn @click=\"goList\" style=\"margin-left:1rem\">목록</v-btn>-->\n<!--            </v-col>-->\n<!--          </v-row>-->\n        </v-container>\n      </v-form>\n      </v-card-text>\n    </v-card>\n    <div class=\"d-flex flex-column flex-grow-1\">\n      <div class=\"d-flex align-center py-3\">\n        <v-spacer></v-spacer>\n\n        <v-btn @click=\"saveBanner\" color=\"indigo\" dark><v-icon left>mdi mdi-content-save</v-icon>{{ this.banner.id != null ? '수정' : '등록' }}</v-btn>\n        <v-btn @click=\"goList\" style=\"margin-left:1rem\"><v-icon left>mdi mdi-format-list-bulleted</v-icon>목록</v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport BannerApi from '../../api/BannerApi'\nimport rules from \"@/utils/rules\";\nimport BannerCategoryApi from \"@/api/BannerCategoryApi\";\n// import FileApi from '../../api/FileApi'\n\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      rules,\n      serviceType: 'BANNER',\n      breadcrumbs: [\n        {\n          text: '배너관리',\n          disabled: false,\n          href: '#'\n        },\n        {\n          text: this.$props.id ? '배너수정' : '배너등록'\n        }\n      ],\n      banner: {\n        title: null,\n        activated: true,\n        url: null,\n        id: null,\n        bannerImage: null\n      },\n      bannerFile: null,\n      bannerCategories: [],\n      imagePreview: null,\n      imagePreviewName: null\n    }\n  },\n  methods: {\n    onChangeImages(files) {\n      this.bannerFile = files.target.files[0];\n      const file = files.target.files[0]\n      this.imagePreview = URL.createObjectURL(file);\n      this.imagePreviewName = files.target.value.split('\\\\')[2];\n\n    },\n    inputImage() {\n      this.$refs.imageInput.click();\n    },\n    async saveBanner() {\n      if (await this.$refs.bannerForm.validate()) {\n        // this.banner.startDate=this.startDatePicker;\n        // this.banner.endDate=this.endDatePicker;\n\n        this.banner.categoryId = this.banner.categoryId ? this.bannerCategories.find(c => c.id === this.banner.categoryId)?.id??null : null\n        BannerApi.save(this.banner, this.bannerFile).then(result => {\n          if (this.banner.id == null) {\n            alert(this.banner.title + '의 내용이 정상적으로 등록되었습니다.')\n          } else {\n            alert(this.banner.title + '의 내용이 정상적으로 수정되었습니다.')\n          }\n          this.goList()\n        })\n      } else {\n        alert('필수 입력 사항을 확인해 주세요')\n      }\n    },\n    goList() {\n      this.$router.push({path: '/banners'})\n    },\n\n\n  },\n  created() {\n    if (this.$route.params.id) {\n      BannerApi.get(this.$route.params.id).then(result => {\n        // console.log(result)\n        this.banner = result;\n        this.imagePreviewName = result.bannerImage;\n      })\n    }\n\n    BannerCategoryApi.findAll().then(result => {\n      this.bannerCategories = result;\n    });\n  }\n\n\n};\n</script>\n\n<style scoped>\n\n.essential {\n  color: red;\n  font-size: 30px;\n}\n\n.chipCss {\n  width: 350px;\n  margin-bottom: 0.5rem;\n  text-align: left;\n  height: 2rem;\n  display: block;\n\n}\n</style>\n"]}]}