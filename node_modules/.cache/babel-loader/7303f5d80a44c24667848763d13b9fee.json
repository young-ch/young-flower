{"remainingRequest":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/src/apps/article/ArticleForm.vue","mtime":1666655451721},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/babel.config.js","mtime":1665531625438},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/babel-loader/lib/index.js","mtime":1665531751248},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/cache-loader/dist/cjs.js","mtime":1665531750829},{"path":"/Users/youngchelchoi/Desktop/workspace/flower/flower-backoffice/node_modules/vue-loader/lib/index.js","mtime":1665531752006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBhcnRpY2xlQXBpIGZyb20gJ0AvYXBpL0FydGljbGVBcGknOwppbXBvcnQgYm9hcmRBcGkgZnJvbSAnQC9hcGkvQm9hcmRBcGknOwoKLy8gaW1wb3J0IEVkaXRvckNvbXBvbmVudCBmcm9tICIuLi9jb21wb25lbnQvRWRpdG9yQ29tcG9uZW50IjsKLy8gaW1wb3J0IEVkaXRvclRpcHRhcCBmcm9tICJAL3ZpZXdzL2NvbXBvbmVudC9FZGl0b3JUaXB0YXBDb21wb25lbnQiOwppbXBvcnQgRWRpdG9yUXVpbGwgZnJvbSAiQC9jb21wb25lbnRzL2VkaXRvci9FZGl0b3JRdWlsbENvbXBvbmVudCI7CmltcG9ydCBEYXRlUmFnZUNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvZGF0ZS9EYXRlUmFnZUNvbXBvbmVudCI7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7Ci8vIGltcG9ydCB2dWUyRHJvcHpvbmUgZnJvbSAndnVlMi1kcm9wem9uZScKLy8gaW1wb3J0ICd2dWUyLWRyb3B6b25lL2Rpc3QvdnVlMkRyb3B6b25lLm1pbi5jc3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFydGljbGVGb3JtIiwKICBjb21wb25lbnRzOiB7CiAgICAvLyAnZWRpdG9yLWNvbXBvbmVudCc6IEVkaXRvckNvbXBvbmVudCwKICAgIC8vIEVkaXRvclRpcHRhcCwKICAgIEVkaXRvclF1aWxsLAogICAgJ2RhdGUtcmFuZ2UtY29tcG9uZW50JzogRGF0ZVJhZ2VDb21wb25lbnQKICAgIC8vIHZ1ZURyb3B6b25lOiB2dWUyRHJvcHpvbmUKICB9LAoKICBwcm9wczogewogICAgdXNlcklkOiBTdHJpbmcsCiAgICBhcnRpY2xlSWQ6IFN0cmluZywKICAgIGJvYXJkSWQ6IFN0cmluZwogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHN0YXRpY2F0dGFjaG1lbnRQYXRoOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FUVEFDSF9TVEFUSUNfUEFUSCwKICAgIHJ1bGVzOiB7CiAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICftlYTsiJgg7J6F66ClIO2VreuqqeyeheuLiOuLpC4uJywKICAgICAgbGVuZ3RoMTI6IHZhbHVlID0+IHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDEyIHx8ICftlYTsiJgg7J6F66ClIO2VreuqqeyeheuLiOuLpC4nLAogICAgICBpc284NjAxOiB2YWx1ZSA9PiAhdmFsdWUgfHwgISEvKFsxMl1cZHszfS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMTJdXGR8M1swMV0pKSQvLnRlc3QodmFsdWUpIHx8ICfrgqDsp5wg7ZiV7Iud7J20IOyVhOuLmeuLiOuLpC4nCiAgICB9LAogICAgYm9hcmQ6IHt9LAogICAgYXJ0aWNsZTogewogICAgICB0aXRsZTogbnVsbCwKICAgICAgY29udGVudHM6IG51bGwsCiAgICAgIHdyaXRlcjogbnVsbCwKICAgICAgYWx3YXlzOiB0cnVlLAogICAgICBjdXN0b21EYXRlOiBudWxsCiAgICB9LAogICAgcGVyaW9kOiBbXSwKICAgIHNjaGVkdWxlUGVyaW9kOiBbXSwKICAgIGltYWdlRmlsZVVybDogbnVsbCwKICAgIGVuZFBvaW50OiBwcm9jZXNzLmVudi5WVUVfQVBQX0FUVEFDSF9GSUxFX1NFUlZFUl9VUkwsCiAgICBmaWxlTWV0YToge30sCiAgICBmaWxlczogW10sCiAgICBzZWxlY3RlZEZpbGVzOiBbXSwKICAgIGF0dGFjaGVkRmlsZXM6IFtdLAogICAgcGVybWlzc2lvbjoge30KICB9KSwKICBjb21wdXRlZDogewogICAgZHJvcHpvbmVPcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJGdldHRlcnMkLCBfdGhpcyQkc3RvcmUsIF90aGlzJCRzdG9yZSRnZXR0ZXJzOwogICAgICByZXR1cm4gewogICAgICAgIHVybDogJycsCiAgICAgICAgdGh1bWJuYWlsV2lkdGg6IDE1MCwKICAgICAgICBtYXhGaWxlc2l6ZTogMC41LAogICAgICAgIG1heEZpbGVzOiAyLAogICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzOiAiaW1hZ2UvKiIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgYmVhcmVyICR7KF90aGlzJCRzdG9yZSRnZXR0ZXJzJCA9IHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJCRzdG9yZSA9IHRoaXMuJHN0b3JlKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyQkc3RvcmUkZ2V0dGVycyA9IF90aGlzJCRzdG9yZS5nZXR0ZXJzKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUkZ2V0dGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHN0b3JlJGdldHRlcnMudG9rZW4pICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRnZXR0ZXJzJCAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJGdldHRlcnMkIDogJyd9YAogICAgICAgIH0sCiAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLAogICAgICAgIGNsaWNrYWJsZTogdHJ1ZSwKICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZQogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWRBdDogewogICAgICBnZXQoKSB7CiAgICAgICAgLy8gcmV0dXJuIHRoaXMuYXJ0aWNsZS5jcmVhdGVkQXQgPyB0aGlzLmFydGljbGUuY3JlYXRlZEF0LnN1YnN0cigwLCAxMCkgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICByZXR1cm4gdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmFydGljbGUuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJZWVlZLU1NLUREIikgOiB0aGlzLiRtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMTAgJiYgdGhpcy4kbW9tZW50KHZhbHVlLCAiWVlZWS1NTS1ERCIpLmlzVmFsaWQoKSkgewogICAgICAgICAgdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdCA9IHZhbHVlID8gdmFsdWUgKyAiVCIgKyAodGhpcy5hcnRpY2xlLmNyZWF0ZWRBdCA/IHRoaXMuJG1vbWVudCh0aGlzLmFydGljbGUuY3JlYXRlZEF0LCAiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIikuZm9ybWF0KCJISDptbTpzcyIpIDogIjAwOjAwOjAwIikgOiB0aGlzLmFydGljbGUuY3JlYXRlZEF0OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGJyZWFkY3J1bWJzKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICB0ZXh0OiAn6rKM7Iuc66y8IOq0gOumrCcsCiAgICAgICAgdG86IGAvYm9hcmRzLyR7dGhpcy5ib2FyZElkfS9hcnRpY2xlc2AsCiAgICAgICAgZXhhY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuYXJ0aWNsZUlkID8gJ+qyjOyLnOusvCDsiJjsoJUnIDogJ+qyjOyLnOusvCDsg53shLEnCiAgICAgIH1dOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0TWFpbkltYWdlKGZpbGVJZCkgewogICAgICB0aGlzLmFydGljbGUubWFpbkltYWdlSWQgPSBmaWxlSWQ7CiAgICAgIHRoaXMuYXJ0aWNsZS5hcnRpY2xlQXR0YWNobWVudHMuZm9yRWFjaChhID0+IGEubWFpbkltYWdlID0gZmFsc2UpOwogICAgICB0aGlzLmFydGljbGUuYXJ0aWNsZUF0dGFjaG1lbnRzLmZpbHRlcihhID0+IGEuaWQgPT09IGZpbGVJZClbMF0ubWFpbkltYWdlID0gdHJ1ZTsKICAgICAgLy8gaW1nLm1haW5JbWFnZSA9ICFpbWcubWFpbkltYWdlCiAgICB9LAoKICAgIHRodW1ibmFpbFN1Y2Nlc3MoZmlsZSwgcmVzcG9uc2UpIHsKICAgICAgdGhpcy5hcnRpY2xlLnRodW1ibmFpbCA9IHJlc3BvbnNlLnNhdmVOYW1lOwogICAgICBjb25zdCBhY2NlcHRlZEZpbGVzID0gdGhpcy4kcmVmcy5hcnRpY2xlVGh1bWJuYWlsRHJvcHpvbmUuZ2V0QWNjZXB0ZWRGaWxlcygpOwogICAgICBpZiAoYWNjZXB0ZWRGaWxlcyAmJiBhY2NlcHRlZEZpbGVzLmxlbmd0aCA+IDEpIHRoaXMuJHJlZnMuYXJ0aWNsZVRodW1ibmFpbERyb3B6b25lLnJlbW92ZUZpbGUoYWNjZXB0ZWRGaWxlc1swXSk7CiAgICB9LAogICAgdGh1bWJuYWlsUmVtb3ZlKCkgewogICAgICB0aGlzLmFydGljbGUudGh1bWJuYWlsID0gbnVsbDsKICAgIH0sCiAgICBhcHBlbmRGaWxlKCkgewogICAgICB0aGlzLmZpbGVzID0gWy4uLm5ldyBTZXQoWy4uLnRoaXMuc2VsZWN0ZWRGaWxlcywgLi4udGhpcy5maWxlc10pXTsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gXy5jbG9uZURlZXAodGhpcy5maWxlcyk7CiAgICB9LAogICAgY2xlYXJBbGxGaWxlKCkgewogICAgICB0aGlzLmZpbGVzID0gW107CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlcyA9IFtdOwogICAgfSwKICAgIHJlbW92ZUZpbGUocmVtb3ZlRmlsZSkgewogICAgICB0aGlzLmZpbGVzID0gdGhpcy5maWxlcy5maWx0ZXIoZiA9PiBmICE9PSByZW1vdmVGaWxlKTsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gXy5jbG9uZURlZXAodGhpcy5maWxlcyk7CiAgICB9LAogICAgcmVtb3ZlQXR0YWNoZWRGaWxlKGF0dGFjaGVkRmlsZSkgewogICAgICB0aGlzLmF0dGFjaGVkRmlsZXMgPSB0aGlzLmF0dGFjaGVkRmlsZXMuZmlsdGVyKGYgPT4gZi5pZCAhPT0gYXR0YWNoZWRGaWxlLmlkKTsKICAgIH0sCiAgICByZXNldEF0dGFjaGVkRmlsZXMoKSB7CiAgICAgIHRoaXMuYXR0YWNoZWRGaWxlcyA9IHRoaXMuYXJ0aWNsZS5hcnRpY2xlQXR0YWNobWVudHM7CiAgICB9LAogICAgZGVsZXRlQXR0YWNoZWRGaWxlcygpIHsKICAgICAgdGhpcy5hdHRhY2hlZEZpbGVzID0gW107CiAgICB9LAogICAgdXBsb2FkSW1hZ2UoZikgewogICAgICBhcnRpY2xlQXBpLnVwbG9hZEltYWdlKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZikudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5maWxlTWV0YSA9IHJlczsKICAgICAgfSk7CiAgICB9LAogICAgZ29MaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9ib2FyZHMvJHt0aGlzLmJvYXJkSWR9L2FydGljbGVzYAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBzYXZlKCkgewogICAgICB2YXIgX3RoaXMkcGVyaW9kJCwgX3RoaXMkcGVyaW9kLCBfdGhpcyRwZXJpb2QkMiwgX3RoaXMkcGVyaW9kMiwgX3RoaXMkc2NoZWR1bGVQZXJpb2QkLCBfdGhpcyRzY2hlZHVsZVBlcmlvZCwgX3RoaXMkc2NoZWR1bGVQZXJpb2QkMiwgX3RoaXMkc2NoZWR1bGVQZXJpb2QyOwogICAgICBpZiAoIShhd2FpdCB0aGlzLiRyZWZzLmZvcm1BcnRpY2xlLnZhbGlkYXRlKCkpKSByZXR1cm47CiAgICAgIHRoaXMuYXJ0aWNsZS5ib2FyZElkID0gdGhpcy5ib2FyZC5pZDsKICAgICAgdGhpcy5hcnRpY2xlLmNvbnRlbnRzID0gdGhpcy4kcmVmcy5jb250ZW50cy5nZXRWYWx1ZSgpOwoKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wZXJpb2QpOwogICAgICB0aGlzLmFydGljbGUuc3RhcnREdCA9IChfdGhpcyRwZXJpb2QkID0gKF90aGlzJHBlcmlvZCA9IHRoaXMucGVyaW9kKSA9PT0gbnVsbCB8fCBfdGhpcyRwZXJpb2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHBlcmlvZFswXSkgIT09IG51bGwgJiYgX3RoaXMkcGVyaW9kJCAhPT0gdm9pZCAwID8gX3RoaXMkcGVyaW9kJCA6IG51bGw7CiAgICAgIHRoaXMuYXJ0aWNsZS5lbmREdCA9IChfdGhpcyRwZXJpb2QkMiA9IChfdGhpcyRwZXJpb2QyID0gdGhpcy5wZXJpb2QpID09PSBudWxsIHx8IF90aGlzJHBlcmlvZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHBlcmlvZDJbMV0pICE9PSBudWxsICYmIF90aGlzJHBlcmlvZCQyICE9PSB2b2lkIDAgPyBfdGhpcyRwZXJpb2QkMiA6IG51bGw7CiAgICAgIHRoaXMuYXJ0aWNsZS5zY2hlZHVsZVN0YXJ0RHQgPSAoX3RoaXMkc2NoZWR1bGVQZXJpb2QkID0gKF90aGlzJHNjaGVkdWxlUGVyaW9kID0gdGhpcy5zY2hlZHVsZVBlcmlvZCkgPT09IG51bGwgfHwgX3RoaXMkc2NoZWR1bGVQZXJpb2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNjaGVkdWxlUGVyaW9kWzBdKSAhPT0gbnVsbCAmJiBfdGhpcyRzY2hlZHVsZVBlcmlvZCQgIT09IHZvaWQgMCA/IF90aGlzJHNjaGVkdWxlUGVyaW9kJCA6IG51bGw7CiAgICAgIHRoaXMuYXJ0aWNsZS5zY2hlZHVsZUVuZER0ID0gKF90aGlzJHNjaGVkdWxlUGVyaW9kJDIgPSAoX3RoaXMkc2NoZWR1bGVQZXJpb2QyID0gdGhpcy5zY2hlZHVsZVBlcmlvZCkgPT09IG51bGwgfHwgX3RoaXMkc2NoZWR1bGVQZXJpb2QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzY2hlZHVsZVBlcmlvZDJbMV0pICE9PSBudWxsICYmIF90aGlzJHNjaGVkdWxlUGVyaW9kJDIgIT09IHZvaWQgMCA/IF90aGlzJHNjaGVkdWxlUGVyaW9kJDIgOiBudWxsOwoKICAgICAgLy8gdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdCA9IHRoaXMuYXJ0aWNsZS5jdXN0b21EYXRlID8gdGhpcy5hcnRpY2xlLmN1c3RvbURhdGUgKyAiVDAwOjAwOjAwIiA6IHRoaXMuYXJ0aWNsZS5jcmVhdGVkQXQ7CiAgICAgIHRoaXMuYXJ0aWNsZS5hcnRpY2xlQXR0YWNobWVudHMgPSB0aGlzLmF0dGFjaGVkRmlsZXM7CiAgICAgIGFydGljbGVBcGkuc2F2ZSh0aGlzLmFydGljbGUsIHRoaXMuZmlsZXMpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIGlmICh0aGlzLmFydGljbGUuaWQpIHsKICAgICAgICAgICAgYWxlcnQoIuyImOygleuQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCLrk7HroZ3rkJjsl4jsirXri4jri6QuIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmdvTGlzdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiRXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyQkc3RvcmUkZ2V0dGVycyQyLCBfdGhpcyQkc3RvcmUkZ2V0dGVyczI7CiAgICB0aGlzLmFydGljbGUud3JpdGVyID0gKF90aGlzJCRzdG9yZSRnZXR0ZXJzJDIgPSAoX3RoaXMkJHN0b3JlJGdldHRlcnMyID0gdGhpcy4kc3RvcmUuZ2V0dGVycykgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlJGdldHRlcnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkZ2V0dGVyczJbJ3VzZXIvbmFtZSddKSAhPT0gbnVsbCAmJiBfdGhpcyQkc3RvcmUkZ2V0dGVycyQyICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkZ2V0dGVycyQyIDogJyc7CiAgICBib2FyZEFwaS5maW5kQnlJZCh0aGlzLmJvYXJkSWQpLnRoZW4oYXN5bmMgZGF0YSA9PiB7CiAgICAgIGlmICghdGhpcy5hcnRpY2xlSWQpIHsKICAgICAgICB0aGlzLnBlcm1pc3Npb24gPSBhd2FpdCBib2FyZEFwaS5maW5kQXNzaWduZWRQZXJtaXNzaW9uSWQodGhpcy5ib2FyZElkKTsKICAgICAgICBpZiAoIXRoaXMucGVybWlzc2lvbi53cml0YWJsZSkgewogICAgICAgICAgYWxlcnQoIuyekeyEsSDqtoztlZzsnbQg7JeG7Iq164uI64ukLiIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5ib2FyZCA9IGRhdGE7CiAgICAgIHRoaXMuZHJvcHpvbmVPcHRpb25zLnVybCA9IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEl9L2JvYXJkLyR7dGhpcy4kcm91dGUucGFyYW1zLmlkfS9hcnRpY2xlL3VwbG9hZC9pbWFnZWA7CiAgICAgIC8vIHRoaXMucGVybWlzc2lvbi53cml0YWJsZSA9IGdldFBlcm1pc3Npb24odGhpcy5ib2FyZC5ib2FyZFBlcm1pc3Npb25zLCB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyKQogICAgfSk7CgogICAgaWYgKHRoaXMuYXJ0aWNsZUlkKSB7CiAgICAgIHRoaXMucGVybWlzc2lvbiA9IGF3YWl0IGJvYXJkQXBpLmZpbmRBc3NpZ25lZFBlcm1pc3Npb25JZCh0aGlzLmJvYXJkSWQsIHsKICAgICAgICBhcnRpY2xlSWQ6IHRoaXMuYXJ0aWNsZUlkCiAgICAgIH0pOwogICAgICBpZiAoIXRoaXMucGVybWlzc2lvbi51cGRhdGFibGUpIHsKICAgICAgICBhbGVydCgi7IiY7KCVIOq2jO2VnOydtCDsl4bsirXri4jri6QuIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGFydGljbGVBcGkuZmluZEJ5SWQodGhpcy5ib2FyZElkLCB0aGlzLmFydGljbGVJZCkudGhlbihhc3luYyBkYXRhID0+IHsKICAgICAgICAvLyB0aGlzLnBlcm1pc3Npb24udXBkYXRhYmxlID0gdGhpcy5wZXJtaXNzaW9uLnVwZGF0YWxlIHx8IHRoaXMucGVybWlzc2lvbi53cml0YWJsZSAmJiB0aGlzLmFydGljbGUuY3JlYXRlZEJ5ID09PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkCgogICAgICAgIHRoaXMuYXJ0aWNsZSA9IGRhdGE7CgogICAgICAgIC8vIHRoaXMuYXJ0aWNsZS5jdXN0b21EYXRlID0gdGhpcy5hcnRpY2xlLmNyZWF0ZWRBdC5zdWJzdHIoMCwxMCk7CgogICAgICAgIHRoaXMuYXR0YWNoZWRGaWxlcyA9IF8uY2xvbmVEZWVwKHRoaXMuYXJ0aWNsZS5hcnRpY2xlQXR0YWNobWVudHMpOwoKICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgIHRoaXMucGVyaW9kID0gW3RoaXMuYXJ0aWNsZS5zdGFydER0LCB0aGlzLmFydGljbGUuZW5kRHRdLmZpbHRlcihkID0+IGQgIT09IG51bGwpOwogICAgICAgIHRoaXMuc2NoZWR1bGVQZXJpb2QgPSBbdGhpcy5hcnRpY2xlLnNjaGVkdWxlU3RhcnREdCwgdGhpcy5hcnRpY2xlLnNjaGVkdWxlRW5kRHRdLmZpbHRlcihkID0+IGQgIT09IG51bGwpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";AA0MA;AACA;;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAEA;EACAA;EACAC;IACA;IACA;IACAC;IACA;IACA;EACA;;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;IACAC;MACAC;MACAC;MACAC;IACA;IACAC;IACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACA;QACA;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MACAC;QACA;QACA;MACA;MACAC;QACA;UACA;QACA;MACA;IACA;IACAC;MACA,QACA;QACAC;QACAC;QACAC;MACA,GACA;QACAF;MACA,EACA;IACA;EACA;EACAG;IACAC;MACA;MACA;MACA;MACA;IACA;;IACAC;MACA;MACA;MACA,+CACA;IACA;IACAC;MACA;IACA;IACAC;MACA,0BACA,uBACA,cACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;QACA;QACA;MACA;IACA;IACAC;MACA;QAAAC;MAAA;IACA;IACA;MAAA;MAEA,gDACA;MAEA;MACA;;MAEA;MACA;MACA;MAEA;MACA;;MAEA;MACA;MACAF;QACA;UACA;YACAG;UACA;YACAA;UACA;UACA;QACA;UACAA;QACA;MACA;IACA;EAEA;EACA;IAAA;IACA;IAEAC;MAEA;QACA;QAEA;UACAD;UACA;UACA;QACA;MACA;MAEA;MACA;MACA;IAEA;;IAEA;MAEA;QAAAxD;MAAA;MACA;QACAwD;QACA;MACA;MAEAH;QAEA;;QAEA;;QAEA;;QAEA;;QAEA;QACA;QACA;MAEA;IACA;EAEA;AACA","names":["name","components","EditorQuill","props","userId","articleId","boardId","data","staticattachmentPath","rules","required","length12","iso8601","board","article","title","contents","writer","always","customDate","period","schedulePeriod","imageFileUrl","endPoint","fileMeta","files","selectedFiles","attachedFiles","permission","computed","dropzoneOptions","url","thumbnailWidth","maxFilesize","maxFiles","acceptedFileTypes","headers","uploadMultiple","clickable","addRemoveLinks","createdAt","get","set","breadcrumbs","text","to","exact","methods","setMainImage","thumbnailSuccess","thumbnailRemove","appendFile","clearAllFile","removeFile","removeAttachedFile","resetAttachedFiles","deleteAttachedFiles","uploadImage","articleApi","goList","path","alert","boardApi"],"sourceRoot":"src/apps/article","sources":["ArticleForm.vue"],"sourcesContent":["<template>\n\n  <div class=\"flex-grow-1\">\n    <div class=\"d-flex align-center py-3\">\n      <div>\n        <div class=\"display-1\" v-if=\"articleId\">{{ board.boardName }} {{ article.title && `- ${article.title}` }} 수정</div>\n\n        <div class=\"display-1\" v-else>{{ board.boardName }} 게시물 생성</div>\n        <v-breadcrumbs :items=\"breadcrumbs\" class=\"pa-0 py-2\"></v-breadcrumbs>\n      </div>\n      <v-spacer></v-spacer>\n      <!--        <v-btn icon>-->\n      <!--          <v-icon>mdi-refresh</v-icon>-->\n      <!--        </v-btn>-->\n      <v-btn color=\"indigo\" @click=\"save\" dark  v-if=\"(this.article.id && permission.updatable) || !this.article.id && permission.writable\">\n        <v-icon left>mdi mdi-content-save</v-icon>\n        저장\n      </v-btn>\n      <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n        <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n        목록\n      </v-btn>\n    </div>\n\n    <v-card class=\"my-2\">\n      <v-card-title>게시물 정보</v-card-title>\n      <v-card-text>\n        <v-form ref=\"formArticle\">\n          <v-row dense class=\"pa-2 align-center d-flex\">\n\n            <v-col v-if=\"board.boardCategories && board.boardCategories.length > 0\">\n              <v-select :items=\"board.boardCategories\" item-value=\"id\" item-text=\"categoryName\"\n                        v-model=\"article.categoryId\"\n                        clearable outlined flat label=\"카테고리\" :rules=\"[rules.required]\"\n                        />\n            </v-col>\n\n            <v-col >\n              <v-text-field v-model=\"article.title\" :rules=\"[rules.required]\" label=\"제목\" maxlength=\"120\" dense/>\n            </v-col>\n\n            <v-col class=\"d-flex\" v-if=\"board && board.hasNotice\">\n              <v-switch\n                v-model=\"article.notice\"\n                flat\n                dense\n                color=\"amber\"\n                class=\"custom-red\"\n                :label=\"article.notice ? '공지사항' : '일반게시물'\"\n                v-if=\"board.hasNotice\"\n              ></v-switch>\n              <v-spacer style=\"max-width: 10px\"/>\n              <v-switch\n                v-if=\"article.notice && board.hasPeriod\"\n                v-model=\"article.always\"\n                flat\n                color=\"primary\"\n                :label=\"article.always ? '상시노출' : '기간제한'\"\n              ></v-switch>\n              <v-spacer style=\"max-width: 10px\"/>\n\n              <date-range-component v-if=\"!article.always && article.notice\"\n                                    v-on:event=\"searchDate => period = searchDate\" label=\"공지 시작일 ~ 종료일\"\n                                    :value=\"period\" :rules=\"[rules.required, rules.length12]\"></date-range-component>\n            </v-col>\n          </v-row>\n          <v-row dense class=\"pa-2 align-center\">\n            <v-col cols=\"4\">\n              <v-text-field v-model=\"article.writer\" label=\"작성자명\" :rules=\"[rules.required]\" dense flat :readonly=\"!permission.boardAdmin\"/>\n            </v-col>\n            <v-col cols=\"8\" v-if=\"permission.boardAdmin\">\n              <v-text-field v-model=\"createdAt\" label=\"작성일 YYYY-MM-DD (수정시 입력)\" :rules=\"[rules.iso8601]\" placeholder=\"YYYY-MM-DD\" dense\n                            flat/>\n            </v-col>\n\n            <v-col cols=\"12\" md=\"12\"\n                   v-if=\"article.articleAttachments && article.id && board.boardType === 'TYPE_PHOTO'\">\n              대표 이미지 설정\n              <div class=\"d-flex\">\n                <div\n                  v-for=\"img in article.articleAttachments.filter(a => a.contentType.indexOf('image') === 0)\"\n                  :key=\"img.id\"\n                  style=\"padding: 30px 5px 30px 5px;\"\n                >\n                  <v-card\n                    class=\"mx-auto\"\n                    style=\"cursor: pointer; overflow: hidden\"\n                    max-width=\"100\"\n                    max-height=\"100\"\n                    @click=\"setMainImage(img.id)\"\n                  >\n                    <v-overlay\n                      v-if=\"img.mainImage\"\n                      absolute\n                      color=\"#036358\"\n                    >\n                      <v-icon color=\"red\">\n                        mdi-image-album\n                      </v-icon>\n                    </v-overlay>\n                    <v-img :src=\"`/attachment/${img.fileContextPath}${img.fileServerName}`\"/>\n                  </v-card>\n                  <!--              <v-img-->\n                  <!--                  :src=\"`/attachment/${img.fileContextPath}${img.thumbnail}`\"-->\n                  <!--                  :lazy-src=\"`${img.fileContextPath}${img.thumbnail}`\"-->\n                  <!--                  aspect-ratio=\"1\"-->\n                  <!--                  max-height=\"100\"-->\n                  <!--                  max-width=\"100\"-->\n                  <!--                  class=\"grey lighten-2\"-->\n                  <!--                  style=\"cursor: pointer\"-->\n                  <!--                  v-if=\"img.contentType.indexOf('image') === 0\"-->\n                  <!--                  @click=\"setMainImage(img.id)\"-->\n                  <!--              >-->\n                  <!--                <v-icon color=\"yellow\" v-if=\"img.mainImage\" style=\"position: absolute\">mdi-image-album</v-icon>-->\n                  <!--                <img :src=\"`/attachment/${img.fileContextPath}${img.fileServerName}`\"/>-->\n                  <!--              </v-img>-->\n                </div>\n              </div>\n            </v-col>\n\n            <v-col cols=\"12\" md=\"12\">\n              <editor-quill :val=\"article.contents\" ref=\"contents\"/>\n            </v-col>\n            <v-col cols=\"12\" md=\"12\" v-if=\"board.hasAttachment\">\n              <v-file-input\n                v-model=\"files\"\n                label=\"다중 파일 선택\"\n                multiple\n                prepend-icon=\"mdi-paperclip\"\n                @change=\"appendFile\"\n                @click:clear=\"clearAllFile\"\n              >\n                <template v-slot:selection=\"{ text, file }\">\n                  <v-chip\n                    small\n                    label\n                    color=\"primary\"\n                    close @click:close=\"removeFile(file)\"\n                  >\n                    {{ text }}\n                  </v-chip>\n                </template>\n              </v-file-input>\n              <div v-if=\"article.articleAttachments && article.id\">\n                <h4>첨부 완료 파일</h4>\n\n                <v-chip v-for=\"f in attachedFiles\" v-bind:key=\"f.id\" class=\"ma-2\" close\n                        @click:close=\"removeAttachedFile(f)\">\n                  <v-tooltip bottom v-if=\"f.contentType.indexOf('image') === 0\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <span\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                      >\n                        <v-icon>mdi-image</v-icon>\n                        {{ f.fileRealName }}\n                      </span>\n                    </template>\n\n                    <span>\n                      <v-img :src=\"`${staticattachmentPath}${f.fileContextPath}${f.thumbnail}`\" max-height=\"200\" max-width=\"200\"/>\n                    </span>\n                  </v-tooltip>\n                  <span v-else>{{ f.fileRealName }}</span>\n                </v-chip>\n\n                <div class=\"btnStyleBx\">\n                  <div class=\"btnCommon justify-center\">\n                    <v-btn color=\"red\" dark @click=\"deleteAttachedFiles\">\n                      <v-icon left>mdi mdi-delete</v-icon>\n                      첨부 완료 파일 전체 삭제\n                    </v-btn>\n                    <v-btn @click=\"resetAttachedFiles\" style=\"margin-left: 1rem\">\n                      <v-icon left>mdi mdi-reload</v-icon>\n                      삭제 취소\n                    </v-btn>\n                  </div>\n                </div>\n              </div>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-card-text>\n    </v-card>\n    <div class=\"flex-grow-1\">\n      <div class=\"d-flex align-center py-3\">\n        <v-spacer></v-spacer>\n        <v-btn color=\"indigo\" @click=\"save\" dark v-if=\"(this.article.id && permission.updatable) || !this.article.id && permission.writable\">\n          <v-icon left>mdi mdi-content-save</v-icon>\n          저장\n        </v-btn>\n        <v-btn @click=\"goList()\" style=\"margin-left: 1rem\">\n          <v-icon left>mdi mdi-format-list-bulleted</v-icon>\n          목록\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport articleApi from '@/api/ArticleApi'\nimport boardApi from '@/api/BoardApi'\n\n// import EditorComponent from \"../component/EditorComponent\";\n// import EditorTiptap from \"@/views/component/EditorTiptapComponent\";\nimport EditorQuill from \"@/components/editor/EditorQuillComponent\";\n\nimport DateRageComponent from \"@/components/date/DateRageComponent\";\n\nimport _ from 'lodash';\n// import vue2Dropzone from 'vue2-dropzone'\n// import 'vue2-dropzone/dist/vue2Dropzone.min.css'\n\nexport default {\n  name: \"ArticleForm\",\n  components: {\n    // 'editor-component': EditorComponent,\n    // EditorTiptap,\n    EditorQuill,\n    'date-range-component': DateRageComponent,\n    // vueDropzone: vue2Dropzone\n  },\n  props: {\n    userId: String,\n    articleId: String,\n    boardId: String\n  },\n  data: () => ({\n    staticattachmentPath:process.env.VUE_APP_ATTACH_STATIC_PATH,\n    rules: {\n      required: value => !!value || '필수 입력 항목입니다..',\n      length12: value => value && value.length > 12 || '필수 입력 항목입니다.',\n      iso8601: value => (!value || !!/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value)) || '날짜 형식이 아닙니다.'\n    },\n    board: {},\n    article: {\n      title: null,\n      contents: null,\n      writer: null,\n      always: true,\n      customDate: null\n    },\n    period: [],\n    schedulePeriod: [],\n    imageFileUrl: null,\n    endPoint: process.env.VUE_APP_ATTACH_FILE_SERVER_URL,\n    fileMeta: {},\n    files: [],\n    selectedFiles: [],\n    attachedFiles: [],\n    permission: {}\n  }),\n  computed: {\n    dropzoneOptions() {\n      return {\n        url: '',\n        thumbnailWidth: 150,\n        maxFilesize: 0.5,\n        maxFiles: 2,\n        acceptedFileTypes: \"image/*\",\n        headers: {\n          'Authorization': `bearer ${this?.$store?.getters?.token ?? ''}`\n        },\n        uploadMultiple: false,\n        clickable: true,\n        addRemoveLinks: true\n      }\n    },\n    createdAt: {\n      get() {\n        // return this.article.createdAt ? this.article.createdAt.substr(0, 10) : this.$moment().format(\"YYYY-MM-DD\");\n        return this.article.createdAt ? this.$moment(this.article.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"YYYY-MM-DD\") : this.$moment().format(\"YYYY-MM-DD\");\n      },\n      set(value) {\n        if(value.length === 10 && this.$moment(value, \"YYYY-MM-DD\").isValid()) {\n          this.article.createdAt = value ? value + \"T\" + (this.article.createdAt ? this.$moment(this.article.createdAt, \"YYYY-MM-DD[T]HH:mm:ss\").format(\"HH:mm:ss\") : \"00:00:00\") : this.article.createdAt;\n        }\n      }\n    },\n    breadcrumbs() {\n      return [\n        {\n          text: '게시물 관리',\n          to: `/boards/${this.boardId}/articles`,\n          exact: true\n        },\n        {\n          text: this.articleId ? '게시물 수정' : '게시물 생성'\n        }\n      ]\n    },\n  },\n  methods: {\n    setMainImage(fileId) {\n      this.article.mainImageId = fileId;\n      this.article.articleAttachments.forEach(a => a.mainImage = false);\n      this.article.articleAttachments.filter(a => a.id === fileId)[0].mainImage = true;\n      // img.mainImage = !img.mainImage\n    },\n    thumbnailSuccess(file, response) {\n      this.article.thumbnail = response.saveName;\n      const acceptedFiles = this.$refs.articleThumbnailDropzone.getAcceptedFiles();\n      if (acceptedFiles && acceptedFiles.length > 1)\n        this.$refs.articleThumbnailDropzone.removeFile(acceptedFiles[0]);\n    },\n    thumbnailRemove() {\n      this.article.thumbnail = null;\n    },\n    appendFile() {\n      this.files = [...new Set([\n        ...this.selectedFiles,\n        ...this.files\n      ])]\n      this.selectedFiles = _.cloneDeep(this.files);\n    },\n    clearAllFile() {\n      this.files = [];\n      this.selectedFiles = [];\n    },\n    removeFile(removeFile) {\n      this.files = this.files.filter(f => f !== removeFile);\n      this.selectedFiles = _.cloneDeep(this.files);\n    },\n    removeAttachedFile(attachedFile) {\n      this.attachedFiles = this.attachedFiles.filter(f => f.id !== attachedFile.id);\n    },\n    resetAttachedFiles() {\n      this.attachedFiles = this.article.articleAttachments;\n    },\n    deleteAttachedFiles() {\n      this.attachedFiles = []\n    },\n    uploadImage(f) {\n      articleApi.uploadImage(this.$route.params.id, f).then(res => {\n        // console.log(res);\n        this.fileMeta = res;\n      });\n    },\n    goList() {\n      this.$router.push({path: `/boards/${this.boardId}/articles`})\n    },\n    async save() {\n\n      if (!await this.$refs.formArticle.validate())\n        return;\n\n      this.article.boardId = this.board.id;\n      this.article.contents = this.$refs.contents.getValue();\n\n      // console.log(this.period);\n      this.article.startDt = this.period?.[0] ?? null;\n      this.article.endDt = this.period?.[1] ?? null;\n\n      this.article.scheduleStartDt = this.schedulePeriod?.[0] ?? null;\n      this.article.scheduleEndDt = this.schedulePeriod?.[1] ?? null;\n\n      // this.article.createdAt = this.article.customDate ? this.article.customDate + \"T00:00:00\" : this.article.createdAt;\n      this.article.articleAttachments = this.attachedFiles;\n      articleApi.save(this.article, this.files).then(data => {\n        if (data) {\n          if (this.article.id) {\n            alert(\"수정되었습니다.\");\n          } else {\n            alert(\"등록되었습니다.\");\n          }\n          this.goList();\n        } else {\n          alert(\"Error\");\n        }\n      });\n    }\n\n  },\n  async created() {\n    this.article.writer = this.$store.getters?.['user/name'] ?? '';\n\n    boardApi.findById(this.boardId).then(async data => {\n\n      if (!this.articleId) {\n        this.permission = await boardApi.findAssignedPermissionId(this.boardId)\n\n        if(!this.permission.writable) {\n          alert(\"작성 권한이 없습니다.\")\n          this.$router.go(-1)\n          return\n        }\n      }\n\n      this.board = data;\n      this.dropzoneOptions.url = `${process.env.VUE_APP_BASE_API}/board/${this.$route.params.id}/article/upload/image`;\n      // this.permission.writable = getPermission(this.board.boardPermissions, this.$store.state.user)\n\n    });\n\n    if (this.articleId) {\n\n      this.permission = await boardApi.findAssignedPermissionId(this.boardId, {articleId: this.articleId})\n      if(!this.permission.updatable) {\n        alert(\"수정 권한이 없습니다.\")\n        return\n      }\n\n      articleApi.findById(this.boardId, this.articleId).then(async data => {\n\n        // this.permission.updatable = this.permission.updatale || this.permission.writable && this.article.createdBy === this.$store.state.user.id\n\n        this.article = data;\n\n        // this.article.customDate = this.article.createdAt.substr(0,10);\n\n        this.attachedFiles = _.cloneDeep(this.article.articleAttachments);\n\n        // console.log(data)\n        this.period = [this.article.startDt, this.article.endDt].filter(d => d !== null);\n        this.schedulePeriod = [this.article.scheduleStartDt, this.article.scheduleEndDt].filter(d => d !== null);\n\n      });\n    }\n\n  }\n}\n</script>\n"]}]}